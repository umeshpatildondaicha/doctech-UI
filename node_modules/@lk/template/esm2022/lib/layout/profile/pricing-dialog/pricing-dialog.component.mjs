import { Component, Inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ReactiveFormsModule, Validators } from '@angular/forms';
import { MatDialogModule, MAT_DIALOG_DATA } from '@angular/material/dialog';
import { MatFormFieldModule } from '@angular/material/form-field';
import { MatInputModule } from '@angular/material/input';
import { MatCheckboxModule } from '@angular/material/checkbox';
import { MatButtonModule } from '@angular/material/button';
import { MatIconModule } from '@angular/material/icon';
import { AppInputComponent, AppButtonComponent } from '@lk/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@angular/material/dialog";
import * as i3 from "@angular/common";
import * as i4 from "@angular/material/checkbox";
import * as i5 from "@angular/material/button";
import * as i6 from "@angular/material/icon";
export class PricingDialogComponent {
    constructor(fb, dialogRef, data) {
        this.fb = fb;
        this.dialogRef = dialogRef;
        this.data = data;
        this.paymentOptions = ['Cash', 'Credit Card', 'Insurance', 'Online Payment'];
        this.form = this.fb.group({
            consultationFee: [data?.consultationFee ?? '', [Validators.min(0)]],
            followUpFee: [data?.followUpFee ?? '', [Validators.min(0)]],
            emergencyFee: [data?.emergencyFee ?? '', [Validators.min(0)]],
            onlineConsultationFee: [data?.onlineConsultationFee ?? '', [Validators.min(0)]],
            insuranceAccepted: [data?.insuranceAccepted ?? false],
            paymentMethods: [data?.paymentMethods ?? []]
        });
    }
    togglePaymentMethod(option) {
        const current = this.form.get('paymentMethods')?.value || [];
        const exists = current.includes(option);
        const updated = exists ? current.filter(m => m !== option) : [...current, option];
        this.form.patchValue({ paymentMethods: updated });
    }
    isPaymentSelected(option) {
        const current = this.form.get('paymentMethods')?.value || [];
        return current.includes(option);
    }
    onCancel() {
        this.dialogRef.close();
    }
    onSave() {
        if (this.form.invalid)
            return;
        this.dialogRef.close(this.form.value);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PricingDialogComponent, deps: [{ token: i1.FormBuilder }, { token: i2.MatDialogRef }, { token: MAT_DIALOG_DATA }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: PricingDialogComponent, isStandalone: true, selector: "app-pricing-dialog", ngImport: i0, template: "<h2 mat-dialog-title>Manage Fees & Payment Options</h2>\n\n<div mat-dialog-content>\n  <form [formGroup]=\"form\" class=\"dialog-form\">\n    <div class=\"grid\">\n      <app-input\n        label=\"Regular Consultation Fee ($)\"\n        placeholder=\"Enter consultation fee\"\n        type=\"number\"\n        formControlName=\"consultationFee\"\n        class=\"form-field\">\n      </app-input>\n\n      <app-input\n        label=\"Follow-up Fee ($)\"\n        placeholder=\"Enter follow-up fee\"\n        type=\"number\"\n        formControlName=\"followUpFee\"\n        class=\"form-field\">\n      </app-input>\n\n      <app-input\n        label=\"Emergency Fee ($)\"\n        placeholder=\"Enter emergency fee\"\n        type=\"number\"\n        formControlName=\"emergencyFee\"\n        class=\"form-field\">\n      </app-input>\n\n      <app-input\n        label=\"Online Consultation Fee ($)\"\n        placeholder=\"Enter online consultation fee\"\n        type=\"number\"\n        formControlName=\"onlineConsultationFee\"\n        class=\"form-field\">\n      </app-input>\n    </div>\n\n    <div class=\"section\">\n      <mat-checkbox formControlName=\"insuranceAccepted\">Accept Insurance</mat-checkbox>\n    </div>\n\n    <div class=\"section\">\n      <label class=\"form-label\">Payment Methods</label>\n      <div class=\"methods\">\n        <button type=\"button\"\n                class=\"method-chip\"\n                [class.selected]=\"isPaymentSelected(option)\"\n                *ngFor=\"let option of paymentOptions\"\n                (click)=\"togglePaymentMethod(option)\">\n          <mat-icon *ngIf=\"isPaymentSelected(option)\">check</mat-icon>\n          <span>{{ option }}</span>\n        </button>\n      </div>\n    </div>\n  </form>\n</div>\n\n<div mat-dialog-actions align=\"end\">\n  <button mat-stroked-button (click)=\"onCancel()\">Cancel</button>\n  <button mat-flat-button color=\"primary\" (click)=\"onSave()\" [disabled]=\"form.invalid\">Save</button>\n  \n</div>\n\n\n", styles: [".dialog-form .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.dialog-form .section{margin-top:16px}.dialog-form .methods{display:flex;flex-wrap:wrap;gap:8px}.dialog-form .method-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:16px;border:1px solid var(--border-color);background:var(--surface-color);cursor:pointer;font-size:12px;transition:all .2s ease}.dialog-form .method-chip.selected{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.dialog-form .method-chip:hover{transform:translateY(-1px);box-shadow:0 2px 8px #00000014}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: ReactiveFormsModule }, { kind: "directive", type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i1.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "ngmodule", type: MatDialogModule }, { kind: "directive", type: i2.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { kind: "directive", type: i2.MatDialogActions, selector: "[mat-dialog-actions], mat-dialog-actions, [matDialogActions]", inputs: ["align"] }, { kind: "directive", type: i2.MatDialogContent, selector: "[mat-dialog-content], mat-dialog-content, [matDialogContent]" }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "ngmodule", type: MatInputModule }, { kind: "ngmodule", type: MatCheckboxModule }, { kind: "component", type: i4.MatCheckbox, selector: "mat-checkbox", inputs: ["aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "disableRipple", "tabIndex", "color", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { kind: "ngmodule", type: MatButtonModule }, { kind: "component", type: i5.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i6.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "component", type: AppInputComponent, selector: "app-input", inputs: ["type", "placeholder", "value", "disabled", "required", "appearance", "label", "errorMessage", "multiline", "rows", "prefixIconName", "prefixIconSize", "suffixIconName", "suffixIconSize", "search", "searchUrl"], outputs: ["valueChange", "searchResults"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PricingDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-pricing-dialog', standalone: true, imports: [
                        CommonModule,
                        ReactiveFormsModule,
                        MatDialogModule,
                        MatFormFieldModule,
                        MatInputModule,
                        MatCheckboxModule,
                        MatButtonModule,
                        MatIconModule,
                        AppInputComponent,
                        AppButtonComponent
                    ], template: "<h2 mat-dialog-title>Manage Fees & Payment Options</h2>\n\n<div mat-dialog-content>\n  <form [formGroup]=\"form\" class=\"dialog-form\">\n    <div class=\"grid\">\n      <app-input\n        label=\"Regular Consultation Fee ($)\"\n        placeholder=\"Enter consultation fee\"\n        type=\"number\"\n        formControlName=\"consultationFee\"\n        class=\"form-field\">\n      </app-input>\n\n      <app-input\n        label=\"Follow-up Fee ($)\"\n        placeholder=\"Enter follow-up fee\"\n        type=\"number\"\n        formControlName=\"followUpFee\"\n        class=\"form-field\">\n      </app-input>\n\n      <app-input\n        label=\"Emergency Fee ($)\"\n        placeholder=\"Enter emergency fee\"\n        type=\"number\"\n        formControlName=\"emergencyFee\"\n        class=\"form-field\">\n      </app-input>\n\n      <app-input\n        label=\"Online Consultation Fee ($)\"\n        placeholder=\"Enter online consultation fee\"\n        type=\"number\"\n        formControlName=\"onlineConsultationFee\"\n        class=\"form-field\">\n      </app-input>\n    </div>\n\n    <div class=\"section\">\n      <mat-checkbox formControlName=\"insuranceAccepted\">Accept Insurance</mat-checkbox>\n    </div>\n\n    <div class=\"section\">\n      <label class=\"form-label\">Payment Methods</label>\n      <div class=\"methods\">\n        <button type=\"button\"\n                class=\"method-chip\"\n                [class.selected]=\"isPaymentSelected(option)\"\n                *ngFor=\"let option of paymentOptions\"\n                (click)=\"togglePaymentMethod(option)\">\n          <mat-icon *ngIf=\"isPaymentSelected(option)\">check</mat-icon>\n          <span>{{ option }}</span>\n        </button>\n      </div>\n    </div>\n  </form>\n</div>\n\n<div mat-dialog-actions align=\"end\">\n  <button mat-stroked-button (click)=\"onCancel()\">Cancel</button>\n  <button mat-flat-button color=\"primary\" (click)=\"onSave()\" [disabled]=\"form.invalid\">Save</button>\n  \n</div>\n\n\n", styles: [".dialog-form .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.dialog-form .section{margin-top:16px}.dialog-form .methods{display:flex;flex-wrap:wrap;gap:8px}.dialog-form .method-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:16px;border:1px solid var(--border-color);background:var(--surface-color);cursor:pointer;font-size:12px;transition:all .2s ease}.dialog-form .method-chip.selected{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.dialog-form .method-chip:hover{transform:translateY(-1px);box-shadow:0 2px 8px #00000014}\n"] }]
        }], ctorParameters: () => [{ type: i1.FormBuilder }, { type: i2.MatDialogRef }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpY2luZy1kaWFsb2cuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY29tbW9uLWxpYnMvdGVtcGxhdGUvc3JjL2xpYi9sYXlvdXQvcHJvZmlsZS9wcmljaW5nLWRpYWxvZy9wcmljaW5nLWRpYWxvZy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9jb21tb24tbGlicy90ZW1wbGF0ZS9zcmMvbGliL2xheW91dC9wcm9maWxlL3ByaWNpbmctZGlhbG9nL3ByaWNpbmctZGlhbG9nLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2xELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQTBCLG1CQUFtQixFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3pGLE9BQU8sRUFBRSxlQUFlLEVBQWdCLGVBQWUsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQzFGLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDM0QsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLFVBQVUsQ0FBQzs7Ozs7Ozs7QUE2QmpFLE1BQU0sT0FBTyxzQkFBc0I7SUFJakMsWUFDVSxFQUFlLEVBQ2YsU0FBK0MsRUFDdkIsSUFBdUI7UUFGL0Ms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QWE7d0JBQ2IsaUJBQWlCO3dCQUNqQixrQkFBa0I7cUJBQ25COzswQkFXRSxNQUFNOzJCQUFDLGVBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEZvcm1CdWlsZGVyLCBGb3JtR3JvdXAsIFJlYWN0aXZlRm9ybXNNb2R1bGUsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBNYXREaWFsb2dNb2R1bGUsIE1hdERpYWxvZ1JlZiwgTUFUX0RJQUxPR19EQVRBIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcbmltcG9ydCB7IE1hdEZvcm1GaWVsZE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2Zvcm0tZmllbGQnO1xuaW1wb3J0IHsgTWF0SW5wdXRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9pbnB1dCc7XG5pbXBvcnQgeyBNYXRDaGVja2JveE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2NoZWNrYm94JztcbmltcG9ydCB7IE1hdEJ1dHRvbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbic7XG5pbXBvcnQgeyBNYXRJY29uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvaWNvbic7XG5pbXBvcnQgeyBBcHBJbnB1dENvbXBvbmVudCwgQXBwQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnQGxrL2NvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByaWNpbmdEaWFsb2dEYXRhIHtcbiAgY29uc3VsdGF0aW9uRmVlOiBudW1iZXIgfCBzdHJpbmcgfCBudWxsO1xuICBmb2xsb3dVcEZlZTogbnVtYmVyIHwgc3RyaW5nIHwgbnVsbDtcbiAgZW1lcmdlbmN5RmVlOiBudW1iZXIgfCBzdHJpbmcgfCBudWxsO1xuICBvbmxpbmVDb25zdWx0YXRpb25GZWU6IG51bWJlciB8IHN0cmluZyB8IG51bGw7XG4gIGluc3VyYW5jZUFjY2VwdGVkOiBib29sZWFuO1xuICBwYXltZW50TWV0aG9kczogc3RyaW5nW107XG59XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FwcC1wcmljaW5nLWRpYWxvZycsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICBNYXREaWFsb2dNb2R1bGUsXG4gICAgTWF0Rm9ybUZpZWxkTW9kdWxlLFxuICAgIE1hdElucHV0TW9kdWxlLFxuICAgIE1hdENoZWNrYm94TW9kdWxlLFxuICAgIE1hdEJ1dHRvbk1vZHVsZSxcbiAgICBNYXRJY29uTW9kdWxlLFxuICAgIEFwcElucHV0Q29tcG9uZW50LFxuICAgIEFwcEJ1dHRvbkNvbXBvbmVudFxuICBdLFxuICB0ZW1wbGF0ZVVybDogJy4vcHJpY2luZy1kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9wcmljaW5nLWRpYWxvZy5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFByaWNpbmdEaWFsb2dDb21wb25lbnQge1xuICBmb3JtOiBGb3JtR3JvdXA7XG4gIHJlYWRvbmx5IHBheW1lbnRPcHRpb25zID0gWydDYXNoJywgJ0NyZWRpdCBDYXJkJywgJ0luc3VyYW5jZScsICdPbmxpbmUgUGF5bWVudCddO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyLFxuICAgIHByaXZhdGUgZGlhbG9nUmVmOiBNYXREaWFsb2dSZWY8UHJpY2luZ0RpYWxvZ0NvbXBvbmVudD4sXG4gICAgQEluamVjdChNQVRfRElBTE9HX0RBVEEpIHB1YmxpYyBkYXRhOiBQcmljaW5nRGlhbG9nRGF0YVxuICApIHtcbiAgICB0aGlzLmZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcbiAgICAgIGNvbnN1bHRhdGlvbkZlZTogW2RhdGE/LmNvbnN1bHRhdGlvbkZlZSA/PyAnJywgW1ZhbGlkYXRvcnMubWluKDApXV0sXG4gICAgICBmb2xsb3dVcEZlZTogW2RhdGE/LmZvbGxvd1VwRmVlID8/ICcnLCBbVmFsaWRhdG9ycy5taW4oMCldXSxcbiAgICAgIGVtZXJnZW5jeUZlZTogW2RhdGE/LmVtZXJnZW5jeUZlZSA/PyAnJywgW1ZhbGlkYXRvcnMubWluKDApXV0sXG4gICAgICBvbmxpbmVDb25zdWx0YXRpb25GZWU6IFtkYXRhPy5vbmxpbmVDb25zdWx0YXRpb25GZWUgPz8gJycsIFtWYWxpZGF0b3JzLm1pbigwKV1dLFxuICAgICAgaW5zdXJhbmNlQWNjZXB0ZWQ6IFtkYXRhPy5pbnN1cmFuY2VBY2NlcHRlZCA/PyBmYWxzZV0sXG4gICAgICBwYXltZW50TWV0aG9kczogW2RhdGE/LnBheW1lbnRNZXRob2RzID8/IFtdXVxuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlUGF5bWVudE1ldGhvZChvcHRpb246IHN0cmluZykge1xuICAgIGNvbnN0IGN1cnJlbnQ6IHN0cmluZ1tdID0gdGhpcy5mb3JtLmdldCgncGF5bWVudE1ldGhvZHMnKT8udmFsdWUgfHwgW107XG4gICAgY29uc3QgZXhpc3RzID0gY3VycmVudC5pbmNsdWRlcyhvcHRpb24pO1xuICAgIGNvbnN0IHVwZGF0ZWQgPSBleGlzdHMgPyBjdXJyZW50LmZpbHRlcihtID0+IG0gIT09IG9wdGlvbikgOiBbLi4uY3VycmVudCwgb3B0aW9uXTtcbiAgICB0aGlzLmZvcm0ucGF0Y2hWYWx1ZSh7IHBheW1lbnRNZXRob2RzOiB1cGRhdGVkIH0pO1xuICB9XG5cbiAgaXNQYXltZW50U2VsZWN0ZWQob3B0aW9uOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBjdXJyZW50OiBzdHJpbmdbXSA9IHRoaXMuZm9ybS5nZXQoJ3BheW1lbnRNZXRob2RzJyk/LnZhbHVlIHx8IFtdO1xuICAgIHJldHVybiBjdXJyZW50LmluY2x1ZGVzKG9wdGlvbik7XG4gIH1cblxuICBvbkNhbmNlbCgpIHtcbiAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZSgpO1xuICB9XG5cbiAgb25TYXZlKCkge1xuICAgIGlmICh0aGlzLmZvcm0uaW52YWxpZCkgcmV0dXJuO1xuICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKHRoaXMuZm9ybS52YWx1ZSk7XG4gIH1cbn1cblxuXG4iLCI8aDIgbWF0LWRpYWxvZy10aXRsZT5NYW5hZ2UgRmVlcyAmIFBheW1lbnQgT3B0aW9uczwvaDI+XG5cbjxkaXYgbWF0LWRpYWxvZy1jb250ZW50PlxuICA8Zm9ybSBbZm9ybUdyb3VwXT1cImZvcm1cIiBjbGFzcz1cImRpYWxvZy1mb3JtXCI+XG4gICAgPGRpdiBjbGFzcz1cImdyaWRcIj5cbiAgICAgIDxhcHAtaW5wdXRcbiAgICAgICAgbGFiZWw9XCJSZWd1bGFyIENvbnN1bHRhdGlvbiBGZWUgKCQpXCJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBjb25zdWx0YXRpb24gZmVlXCJcbiAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgIGZvcm1Db250cm9sTmFtZT1cImNvbnN1bHRhdGlvbkZlZVwiXG4gICAgICAgIGNsYXNzPVwiZm9ybS1maWVsZFwiPlxuICAgICAgPC9hcHAtaW5wdXQ+XG5cbiAgICAgIDxhcHAtaW5wdXRcbiAgICAgICAgbGFiZWw9XCJGb2xsb3ctdXAgRmVlICgkKVwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgZm9sbG93LXVwIGZlZVwiXG4gICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJmb2xsb3dVcEZlZVwiXG4gICAgICAgIGNsYXNzPVwiZm9ybS1maWVsZFwiPlxuICAgICAgPC9hcHAtaW5wdXQ+XG5cbiAgICAgIDxhcHAtaW5wdXRcbiAgICAgICAgbGFiZWw9XCJFbWVyZ2VuY3kgRmVlICgkKVwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgZW1lcmdlbmN5IGZlZVwiXG4gICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJlbWVyZ2VuY3lGZWVcIlxuICAgICAgICBjbGFzcz1cImZvcm0tZmllbGRcIj5cbiAgICAgIDwvYXBwLWlucHV0PlxuXG4gICAgICA8YXBwLWlucHV0XG4gICAgICAgIGxhYmVsPVwiT25saW5lIENvbnN1bHRhdGlvbiBGZWUgKCQpXCJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBvbmxpbmUgY29uc3VsdGF0aW9uIGZlZVwiXG4gICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJvbmxpbmVDb25zdWx0YXRpb25GZWVcIlxuICAgICAgICBjbGFzcz1cImZvcm0tZmllbGRcIj5cbiAgICAgIDwvYXBwLWlucHV0PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInNlY3Rpb25cIj5cbiAgICAgIDxtYXQtY2hlY2tib3ggZm9ybUNvbnRyb2xOYW1lPVwiaW5zdXJhbmNlQWNjZXB0ZWRcIj5BY2NlcHQgSW5zdXJhbmNlPC9tYXQtY2hlY2tib3g+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwic2VjdGlvblwiPlxuICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiPlBheW1lbnQgTWV0aG9kczwvbGFiZWw+XG4gICAgICA8ZGl2IGNsYXNzPVwibWV0aG9kc1wiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwibWV0aG9kLWNoaXBcIlxuICAgICAgICAgICAgICAgIFtjbGFzcy5zZWxlY3RlZF09XCJpc1BheW1lbnRTZWxlY3RlZChvcHRpb24pXCJcbiAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgb3B0aW9uIG9mIHBheW1lbnRPcHRpb25zXCJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwidG9nZ2xlUGF5bWVudE1ldGhvZChvcHRpb24pXCI+XG4gICAgICAgICAgPG1hdC1pY29uICpuZ0lmPVwiaXNQYXltZW50U2VsZWN0ZWQob3B0aW9uKVwiPmNoZWNrPC9tYXQtaWNvbj5cbiAgICAgICAgICA8c3Bhbj57eyBvcHRpb24gfX08L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZm9ybT5cbjwvZGl2PlxuXG48ZGl2IG1hdC1kaWFsb2ctYWN0aW9ucyBhbGlnbj1cImVuZFwiPlxuICA8YnV0dG9uIG1hdC1zdHJva2VkLWJ1dHRvbiAoY2xpY2spPVwib25DYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPlxuICA8YnV0dG9uIG1hdC1mbGF0LWJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIiAoY2xpY2spPVwib25TYXZlKClcIiBbZGlzYWJsZWRdPVwiZm9ybS5pbnZhbGlkXCI+U2F2ZTwvYnV0dG9uPlxuICBcbjwvZGl2PlxuXG5cbiJdfQ==