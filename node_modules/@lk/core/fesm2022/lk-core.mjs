import * as i0 from '@angular/core';
import { signal, computed, runInInjectionContext, effect, Injectable, InjectionToken, Optional, Inject, inject, PLATFORM_ID, EventEmitter, forwardRef, Output, Input, Component, Injector, ChangeDetectorRef, ChangeDetectionStrategy, Directive, ContentChild, ViewChild, ContentChildren, Pipe } from '@angular/core';
import * as i1$2 from '@angular/common';
import { isPlatformBrowser, CommonModule, NgClass, NgSwitch, NgSwitchCase, NgSwitchDefault, NgTemplateOutlet } from '@angular/common';
import { BehaviorSubject, throwError, of, Observable, Subject, forkJoin } from 'rxjs';
import { map, tap, catchError, filter, switchMap, take, debounceTime, distinctUntilChanged } from 'rxjs/operators';
import * as i2 from '@angular/router';
import { Router, RouterModule } from '@angular/router';
import * as i1 from '@angular/common/http';
import { HttpClient, HttpErrorResponse, HttpEventType, HttpParams, HttpHeaders, HttpClientModule } from '@angular/common/http';
import * as i1$1 from '@angular/material/snack-bar';
import { MatSnackBar } from '@angular/material/snack-bar';
import * as i5$1 from 'ag-grid-angular';
import { AgGridModule } from 'ag-grid-angular';
import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
import * as i2$3 from '@angular/material/menu';
import { MatMenuModule } from '@angular/material/menu';
import * as i5 from '@angular/material/icon';
import { MatIconModule } from '@angular/material/icon';
import * as i2$2 from '@angular/material/button';
import { MatButtonModule } from '@angular/material/button';
import * as i2$1 from '@angular/material/form-field';
import { MatFormFieldModule } from '@angular/material/form-field';
import * as i4 from '@angular/material/input';
import { MatInputModule } from '@angular/material/input';
import * as i6 from '@angular/material/autocomplete';
import { MatAutocompleteModule } from '@angular/material/autocomplete';
import * as i1$3 from '@angular/forms';
import { FormsModule, NG_VALUE_ACCESSOR, FormGroup, FormControl, ReactiveFormsModule } from '@angular/forms';
import * as i7 from '@angular/material/core';
import { MatOptionModule, MatNativeDateModule } from '@angular/material/core';
import * as i3 from '@angular/material/select';
import { MatSelectModule } from '@angular/material/select';
import * as i3$1 from '@angular/material/datepicker';
import { MatDatepickerModule } from '@angular/material/datepicker';
import { MatDialogRef, MAT_DIALOG_DATA, MatDialog, MatDialogModule } from '@angular/material/dialog';
import { trigger, transition, style, animate } from '@angular/animations';
import * as i2$4 from '@angular/material/checkbox';
import { MatCheckboxModule } from '@angular/material/checkbox';
import { CalendarModule } from 'angular-calendar';
import { format } from 'date-fns';
import * as i2$5 from '@angular/material/progress-bar';
import { MatProgressBarModule } from '@angular/material/progress-bar';
import * as i3$2 from '@angular/material/card';
import { MatCardModule } from '@angular/material/card';
import { MatTooltipModule } from '@angular/material/tooltip';
import * as i1$4 from '@angular/material/progress-spinner';
import { MatProgressSpinnerModule } from '@angular/material/progress-spinner';
import * as i1$5 from '@angular/platform-browser';
import * as i2$6 from '@angular/material/slider';
import { MatSliderModule } from '@angular/material/slider';
import * as i1$6 from '@angular/material/stepper';
import { MatStepperModule } from '@angular/material/stepper';
import * as i2$7 from '@angular/material/tabs';
import { MatTabsModule } from '@angular/material/tabs';
import * as i1$7 from '@angular/material/button-toggle';
import { MatButtonToggleModule } from '@angular/material/button-toggle';
import * as i1$8 from '@angular/material/tree';
import { MatTreeFlattener, MatTreeFlatDataSource, MatTreeModule } from '@angular/material/tree';
import { FlatTreeControl } from '@angular/cdk/tree';
import * as i3$3 from '@angular/material/radio';
import { MatRadioModule } from '@angular/material/radio';

/**
 * Core Event Service using Angular Signals for cross-library communication
 * This service provides a centralized event bus for the application
 */
class CoreEventService {
    constructor(injector) {
        this.injector = injector;
        // Private signals for internal state management
        this._menu = signal(null);
        this._authState = signal(null);
        this._breadcrumb = signal(null);
        this._notification = signal(null);
        // Public read-only computed signals
        this.menu = computed(() => this._menu());
        this.authState = computed(() => this._authState());
        this.breadcrumb = computed(() => this._breadcrumb());
        this.notification = computed(() => this._notification());
    }
    // Menu updaters
    setMenu(menu) {
        this._menu.set(menu);
    }
    clearMenu() {
        this._menu.set(null);
    }
    // Auth state updaters
    setAuth(state) {
        this._authState.set(state);
    }
    clearAuth() {
        this._authState.set(null);
    }
    // Breadcrumb updaters
    setBreadcrumb(breadcrumb) {
        if (breadcrumb === null) {
            this._breadcrumb.set(null);
        }
        else if (Array.isArray(breadcrumb)) {
            this._breadcrumb.set(breadcrumb);
        }
        else {
            // Single item, convert to array
            this._breadcrumb.set([breadcrumb]);
        }
    }
    clearBreadcrumb() {
        this._breadcrumb.set(null);
    }
    // Notification updaters
    setNotification(notification) {
        this._notification.set(notification);
    }
    clearNotification() {
        this._notification.set(null);
    }
    // Convenience methods: run callback on signal changes (returns a destroy function)
    onMenuChange(cb) {
        return runInInjectionContext(this.injector, () => {
            const runner = effect(() => {
                cb(this._menu());
            });
            return () => runner.destroy(); // destroy the effect to cleanup
        });
    }
    onAuthChange(cb) {
        return runInInjectionContext(this.injector, () => {
            const runner = effect(() => {
                cb(this._authState());
            });
            return () => runner.destroy();
        });
    }
    onBreadcrumbChange(cb) {
        return runInInjectionContext(this.injector, () => {
            const runner = effect(() => {
                cb(this._breadcrumb());
            });
            return () => runner.destroy();
        });
    }
    onNotificationChange(cb) {
        return runInInjectionContext(this.injector, () => {
            const runner = effect(() => {
                cb(this._notification());
            });
            return () => runner.destroy();
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CoreEventService, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CoreEventService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CoreEventService, decorators: [{
            type: Injectable,
            args: [{ providedIn: 'root' }]
        }], ctorParameters: () => [{ type: i0.Injector }] });

/**
 * Injection token for API base URL configuration
 */
const API_BASE_URL = new InjectionToken('API_BASE_URL');
/**
 * Service to provide API configuration
 * The consuming application should provide API_BASE_URL token
 */
class ApiConfigService {
    constructor(apiUrl) {
        // Default to empty string if not provided - consuming app must provide
        this.apiUrl = apiUrl || '';
    }
    getApiUrl() {
        if (!this.apiUrl) {
            console.warn('API_BASE_URL not provided. Please provide API_BASE_URL token in your app configuration.');
        }
        return this.apiUrl;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ApiConfigService, deps: [{ token: API_BASE_URL, optional: true }], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ApiConfigService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ApiConfigService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [API_BASE_URL]
                }] }] });

/**
 * Authentication Interfaces for Shree Clinic Management System
 * Following enterprise-level standards and best practices
 */
/**
 * User type enumeration
 */
var UserType;
(function (UserType) {
    UserType["HOSPITAL"] = "HOSPITAL";
    UserType["DOCTOR"] = "DOCTOR";
    UserType["PATIENT"] = "PATIENT";
})(UserType || (UserType = {}));
/**
 * Account status enumeration
 */
var AccountStatus;
(function (AccountStatus) {
    AccountStatus["ACTIVE"] = "ACTIVE";
    AccountStatus["INACTIVE"] = "INACTIVE";
    AccountStatus["SUSPENDED"] = "SUSPENDED";
    AccountStatus["PENDING"] = "PENDING";
})(AccountStatus || (AccountStatus = {}));

/**
 * Authentication Service for Shree Clinic Management System
 * Following enterprise-level standards with proper error handling, state management, and security
 */
/**
 * Service responsible for handling all authentication-related operations
 */
class AuthService {
    constructor(platformId) {
        this.platformId = platformId;
        this.http = inject(HttpClient);
        this.router = inject(Router);
        this.apiConfig = inject(ApiConfigService);
        // Private subjects for state management
        this._authState = new BehaviorSubject({
            currentUser: null,
            isLoading: false,
            error: null,
            isAuthenticated: false
        });
        // Public observables for components to subscribe to
        this.authState$ = this._authState.asObservable();
        this.currentUser$ = this.authState$.pipe(map(state => state.currentUser));
        this.isAuthenticated$ = this.authState$.pipe(map(state => state.isAuthenticated));
        this.isLoading$ = this.authState$.pipe(map(state => state.isLoading));
        this.error$ = this.authState$.pipe(map(state => state.error));
        // Constants
        this.TOKEN_KEY = 'auth_token';
        this.REFRESH_TOKEN_KEY = 'refresh_token';
        this.USER_KEY = 'user_data';
        this.REMEMBER_ME_KEY = 'remember_me';
        this.initializeAuthState();
    }
    /**
     * Initialize authentication state from stored data
     */
    initializeAuthState() {
        try {
            const token = this.getStoredToken();
            const user = this.getStoredUser();
            const rememberMe = this.getRememberMeStatus();
            if (token && user && this.isTokenValid(token)) {
                const currentUser = {
                    user,
                    token,
                    tokenExpiresAt: this.getTokenExpiration(token),
                    isAuthenticated: true,
                    userType: user.userType
                };
                this.updateAuthState({
                    currentUser,
                    isLoading: false,
                    error: null,
                    isAuthenticated: true
                });
            }
            else if (token && user && !this.isTokenValid(token)) {
                // Token is expired, but we have user data - attempt to refresh
                const refreshToken = this.getStoredRefreshToken();
                if (refreshToken) {
                    // Keep user authenticated while attempting refresh
                    const currentUser = {
                        user,
                        token,
                        tokenExpiresAt: this.getTokenExpiration(token),
                        isAuthenticated: true,
                        userType: user.userType
                    };
                    this.updateAuthState({
                        currentUser,
                        isLoading: true,
                        error: null,
                        isAuthenticated: true
                    });
                    // Attempt to refresh token in background
                    this.refreshToken().subscribe({
                        next: (success) => {
                            if (!success) {
                                // Refresh failed, clear auth data
                                this.clearStoredAuthData();
                                this.updateAuthState({
                                    currentUser: null,
                                    isLoading: false,
                                    error: null,
                                    isAuthenticated: false
                                });
                            }
                            // If refresh succeeds, handleSuccessfulLogin will update the state
                        },
                        error: () => {
                            // Refresh failed, clear auth data
                            this.clearStoredAuthData();
                            this.updateAuthState({
                                currentUser: null,
                                isLoading: false,
                                error: null,
                                isAuthenticated: false
                            });
                        }
                    });
                }
                else {
                    // No refresh token available, but keep user authenticated
                    // Let the guard decide whether to allow access or redirect
                    // This prevents clearing data before the guard can check
                    const currentUser = {
                        user,
                        token,
                        tokenExpiresAt: this.getTokenExpiration(token),
                        isAuthenticated: true,
                        userType: user.userType
                    };
                    this.updateAuthState({
                        currentUser,
                        isLoading: false,
                        error: null,
                        isAuthenticated: true
                    });
                }
            }
            else {
                // No token or user data
                this.clearStoredAuthData();
                this.updateAuthState({
                    currentUser: null,
                    isLoading: false,
                    error: null,
                    isAuthenticated: false
                });
            }
        }
        catch (error) {
            console.error('Error initializing auth state:', error);
            this.clearStoredAuthData();
            this.updateAuthState({
                currentUser: null,
                isLoading: false,
                error: 'Failed to restore authentication state',
                isAuthenticated: false
            });
        }
    }
    /**
     * Authenticate user with email and password
     */
    login(loginRequest, rememberMe = false) {
        // Reset state and set loading
        this.updateAuthState({
            currentUser: null,
            isLoading: true,
            error: null,
            isAuthenticated: false
        });
        // Create HTTP options with proper headers
        const httpOptions = {
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json',
                'X-Requested-With': 'XMLHttpRequest'
            },
            withCredentials: false
        };
        const apiUrl = this.apiConfig.getApiUrl();
        console.log('Login request:', {
            url: `${apiUrl}/api/auth/login`,
            email: loginRequest.email,
            rememberMe
        });
        return this.http.post(`${apiUrl}/api/auth/login`, loginRequest, httpOptions).pipe(tap((response) => {
            console.log('Login response received');
            // Validate response has required data
            if (!response) {
                throw new Error('Empty response from server');
            }
            this.handleSuccessfulLogin(response, rememberMe);
        }), map(() => {
            // Verify authentication was successful
            const isAuth = this.isAuthenticated();
            if (!isAuth) {
                throw new Error('Authentication failed - user not authenticated after login');
            }
            return true;
        }), catchError((error) => {
            console.error('Login error:', error);
            // Handle HTTP errors
            if (error instanceof HttpErrorResponse) {
                // Handle parsing errors (status 200 but can't parse JSON)
                if (error.status === 200 && error.message.includes('Http failure during parsing')) {
                    const errorMessage = 'Server returned invalid response format';
                    this.updateAuthState({
                        currentUser: null,
                        isLoading: false,
                        error: errorMessage,
                        isAuthenticated: false
                    });
                    return throwError(() => new Error(errorMessage));
                }
                // Check if it's a connection error and try mock login
                if (error.status === 0 || error.status === 502 || error.status === 503) {
                    console.log('Backend server unavailable, attempting mock login...');
                    return this.handleMockLogin(loginRequest, rememberMe);
                }
                const errorMessage = this.handleLoginError(error);
                this.updateAuthState({
                    currentUser: null,
                    isLoading: false,
                    error: errorMessage,
                    isAuthenticated: false
                });
                return throwError(() => new Error(errorMessage));
            }
            // Handle other errors
            const errorMessage = error.message || 'Login failed';
            this.updateAuthState({
                currentUser: null,
                isLoading: false,
                error: errorMessage,
                isAuthenticated: false
            });
            return throwError(() => error);
        }));
    }
    /**
     * Handle successful login response
     */
    handleSuccessfulLogin(response, rememberMe) {
        console.log('Processing login response:', response);
        try {
            // Extract data from response - handle multiple response structures
            const data = response.data || response;
            // Extract token - check multiple possible locations
            const token = data.accessToken || data.token || data.access_token || response.accessToken || response.token;
            if (!token) {
                throw new Error('No access token found in login response');
            }
            // Extract refresh token - check multiple possible locations
            const refreshToken = data.refreshToken || data.refresh_token || response.refreshToken || response.refresh_token;
            console.log('Refresh token found:', !!refreshToken);
            // Extract expiresIn
            const expiresIn = data.expiresIn || data.expires_in || response.expiresIn || 3600;
            const expiresInSeconds = typeof expiresIn === 'number' ? expiresIn : parseInt(expiresIn, 10) || 3600;
            // Extract user data
            let user;
            if (data.user) {
                user = data.user;
            }
            else if (response.user) {
                user = response.user;
            }
            else {
                // Construct user from root level data
                user = {
                    id: data.userId || data.id || response.userId || response.id || '1',
                    email: data.email || response.email || '',
                    fullName: data.fullName || data.name || data.displayName || response.fullName || response.name || 'User',
                    userType: data.userType || data.user_type || response.userType || 'HOSPITAL',
                    profilePicture: data.profilePicture || data.profile_picture || response.profilePicture || 'assets/avatars/default-avatar.jpg',
                    phoneNumber: data.phoneNumber || data.phone_number || response.phoneNumber || '',
                    role: data.role || response.role || 'ADMIN',
                    permissions: data.permissions || response.permissions || [],
                    createdAt: data.createdAt || data.created_at || response.createdAt || new Date().toISOString(),
                    lastLoginAt: data.lastLoginAt || data.last_login_at || response.lastLoginAt || new Date().toISOString(),
                    status: (data.status || data.active || response.status || response.active) ? 'ACTIVE' : 'INACTIVE'
                };
            }
            // Validate required user fields
            if (!user.id || !user.email) {
                throw new Error('Invalid user data in login response');
            }
            // Calculate token expiration
            const tokenExpiresAt = Date.now() + (expiresInSeconds * 1000);
            // Create current user object
            const currentUser = {
                user,
                token,
                tokenExpiresAt,
                isAuthenticated: true,
                userType: user.userType || 'HOSPITAL'
            };
            console.log('Login successful - User:', user.email, 'Type:', currentUser.userType);
            console.log('Token expires at:', new Date(tokenExpiresAt).toISOString());
            console.log('Refresh token stored:', !!refreshToken);
            // Store authentication data FIRST (before state update)
            this.storeAuthData(token, refreshToken, user, rememberMe);
            // Update state AFTER storing data
            this.updateAuthState({
                currentUser,
                isLoading: false,
                error: null,
                isAuthenticated: true
            });
            // Navigation will be handled by the component via authState$ subscription
            // This keeps the service decoupled from routing
        }
        catch (error) {
            console.error('Error processing login response:', error);
            this.updateAuthState({
                currentUser: null,
                isLoading: false,
                error: error.message || 'Failed to process login response',
                isAuthenticated: false
            });
            throw error;
        }
    }
    /**
     * Handle login errors and return appropriate error messages
     */
    handleLoginError(error) {
        console.error('Login error details:', {
            status: error.status,
            statusText: error.statusText,
            message: error.message,
            url: error.url,
            error: error.error
        });
        if (error.status === 0) {
            return 'Unable to connect to the server. Please check if the backend server is running on port 8080.';
        }
        // Check if it's a network error
        if (error.error instanceof ErrorEvent) {
            return 'Network error occurred. Please check your internet connection and ensure the backend server is running.';
        }
        switch (error.status) {
            case 400:
                return 'Invalid login credentials. Please check your email and password.';
            case 401:
                return 'Invalid email or password. Please try again.';
            case 403:
                return 'Account is suspended or inactive. Please contact support.';
            case 404:
                return 'User account not found. Please check your email and user type.';
            case 429:
                return 'Too many login attempts. Please try again later.';
            case 500:
                return 'Server error. Please try again later.';
            case 502:
                return 'Backend server is not responding. Please ensure the server is running on port 8080.';
            case 503:
                return 'Service temporarily unavailable. Please try again later.';
            default:
                return `Server error (${error.status}). Please try again or contact support if the problem persists.`;
        }
    }
    /**
     * Handle mock login when backend is unavailable
     */
    handleMockLogin(loginRequest, rememberMe) {
        // Mock credentials for demo purposes
        const mockCredentials = {
            [UserType.HOSPITAL]: { email: 'u513107@gmail.com', password: 'Shree@123' },
            [UserType.DOCTOR]: { email: 'swapnil@gmail.com', password: 'Swapnil@123' },
            [UserType.PATIENT]: { email: 'patient@shreephysio.com', password: 'Patient@123' }
        };
        // Determine expected credentials by userType if provided, otherwise infer by email
        const expectedByType = loginRequest.userType ? mockCredentials[loginRequest.userType] : undefined;
        const inferredType = !loginRequest.userType
            ? Object.keys(mockCredentials).find((t) => mockCredentials[t].email === loginRequest.email)
            : loginRequest.userType;
        const expectedCredentials = expectedByType || (inferredType ? mockCredentials[inferredType] : undefined);
        if (expectedCredentials &&
            loginRequest.email === expectedCredentials.email &&
            loginRequest.password === expectedCredentials.password) {
            const resolvedType = inferredType || loginRequest.userType || UserType.HOSPITAL;
            console.log('Mock login successful for:', resolvedType);
            // Create mock response
            const getUserInfo = (userType) => {
                switch (userType) {
                    case UserType.DOCTOR:
                        return {
                            id: 'DOC-12332',
                            fullName: 'Dr. Swapnil',
                            phoneNumber: '8788802334'
                        };
                    case UserType.HOSPITAL:
                        return {
                            id: 'ADMIN-001',
                            fullName: 'Hospital Admin',
                            phoneNumber: '+91-22-12345678'
                        };
                    case UserType.PATIENT:
                        return {
                            id: 'PAT-001',
                            fullName: 'John Doe',
                            phoneNumber: '+91-9876543210'
                        };
                    default:
                        return {
                            id: 'USER-001',
                            fullName: 'Demo User',
                            phoneNumber: '+91-0000000000'
                        };
                }
            };
            const userInfo = getUserInfo(resolvedType);
            const mockResponse = {
                success: true,
                message: 'Login successful (Demo Mode)',
                data: {
                    token: 'mock-jwt-token-' + Date.now(),
                    refreshToken: 'mock-refresh-token-' + Date.now(),
                    user: {
                        id: userInfo.id,
                        email: loginRequest.email,
                        fullName: userInfo.fullName,
                        userType: resolvedType,
                        status: 'ACTIVE',
                        phoneNumber: userInfo.phoneNumber,
                        profilePicture: 'assets/avatars/default-avatar.jpg',
                        createdAt: new Date().toISOString(),
                        lastLoginAt: new Date().toISOString()
                    }
                }
            };
            this.handleSuccessfulLogin(mockResponse, rememberMe);
            return of(true);
        }
        else {
            const errorMessage = 'Invalid email or password. Please try again. (Demo Mode)';
            this.updateAuthState({
                ...this._authState.value,
                isLoading: false,
                error: errorMessage
            });
            return throwError(() => new Error(errorMessage));
        }
    }
    /**
     * Navigate user to appropriate dashboard after successful login
     */
    navigateAfterLogin(userType) {
        console.log('Navigating for user type:', userType);
        switch (userType) {
            case 'HOSPITAL':
                console.log('Navigating to admin dashboard');
                this.router.navigate(['/admin-dashboard']);
                break;
            case 'DOCTOR':
                console.log('Navigating to doctor dashboard');
                this.router.navigate(['/dashboard']);
                break;
            case 'PATIENT':
                console.log('Navigating to patient dashboard');
                this.router.navigate(['/patient-dashboard']);
                break;
            default:
                console.log('Default navigation to dashboard');
                this.router.navigate(['/dashboard']);
        }
    }
    /**
     * Logout user and clear all authentication data
     */
    logout() {
        // Clear stored data
        this.clearStoredAuthData();
        // Update state
        this.updateAuthState({
            currentUser: null,
            isLoading: false,
            error: null,
            isAuthenticated: false
        });
        // Navigate to login
        this.router.navigate(['/login']);
    }
    /**
     * Refresh authentication token
     */
    refreshToken() {
        const refreshToken = this.getStoredRefreshToken();
        if (!refreshToken) {
            console.warn('No refresh token available for token refresh');
            return of(false);
        }
        console.log('Attempting to refresh token...');
        const apiUrl = this.apiConfig.getApiUrl();
        return this.http.post(`${apiUrl}/api/auth/refresh`, { refreshToken }).pipe(tap((response) => {
            console.log('Token refresh successful');
            // Use the same login handler to process the refresh response
            this.handleSuccessfulLogin(response, this.getRememberMeStatus());
        }), map(() => true), catchError((error) => {
            console.error('Token refresh failed:', error);
            // Only logout if it's a real auth error, not a network error
            if (error.status === 401 || error.status === 403) {
                console.log('Refresh token invalid, logging out');
                this.logout();
            }
            return of(false);
        }));
    }
    /**
     * Check if current token is valid
     */
    isTokenValid(token) {
        const tokenToCheck = token || this.getStoredToken();
        if (!tokenToCheck) {
            return false;
        }
        try {
            const expiration = this.getTokenExpiration(tokenToCheck);
            return Date.now() < expiration;
        }
        catch {
            return false;
        }
    }
    /**
     * Get token expiration time
     */
    getTokenExpiration(token) {
        try {
            const payload = JSON.parse(atob(token.split('.')[1]));
            return payload.exp * 1000;
        }
        catch {
            return 0;
        }
    }
    /**
     * Get current user information
     */
    getCurrentUser() {
        return this._authState.value.currentUser?.user || null;
    }
    /**
     * Get current user type
     */
    getUserType() {
        return this._authState.value.currentUser?.user.userType || null;
    }
    /**
     * Check if user has specific permission
     */
    hasPermission(permission) {
        const user = this.getCurrentUser();
        return user?.permissions?.includes(permission) || false;
    }
    /**
     * Check if user is of specific type
     */
    isUserType(userType) {
        return this.getUserType() === userType;
    }
    /**
     * Check if user is hospital admin
     */
    isHospitalAdmin() {
        return this.isUserType(UserType.HOSPITAL);
    }
    /**
     * Check if user is doctor
     */
    isDoctor() {
        return this.isUserType(UserType.DOCTOR);
    }
    /**
     * Check if user is patient
     */
    isPatient() {
        return this.isUserType(UserType.PATIENT);
    }
    /**
     * Update authentication state
     */
    updateAuthState(newState) {
        const currentState = this._authState.value;
        const updatedState = { ...currentState, ...newState };
        console.log('Updating auth state:', { currentState, newState, updatedState });
        this._authState.next(updatedState);
    }
    /**
     * Store authentication data in storage
     */
    storeAuthData(token, refreshToken, user, rememberMe) {
        if (!isPlatformBrowser(this.platformId)) {
            return; // Skip localStorage/sessionStorage operations during SSR
        }
        try {
            // Validate token before storing
            if (!token || token === 'dummy-token') {
                console.error('Invalid token provided for storage');
                throw new Error('Invalid token');
            }
            // Preserve existing refresh token if new one is not provided (for token refresh scenarios)
            const existingRefreshToken = this.getStoredRefreshToken();
            const tokenToStore = refreshToken || existingRefreshToken;
            const storage = rememberMe ? localStorage : sessionStorage;
            // Store token
            storage.setItem(this.TOKEN_KEY, token);
            // Store refresh token if available
            if (tokenToStore) {
                storage.setItem(this.REFRESH_TOKEN_KEY, tokenToStore);
                console.log('Refresh token stored in', rememberMe ? 'localStorage' : 'sessionStorage');
            }
            else {
                // Remove refresh token if not provided and not preserving existing
                storage.removeItem(this.REFRESH_TOKEN_KEY);
                console.warn('No refresh token provided or found');
            }
            // Store user data
            storage.setItem(this.USER_KEY, JSON.stringify(user));
            // Store remember me preference
            storage.setItem(this.REMEMBER_ME_KEY, rememberMe ? 'true' : 'false');
            console.log('Auth data stored successfully:', {
                hasToken: !!token,
                hasRefreshToken: !!tokenToStore,
                rememberMe,
                storage: rememberMe ? 'localStorage' : 'sessionStorage'
            });
        }
        catch (error) {
            console.error('Error storing auth data:', error);
            throw error;
        }
    }
    /**
     * Clear all stored authentication data
     */
    clearStoredAuthData() {
        if (!isPlatformBrowser(this.platformId)) {
            return; // Skip localStorage/sessionStorage operations during SSR
        }
        try {
            localStorage.removeItem(this.TOKEN_KEY);
            localStorage.removeItem(this.REFRESH_TOKEN_KEY);
            localStorage.removeItem(this.USER_KEY);
            localStorage.removeItem(this.REMEMBER_ME_KEY);
            sessionStorage.removeItem(this.TOKEN_KEY);
            sessionStorage.removeItem(this.REFRESH_TOKEN_KEY);
            sessionStorage.removeItem(this.USER_KEY);
            sessionStorage.removeItem(this.REMEMBER_ME_KEY);
        }
        catch (error) {
            console.error('Error clearing auth data:', error);
        }
    }
    /**
     * Get stored authentication token
     */
    getStoredToken() {
        if (!isPlatformBrowser(this.platformId)) {
            return null; // Return null during SSR
        }
        try {
            return localStorage.getItem(this.TOKEN_KEY) || sessionStorage.getItem(this.TOKEN_KEY);
        }
        catch {
            return null;
        }
    }
    /**
     * Get stored refresh token
     */
    getStoredRefreshToken() {
        if (!isPlatformBrowser(this.platformId)) {
            return null; // Return null during SSR
        }
        try {
            return localStorage.getItem(this.REFRESH_TOKEN_KEY) || sessionStorage.getItem(this.REFRESH_TOKEN_KEY);
        }
        catch {
            return null;
        }
    }
    /**
     * Get stored user data
     */
    getStoredUser() {
        if (!isPlatformBrowser(this.platformId)) {
            return null; // Return null during SSR
        }
        try {
            const userData = localStorage.getItem(this.USER_KEY) || sessionStorage.getItem(this.USER_KEY);
            return userData ? JSON.parse(userData) : null;
        }
        catch {
            return null;
        }
    }
    /**
     * Get remember me status
     */
    getRememberMeStatus() {
        if (!isPlatformBrowser(this.platformId)) {
            return false; // Return false during SSR
        }
        try {
            return localStorage.getItem(this.REMEMBER_ME_KEY) === 'true' ||
                sessionStorage.getItem(this.REMEMBER_ME_KEY) === 'true';
        }
        catch {
            return false;
        }
    }
    /**
     * Check if user is currently authenticated (synchronous method for guards)
     */
    isAuthenticated() {
        return this._authState.value.isAuthenticated;
    }
    /**
     * Get authentication headers for HTTP requests
     */
    getAuthHeaders() {
        const token = this.getStoredToken();
        return token ? { 'Authorization': `Bearer ${token}` } : {};
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AuthService, deps: [{ token: PLATFORM_ID }], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AuthService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AuthService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: () => [{ type: Object, decorators: [{
                    type: Inject,
                    args: [PLATFORM_ID]
                }] }] });

var Observe;
(function (Observe) {
    Observe["BODY"] = "body";
    Observe["EVENTS"] = "events";
    Observe["RESPONSE"] = "response";
})(Observe || (Observe = {}));
/**
 * ResponseType {ARRAYBUFFER, BLOB, JSON, TEXT }
 */
var ResponseType;
(function (ResponseType) {
    ResponseType["ARRAYBUFFER"] = "arraybuffer";
    ResponseType["BLOB"] = "blob";
    ResponseType["JSON"] = "json";
    ResponseType["TEXT"] = "text";
})(ResponseType || (ResponseType = {}));

/**
 * Injectable service for HTTP utilities
 */
/**
 * HttpUtilService
 */
class HttpUtilService {
    /**
     * constructor
     */
    constructor() { }
    /**
     * Gets the upload progress
     * @param event - The HTTP event
     * @returns The upload progress
     */
    getUploadProgress(event) {
        switch (event.type) {
            case HttpEventType.UploadProgress:
                const progress = Math.round((100 * event.loaded) / (event.total ?? 1));
                return { status: 'progress', message: progress };
            case HttpEventType.Response:
                return event.body;
            default:
                return `Unhandled event: ${event.type}`;
        }
    }
    /**
     * Gets the download progress
     * @param event - The HTTP event
     * @returns The download progress
     */
    getDownloadProgress(event) {
        switch (event.type) {
            case HttpEventType.ResponseHeader:
                return { headers: event.headers, type: event.type };
            case HttpEventType.DownloadProgress:
                const progress = Math.round((100 * event.loaded) / 100);
                return { status: 'progress', message: progress };
            case HttpEventType.Response:
                return event.body;
            default:
                return `Unhandled event: ${event.type}`;
        }
    }
    /**
     * Saves a downloaded file
     * @param content - The content of the file
     * @param response - The response from the server
     * @param contentType - The content type of the file
     * @param filename - The name of the file
     * @returns The name of the file
     */
    saveDownloadedFile(content, response, contentType, filename) {
        const linkElement = document.createElement('a');
        try {
            let blob = null;
            let url = null;
            blob = new Blob([response], {
                type: contentType,
            });
            if (!filename) {
                if (content?.includes("filename*=utf-8''")) {
                    let tempData = content.split(';');
                    let fName = '';
                    tempData.forEach((item) => {
                        if (item?.includes("filename*=utf-8''") &&
                            item.split("filename*=utf-8''").length > 0) {
                            fName = decodeURI(item.split("filename*=utf-8''")[1]);
                        }
                    });
                    filename = fName;
                }
                else {
                    filename = content ? content.split('=')[1] : null;
                    filename = filename ? filename.split(';')[0] : null;
                    filename = filename ? filename.trim() : null;
                    if (filename && filename.indexOf('"') > -1) {
                        filename = filename.replace(/"/g, '');
                    }
                }
                if (!content && !filename) {
                    filename = "data";
                }
            }
            if (filename) {
                filename = decodeURIComponent(encodeURI(filename));
                url = window.URL.createObjectURL(blob);
                linkElement.setAttribute('href', url);
                linkElement.setAttribute('download', filename);
                const clickEvent = new MouseEvent('click', {
                    view: window,
                    bubbles: true,
                    cancelable: false,
                });
                linkElement.dispatchEvent(clickEvent);
                return filename;
            }
            else {
                return null;
            }
        }
        catch (ex) {
            return ex instanceof Error ? ex.message : 'Unknown error';
        }
    }
    /**
     * Gets the download upload progress box
     * @param type - The type of the file
     * @param url - The URL of the file
     * @param fileName - The name of the file
     * @returns The download upload progress box
     */
    getDownloadUploadProgressBox(type, url, fileName) {
        const uldlData = {};
        uldlData.url = url;
        uldlData.type = type;
        uldlData.size = 0;
        uldlData.progress = 0;
        uldlData.fileName = fileName ? fileName : undefined;
        return uldlData;
    }
    /**
     * Gets the HTTP options
     * @param options - The HTTP options
     * @returns The HTTP options
     */
    getHttpOptions(options = {}) {
        const { headers = {}, observe = Observe.BODY, reportProgress = false, responseType = ResponseType.JSON, 
        // withCredentials = true,
        params = new HttpParams(), } = options;
        return {
            headers: this.getHttpHeaders(headers),
            params: params,
            observe: observe,
            reportProgress: reportProgress,
            responseType: responseType,
            // withCredentials: withCredentials,
        };
    }
    /**
     * Gets the HTTP headers
     * @param headers
     * @returns HttpHeaders
     */
    getHttpHeaders(headers) {
        if (headers instanceof HttpHeaders) {
            return headers;
        }
        return new HttpHeaders({
            'Content-Type': 'application/json',
            // withCredentials: 'true',
            // "Access-Control-Allow-Origin" : "*",
            ...headers,
        });
    }
    /**
     * Handles an error
     * @param err - The error
     */
    errorHandler(err) {
        if (err.error instanceof Error) {
            // A client-side or network error occurred.
            // this.messageBox.error('client side error: ' + err.error.message);
        }
        else {
            // Backend returns unsuccessful response codes such as 404, 500 etc.
            if (err &&
                err.error &&
                (err.error.code === -4 ||
                    err.error.code === -5 ||
                    err.error.code === -6 ||
                    (err.error.hasOwnProperty('errors') &&
                        err.error.errors &&
                        err.error.errors.length))) {
                this.showServeError(err.error);
                return;
            }
        }
    }
    /**
     * Shows a server error
     * @param err - The error
     */
    showServeError(err) {
        if (err.hasOwnProperty('errors') && err.errors && err.errors.length) {
            // this.messageBox.error(err.errors[0]);
        }
    }
    /**
     * showLoader
     */
    showLoader() {
        // this.loader.show();
    }
    /**
     * hideLoader
     */
    hideLoader() {
        // this.loader.hide();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpUtilService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpUtilService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpUtilService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root',
                }]
        }], ctorParameters: () => [] });

/**
 * Injectable decorator to provide the service at the root level
 */
/**
 * HttpService class
 */
class HttpService {
    /**
     * Creates an instance of HttpService.
     * @param http - The HttpClient instance for making HTTP requests.
     * @param httpUtil - The HttpUtilService instance for handling HTTP utilities.
     * @param coreUtils - The CoreUtilService instance for core utility functions.
     * @param httpbackend - The HttpBackend instance for handling HTTP requests.
     */
    constructor(http, httpUtil, httpbackend) {
        this.http = http;
        this.httpUtil = httpUtil;
        this.httpbackend = httpbackend;
    }
    /**
     * Http GET request
     * @param url - The URL to send the GET request to.
     * @param options - The options for the GET request.
     * @returns An Observable that emits the response from the GET request.
     */
    sendGETRequest(url, options) {
        const httpOptions = this.httpUtil.getHttpOptions(options);
        return this.http.get(url, httpOptions);
    }
    /**
     * Http GET can pass custom heeaders
     * @param url - The URL to send the GET request to.
     * @param options - The options for the GET request.
     * @returns An Observable that emits the response from the GET request.
     */
    sendGETRequestBackend(url, options) {
        let httpClient = new HttpClient(this.httpbackend);
        return httpClient.get(url, options);
    }
    /**
     * Http DELETE request
     * @param url - The URL to send the DELETE request to.
     * @param options - The options for the DELETE request.
     * @returns An Observable that emits the response from the DELETE request.
     */
    sendDELETERequest(url, options) {
        const httpOptions = this.httpUtil.getHttpOptions(options);
        return this.http.delete(url, httpOptions);
    }
    /**
     * Http POST request
     * @param url - The URL to send the POST request to.
     * @param json - The payload to send in the POST request.
     * @param options - The options for the POST request.
     * @returns An Observable that emits the response from the POST request.
     */
    sendPOSTRequest(url, json, options) {
        if (!(json instanceof FormData) &&
            (json === '' || json === '{}' || json === '[]')) {
            return throwError(new Error('Json should not be empty'));
        }
        const httpOptions = this.httpUtil.getHttpOptions(options);
        return this.http.post(url, json, httpOptions);
    }
    /**
     * Http POST can pass custom header
     * @param url - The URL to send the POST request to.
     * @param json - The payload to send in the POST request.
     * @param options - The options for the POST request.
     * @returns An Observable that emits the response from the POST request.
     */
    sendPOSTRequestBackend(url, json, options) {
        let httpClient = new HttpClient(this.httpbackend);
        return httpClient.post(url, json, options);
    }
    /**
     * Http PUT request
     * @param url - The URL to send the PUT request to.
     * @param json - The payload to send in the PUT request.
     * @param options - The options for the PUT request.
     * @returns An Observable that emits the response from the PUT request.
     */
    sendPUTRequest(url, json, options) {
        if (!(json instanceof FormData) &&
            (json === '' || json === '{}' || json === '[]')) {
            return throwError(new Error('Json should not be empty'));
        }
        const httpOptions = this.httpUtil.getHttpOptions(options);
        return this.http.put(url, json, httpOptions);
    }
    /**
     * Http PATCH request
     * @param url - The URL to send the PATCH request to.
     * @param json - The payload to send in the PATCH request.
     * @param options - The options for the PATCH request.
     * @returns An Observable that emits the response from the PATCH request.
     */
    sendPATCHRequest(url, json, options) {
        if (!(json instanceof FormData) &&
            (json === '' || json === '{}' || json === '[]')) {
            return throwError(new Error('Json should not be empty'));
        }
        const httpOptions = this.httpUtil.getHttpOptions(options);
        return this.http.patch(url, json, httpOptions);
    }
    /**
     * Http Proxy request
     * @param proxyUrl - The URL to send the proxy request to.
     * @param obj - The payload to send in the proxy request.
     * @returns An Observable that emits the response from the proxy request.
     */
    sendProxyRequest(proxyUrl, obj) {
        // let keyCloakToken= this.coreUtils.getKeycloakToken();
        // let headers= { 'Authorization': `Bearer ${keyCloakToken}`}
        //   if(obj.headers){
        //     headers = Object.assign(headers, obj.headers);
        //   }
        //   let json:any={
        //     "url": obj.url,
        //     "auth":JSON.stringify(headers),
        //     "methodType": obj.methodType,
        //     "Content-Type":'application/json'
        //   }
        //   if(obj.methodType=='POST'){
        //   json['body']=JSON.stringify(obj);
        //  }
        //   return this.sendPOSTRequest(proxyUrl,json);
    }
    /**
     * upload file
     * @param url - The URL to send the upload request to.
     * @param json - The payload to send in the upload request.
     * @param options - The options for the upload request.
     * @returns An Observable that emits the response from the upload request.
     */
    uploadFile(url, json, options) {
        const defaultOptions = {
            observe: Observe.EVENTS,
            headers: new HttpHeaders(),
            // withCredentials: true,
        };
        return this.sendPOSTRequest(url, json, {
            ...defaultOptions,
            ...options,
        }).pipe(filter((event) => event.type === HttpEventType.UploadProgress ||
            event.type === HttpEventType.Response), map(this.httpUtil.getUploadProgress));
    }
    /**
     * upload file and download response
     * @p aram url - The URL to send the upload request to.
     * @param json - The payload to send in the upload request.
     * @param fileName - The name of the file to download.
     * @param options - The options for the upload request.
     * @returns An Observable that emits the response from the upload request.
     */
    uploadFileAndDownloadResponse(url, json, fileName, options) {
        const downloadFile = new Observable((observer) => {
            let contentDisposition = null;
            let contentType = null;
            const defaultOptions = {
                observe: Observe.EVENTS,
                headers: new HttpHeaders(),
                // withCredentials: true,
                responseType: ResponseType.BLOB,
            };
            defaultOptions.headers =
                options && options.headers ? options.headers : new HttpHeaders();
            this.sendPOSTRequest(url, json, {
                ...defaultOptions,
                ...options,
            })
                .pipe(filter((event) => event.type === HttpEventType.ResponseHeader ||
                event.type === HttpEventType.Response ||
                event.type === HttpEventType.DownloadProgress), map(this.httpUtil.getUploadProgress))
                .subscribe((response) => {
                if (response.status && response.status === 'progress') {
                    // Progress event, no action needed
                }
                else if (response.type &&
                    response.type === 'application/octet-stream' //HttpEventType.ResponseHeader
                ) {
                    contentDisposition = 'attachment; filename="IPAddressList.xlsx"'; //response.headers.get('Content-Disposition');
                    contentType = 'application/octet-stream'; //response.headers.get('content-type');
                    try {
                        this.httpUtil.saveDownloadedFile(contentDisposition, response, contentType, fileName);
                        observer.next(response);
                    }
                    catch (ex) {
                        observer.error(response);
                    }
                }
                else {
                    try {
                        if (!contentType ||
                            contentType === 'application/json' ||
                            contentType === 'application/json;charset=UTF-8') {
                            const reader = new FileReader();
                            reader.addEventListener('loadend', (event) => {
                                const text = event.srcElement['result'];
                                if (JSON.parse(text) && JSON.parse(text).errorMsg) {
                                    // Error message found, no action needed
                                }
                                else {
                                    this.httpUtil.saveDownloadedFile(contentDisposition, response, contentType, fileName);
                                }
                            });
                            reader.readAsText(response);
                        }
                        else {
                            this.httpUtil.saveDownloadedFile(contentDisposition, response, contentType, fileName);
                        }
                        observer.next(response);
                    }
                    catch (ex) {
                        observer.error(response);
                    }
                }
            }, (err) => {
                observer.error(err);
            });
        });
        return downloadFile;
    }
    /**
     * downloadFile
     * @param url - The URL to send the download request to.
     * @param fileName - The name of the file to download.
     * @param options - The options for the download request.
     * @param reportDownloadProgress - Whether to report download progress.
     * @param json - The payload to send in the download request.
     * @returns An Observable that emits the response from the download request.
     */
    downloadFile(url, fileName, options, reportDownloadProgress = false, json = '') {
        const downloadFile = new Observable((observer) => {
            let contentDisposition = null;
            let contentType = null;
            const defaultOptions = {
                reportProgress: true,
                observe: Observe.EVENTS,
                headers: new HttpHeaders(),
                responseType: json ? ResponseType.ARRAYBUFFER : ResponseType.BLOB,
                // withCredentials: true,
            };
            defaultOptions.headers =
                options && options.headers ? options.headers : new HttpHeaders();
            let urlResponse = json
                ? this.sendPOSTRequest(url, json, defaultOptions)
                : this.sendGETRequest(url, defaultOptions);
            urlResponse
                .pipe(filter((event) => event.type === HttpEventType.ResponseHeader ||
                event.type === HttpEventType.Response ||
                event.type === HttpEventType.DownloadProgress), map(this.httpUtil.getDownloadProgress))
                .subscribe((response) => {
                if (response?.status && response.status === 'progress') {
                    if (reportDownloadProgress) {
                        observer.next(response);
                    }
                }
                else if (response?.type &&
                    response.type === HttpEventType.ResponseHeader) {
                    contentDisposition = response.headers.get('Content-Disposition');
                    if (!contentDisposition) {
                        console.warn('Unable to access Content-Disposition');
                    }
                    contentType = response.headers.get('content-type');
                    if (options && options.fileNameHeader) {
                        fileName = response.headers.get(options.fileNameHeader);
                    }
                    if (reportDownloadProgress) {
                        observer.next(response);
                    }
                }
                else {
                    try {
                        if (!contentType ||
                            contentType === 'application/json' ||
                            contentType === 'application/json;charset=UTF-8') {
                            const reader = new FileReader();
                            reader.addEventListener('loadend', (event) => {
                                const text = event.srcElement['result'];
                                if (text && JSON.parse(text) && JSON.parse(text).errorMsg) {
                                    // Error message found, no action needed
                                }
                                else {
                                    this.httpUtil.saveDownloadedFile(contentDisposition, response, contentType, fileName);
                                }
                            });
                            reader.readAsText(response);
                        }
                        else {
                            this.httpUtil.saveDownloadedFile(contentDisposition, response, contentType, fileName);
                        }
                        observer.next(response);
                    }
                    catch (ex) {
                        observer.error(response);
                    }
                }
            }, (err) => {
                observer.error(err);
            });
        });
        return downloadFile;
    }
    //Dont use Method "downloadFileByPostRequest" both get/post request support provided in downloadFile method.
    /**
     * download file by post request
     * @param url - The URL to send the download request to.
     * @param json - The payload to send in the download request.
     * @param fileName - The name of the file to download.
     * @param options - The options for the download request.
     * @returns An Observable that emits the response from the download request.
     */
    downloadFileByPostRequest(url, json, fileName, options) {
        const downloadFile = new Observable((observer) => {
            let contentDisposition = null;
            let contentType = null;
            const defaultOptions = {
                reportProgress: true,
                observe: Observe.EVENTS,
                responseType: ResponseType.ARRAYBUFFER,
                headers: new HttpHeaders(),
                // withCredentials: true,
            };
            defaultOptions.headers =
                options && options.headers ? options.headers : new HttpHeaders();
            this.sendPOSTRequest(url, json, defaultOptions)
                .pipe(filter((event) => event.type === HttpEventType.ResponseHeader ||
                event.type === HttpEventType.Response ||
                event.type === HttpEventType.DownloadProgress), map(this.httpUtil.getDownloadProgress))
                .subscribe((response) => {
                if (response?.status && response.status === 'progress') {
                    // Progress event, no action needed
                }
                else if (response.type &&
                    response.type === HttpEventType.ResponseHeader) {
                    contentDisposition = response.headers.get('Content-Disposition');
                    contentType = response.headers.get('content-type');
                }
                else {
                    try {
                        if (!contentType ||
                            contentType === 'application/json' ||
                            contentType === 'application/json;charset=UTF-8') {
                            const reader = new FileReader();
                            reader.addEventListener('loadend', (event) => {
                                const text = event.srcElement['result'];
                                if (JSON.parse(text) && JSON.parse(text).errorMsg) {
                                    // Error message found, no action needed
                                }
                                else {
                                    this.httpUtil.saveDownloadedFile(contentDisposition, response, contentType, fileName);
                                }
                            });
                            reader.readAsText(response);
                        }
                        else {
                            this.httpUtil.saveDownloadedFile(contentDisposition, response, contentType, fileName);
                        }
                        observer.next(response);
                    }
                    catch (ex) {
                        observer.error(response);
                    }
                }
            });
        });
        return downloadFile;
    }
    /**
     * download file by location
     * @param url - The URL to send the download request to.
     */
    downloadFileByLocation(url) {
        const downloadUrl = window.location.protocol + '//' + window.location.hostname + '/' + url;
        window.location.href = downloadUrl;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpService, deps: [{ token: i1.HttpClient }, { token: HttpUtilService }, { token: i1.HttpBackend }], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root',
                }]
        }], ctorParameters: () => [{ type: i1.HttpClient }, { type: HttpUtilService }, { type: i1.HttpBackend }] });

class DataService {
    constructor() { }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DataService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DataService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DataService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: () => [] });

class MenuService {
    constructor() {
        this.menuSubject = new BehaviorSubject([]);
        // Doctor menu items
        this.doctorMenu = [
            {
                label: 'Dashboard',
                icon: 'dashboard',
                route: '/dashboard',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Appointments',
                icon: 'event',
                route: '/appointment',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Schedule',
                icon: 'schedule',
                route: '/schedule',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Patients',
                icon: 'groups',
                route: '/patient',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Chat',
                icon: 'chat',
                route: '/chat',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Patient Queue',
                icon: 'queue',
                route: '/patient-queue',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Admitted Patients',
                icon: 'local_hospital',
                route: '/doctor-treatment',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Exercises',
                icon: 'fitness_center',
                route: '/exercises',
                section: 'services',
                userTypes: ['doctor']
            },
            {
                label: 'Diet Plans',
                icon: 'track_changes',
                route: '/diet',
                section: 'services',
                userTypes: ['doctor']
            },
            {
                label: 'Billing',
                icon: 'credit_card',
                route: '/billing',
                section: 'administration',
                userTypes: ['doctor']
            },
            {
                label: 'Settings',
                icon: 'settings',
                route: '/settings',
                section: 'tools',
                userTypes: ['doctor']
            },
            {
                label: 'Help & Support',
                icon: 'help_center',
                route: '/help',
                section: 'tools',
                userTypes: ['doctor']
            }
        ];
        // Admin menu items
        this.adminMenu = [
            {
                label: 'Dashboard',
                icon: 'dashboard',
                route: '/admin-dashboard',
                section: 'main',
                userTypes: ['admin']
            },
            {
                label: 'Doctors Management',
                icon: 'local_hospital',
                route: '/admin/doctors',
                section: 'management',
                userTypes: ['admin']
            },
            {
                label: 'Hospital Services',
                icon: 'healing',
                route: '/admin/services',
                section: 'services',
                userTypes: ['admin']
            },
            {
                label: 'Doctor Permissions',
                icon: 'tune',
                route: '/admin/doctor-permissions',
                section: 'management',
                userTypes: ['admin']
            },
            {
                label: 'Role Management',
                icon: 'security',
                route: '/admin/roles',
                section: 'administration',
                userTypes: ['admin']
            },
            {
                label: 'Plans & Offers',
                icon: 'card_giftcard',
                route: '/admin/plans',
                section: 'administration',
                userTypes: ['admin']
            },
            {
                label: 'Rooms & Beds',
                icon: 'hotel',
                route: '/admin/rooms',
                section: 'services',
                userTypes: ['admin']
            },
            {
                label: 'Government Schemes',
                icon: 'account_balance',
                route: '/admin/schemes',
                section: 'administration',
                userTypes: ['admin']
            },
            {
                label: 'Settings',
                icon: 'settings',
                route: '/settings',
                section: 'tools',
                userTypes: ['admin']
            },
            {
                label: 'Help & Support',
                icon: 'help_center',
                route: '/admin/help',
                section: 'tools',
                userTypes: ['admin']
            }
        ];
    }
    getMenuForUserType(userType) {
        if (userType === 'doctor') {
            return this.doctorMenu;
        }
        else if (userType === 'admin') {
            return this.adminMenu;
        }
        return [];
    }
    updateMenu(userType) {
        const menu = this.getMenuForUserType(userType);
        this.menuSubject.next(menu);
    }
    getMenu() {
        return this.menuSubject.asObservable();
    }
    getCurrentMenu() {
        return this.menuSubject.value;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: MenuService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: MenuService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: MenuService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: () => [] });

class HttpCallsService {
    constructor(http) {
        this.http = http;
        this.handleError = (error) => {
            const errorResponse = {
                message: error.message || 'An error occurred',
                status: error.status,
                statusText: error.statusText,
                error: error.error
            };
            return throwError(() => errorResponse);
        };
    }
    /**
     * Send GET request
     * @param url - The URL to send the GET request to
     * @param options - Optional HTTP options
     * @returns Observable with the response data
     */
    sendGet(url, options) {
        const httpOptions = this.prepareOptions(options);
        // Ensure observe is 'body' for simple methods unless explicitly set
        if (!options?.observe) {
            httpOptions.observe = 'body';
        }
        return this.http.get(url, httpOptions).pipe(catchError(this.handleError));
    }
    /**
     * Send POST request
     * @param url - The URL to send the POST request to
     * @param body - The request body
     * @param options - Optional HTTP options
     * @returns Observable with the response data
     */
    sendPost(url, body, options) {
        const httpOptions = this.prepareOptions(options);
        // Ensure observe is 'body' for simple methods unless explicitly set
        if (!options?.observe) {
            httpOptions.observe = 'body';
        }
        return this.http.post(url, body, httpOptions).pipe(catchError(this.handleError));
    }
    /**
     * Send PUT request
     * @param url - The URL to send the PUT request to
     * @param body - The request body
     * @param options - Optional HTTP options
     * @returns Observable with the response data
     */
    sendPut(url, body, options) {
        const httpOptions = this.prepareOptions(options);
        // Ensure observe is 'body' for simple methods unless explicitly set
        if (!options?.observe) {
            httpOptions.observe = 'body';
        }
        return this.http.put(url, body, httpOptions).pipe(catchError(this.handleError));
    }
    /**
     * Send PATCH request
     * @param url - The URL to send the PATCH request to
     * @param body - The request body
     * @param options - Optional HTTP options
     * @returns Observable with the response data
     */
    sendPatch(url, body, options) {
        const httpOptions = this.prepareOptions(options);
        // Ensure observe is 'body' for simple methods unless explicitly set
        if (!options?.observe) {
            httpOptions.observe = 'body';
        }
        return this.http.patch(url, body, httpOptions).pipe(catchError(this.handleError));
    }
    /**
     * Send DELETE request
     * @param url - The URL to send the DELETE request to
     * @param options - Optional HTTP options
     * @returns Observable with the response data
     */
    sendDelete(url, options) {
        const httpOptions = this.prepareOptions(options);
        // Ensure observe is 'body' for simple methods unless explicitly set
        if (!options?.observe) {
            httpOptions.observe = 'body';
        }
        return this.http.delete(url, httpOptions).pipe(catchError(this.handleError));
    }
    /**
     * Get full HTTP response (including headers, status, etc.)
     * @param url - The URL to send the GET request to
     * @param options - Optional HTTP options
     * @returns Observable with the full HTTP response
     */
    sendGetResponse(url, options) {
        const baseOptions = this.prepareOptions(options);
        const httpOptions = {
            ...baseOptions,
            observe: 'response'
        };
        return this.http.get(url, httpOptions).pipe(map((response) => ({
            data: response.body,
            status: response.status,
            statusText: response.statusText,
            headers: response.headers
        })), catchError(this.handleError));
    }
    /**
     * Post and get full HTTP response
     * @param url - The URL to send the POST request to
     * @param body - The request body
     * @param options - Optional HTTP options
     * @returns Observable with the full HTTP response
     */
    sendPostResponse(url, body, options) {
        const baseOptions = this.prepareOptions(options);
        const httpOptions = {
            ...baseOptions,
            observe: 'response'
        };
        return this.http.post(url, body, httpOptions).pipe(map((response) => ({
            data: response.body,
            status: response.status,
            statusText: response.statusText,
            headers: response.headers
        })), catchError(this.handleError));
    }
    prepareOptions(options) {
        const defaultOptions = {
            headers: new HttpHeaders({
                'Content-Type': 'application/json'
            }),
            observe: 'body',
            responseType: 'json'
        };
        if (options) {
            if (options.headers) {
                defaultOptions.headers = options.headers instanceof HttpHeaders
                    ? options.headers
                    : new HttpHeaders(options.headers);
            }
            if (options.params) {
                defaultOptions.params = options.params instanceof HttpParams
                    ? options.params
                    : new HttpParams({ fromObject: options.params });
            }
            if (options.observe) {
                defaultOptions.observe = options.observe;
            }
            if (options.reportProgress !== undefined) {
                defaultOptions.reportProgress = options.reportProgress;
            }
            if (options.responseType) {
                defaultOptions.responseType = options.responseType;
            }
            if (options.withCredentials !== undefined) {
                defaultOptions.withCredentials = options.withCredentials;
            }
        }
        return defaultOptions;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpCallsService, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpCallsService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpCallsService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: () => [{ type: i1.HttpClient }] });

class ChartService {
    constructor() {
        this.defaultOptions = {
            chart: {
                type: 'line'
            },
            title: {
                text: 'Chart'
            },
            credits: {
                enabled: false
            },
            legend: {
                enabled: true
            },
            tooltip: {
                enabled: true
            }
        };
    }
    /**
     * Create a chart instance
     * @param container - The DOM element or element ID to render the chart in
     * @param options - Chart configuration options
     * @returns Highcharts chart instance
     */
    createChart(container, options) {
        if (typeof Highcharts === 'undefined') {
            console.error('Highcharts library is not loaded. Please include Highcharts in your project.');
            return null;
        }
        const mergedOptions = this.mergeOptions(options);
        return Highcharts.chart(container, mergedOptions);
    }
    /**
     * Update an existing chart
     * @param chartInstance - The Highcharts chart instance
     * @param options - Chart configuration options to update
     */
    updateChart(chartInstance, options) {
        if (!chartInstance) {
            console.error('Chart instance is not provided');
            return;
        }
        const mergedOptions = this.mergeOptions(options);
        chartInstance.update(mergedOptions, true);
    }
    /**
     * Destroy a chart instance
     * @param chartInstance - The Highcharts chart instance to destroy
     */
    destroyChart(chartInstance) {
        if (chartInstance && typeof chartInstance.destroy === 'function') {
            chartInstance.destroy();
        }
    }
    /**
     * Get default chart options
     * @param type - Chart type
     * @returns Default chart options for the specified type
     */
    getDefaultOptions(type = 'line') {
        return {
            ...this.defaultOptions,
            chart: {
                ...this.defaultOptions.chart,
                type: type
            }
        };
    }
    /**
     * Create chart options object with provided input
     * @param input - Partial chart options
     * @returns Complete chart options object
     */
    createChartOptions(input) {
        return this.mergeOptions(input);
    }
    mergeOptions(options) {
        const merged = {
            ...this.defaultOptions,
            ...options
        };
        // Deep merge chart, title, and other nested objects
        if (options.chart) {
            merged.chart = {
                ...this.defaultOptions.chart,
                ...options.chart
            };
        }
        if (options.title) {
            merged.title = {
                ...this.defaultOptions.title,
                ...options.title
            };
        }
        return merged;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ChartService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ChartService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ChartService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }] });

class SnackbarService {
    constructor(snackBar) {
        this.snackBar = snackBar;
        this.defaultConfig = {
            duration: 3000,
            horizontalPosition: 'end',
            verticalPosition: 'bottom',
            panelClass: []
        };
    }
    /**
     * Show success message
     * @param message - Message to display
     * @param config - Optional snackbar configuration
     * @returns Snackbar reference
     */
    success(message, config) {
        return this.show(message, {
            ...config,
            panelClass: ['success-snackbar', ...(config?.panelClass ? (Array.isArray(config.panelClass) ? config.panelClass : [config.panelClass]) : [])]
        });
    }
    /**
     * Show error message
     * @param message - Message to display
     * @param config - Optional snackbar configuration
     * @returns Snackbar reference
     */
    error(message, config) {
        return this.show(message, {
            ...config,
            panelClass: ['error-snackbar', ...(config?.panelClass ? (Array.isArray(config.panelClass) ? config.panelClass : [config.panelClass]) : [])]
        });
    }
    /**
     * Show warning message
     * @param message - Message to display
     * @param config - Optional snackbar configuration
     * @returns Snackbar reference
     */
    warning(message, config) {
        return this.show(message, {
            ...config,
            panelClass: ['warning-snackbar', ...(config?.panelClass ? (Array.isArray(config.panelClass) ? config.panelClass : [config.panelClass]) : [])]
        });
    }
    /**
     * Show info message
     * @param message - Message to display
     * @param config - Optional snackbar configuration
     * @returns Snackbar reference
     */
    info(message, config) {
        return this.show(message, {
            ...config,
            panelClass: ['info-snackbar', ...(config?.panelClass ? (Array.isArray(config.panelClass) ? config.panelClass : [config.panelClass]) : [])]
        });
    }
    /**
     * Show custom message
     * @param message - Message to display
     * @param config - Optional snackbar configuration
     * @returns Snackbar reference
     */
    show(message, config) {
        const snackbarConfig = {
            ...this.defaultConfig,
            duration: config?.duration ?? this.defaultConfig.duration,
            horizontalPosition: config?.horizontalPosition ?? this.defaultConfig.horizontalPosition,
            verticalPosition: config?.verticalPosition ?? this.defaultConfig.verticalPosition,
            panelClass: config?.panelClass ?? this.defaultConfig.panelClass
        };
        const snackbarRef = this.snackBar.open(message, config?.action || 'Close', snackbarConfig);
        if (config?.actionCallback) {
            snackbarRef.onAction().subscribe(() => {
                config.actionCallback();
            });
        }
        return snackbarRef;
    }
    /**
     * Dismiss the currently open snackbar
     */
    dismiss() {
        this.snackBar.dismiss();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: SnackbarService, deps: [{ token: i1$1.MatSnackBar }], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: SnackbarService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: SnackbarService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: () => [{ type: i1$1.MatSnackBar }] });

class AuthGuard {
    constructor(authService, router) {
        this.authService = authService;
        this.router = router;
    }
    canActivate() {
        // Check storage directly to avoid timing issues with state initialization
        const token = this.authService.getStoredToken();
        const user = this.authService.getStoredUser();
        const refreshToken = this.authService.getStoredRefreshToken();
        // Must have both token and user data to be considered authenticated
        if (!token || !user) {
            this.router.navigate(['/login']);
            return false;
        }
        // Check if token is valid
        const isTokenValid = this.authService.isTokenValid(token);
        if (isTokenValid) {
            return true;
        }
        // Token is expired - check if we have a refresh token
        if (refreshToken) {
            // Allow access - token refresh will happen in background via initializeAuthState
            return true;
        }
        // Token is expired and no refresh token
        // Don't redirect immediately - let initializeAuthState handle it
        // This prevents race conditions where guard runs before state is initialized
        // If state initialization clears data, the next navigation will redirect
        console.warn('Token expired and no refresh token found. Access may be denied after state initialization.');
        // Check auth state as fallback (in case initializeAuthState already ran)
        const isAuthenticated = this.authService.isAuthenticated();
        if (!isAuthenticated) {
            this.router.navigate(['/login']);
            return false;
        }
        // If authenticated in state but token expired and no refresh token, allow for now
        // The HTTP interceptor will handle 401 errors
        return true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AuthGuard, deps: [{ token: AuthService }, { token: i2.Router }], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AuthGuard, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AuthGuard, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: () => [{ type: AuthService }, { type: i2.Router }] });

class LoginGuard {
    constructor(authService, router) {
        this.authService = authService;
        this.router = router;
    }
    canActivate() {
        // Check if user is authenticated and token is valid
        const isAuthenticated = this.authService.isAuthenticated();
        if (isAuthenticated && this.authService.isTokenValid()) {
            // User is already authenticated, redirect to appropriate dashboard
            const userType = this.authService.getUserType();
            if (userType === 'HOSPITAL') {
                this.router.navigate(['/admin-dashboard']);
            }
            else if (userType === 'DOCTOR') {
                this.router.navigate(['/dashboard']);
            }
            else if (userType === 'PATIENT') {
                this.router.navigate(['/patient-dashboard']);
            }
            else {
                // Default to dashboard
                this.router.navigate(['/dashboard']);
            }
            return false;
        }
        else {
            // Clear invalid auth data if exists
            if (isAuthenticated) {
                this.authService.logout();
            }
            // Allow access to login page
            return true;
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: LoginGuard, deps: [{ token: AuthService }, { token: i2.Router }], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: LoginGuard, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: LoginGuard, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: () => [{ type: AuthService }, { type: i2.Router }] });

class HttpInterceptorService {
    constructor() {
        this.authService = inject(AuthService);
        this.isRefreshing = false;
        this.refreshTokenSubject = new BehaviorSubject(null);
    }
    intercept(req, next) {
        // Get auth headers
        const authHeaders = this.authService.getAuthHeaders();
        // Clone the request and add headers
        const headers = {
            'Content-Type': 'application/json',
            'Accept': 'application/json',
            'X-Requested-With': 'XMLHttpRequest',
            ...authHeaders
        };
        // Don't add Content-Type for FormData requests
        if (req.body instanceof FormData) {
            delete headers['Content-Type'];
        }
        const authReq = req.clone({
            setHeaders: headers
        });
        return next.handle(authReq).pipe(catchError((error) => {
            console.error('HTTP Error:', error);
            // Handle CORS errors specifically
            if (error.status === 0) {
                console.error('CORS Error: Unable to connect to server');
                return throwError(() => new Error('Unable to connect to server. Please check your network connection.'));
            }
            // Handle redirect errors
            if (error.status === 307 || error.status === 302) {
                console.error('Redirect Error:', error);
                return throwError(() => new Error('Server redirect error. Please check the API endpoint configuration.'));
            }
            // Handle 401 Unauthorized - token expired
            if (error.status === 401 && !req.url.includes('/api/auth/refresh') && !req.url.includes('/api/auth/login')) {
                return this.handle401Error(req, next);
            }
            return throwError(() => error);
        }));
    }
    handle401Error(request, next) {
        if (!this.isRefreshing) {
            this.isRefreshing = true;
            this.refreshTokenSubject.next(null);
            const refreshToken = this.authService.getStoredRefreshToken();
            if (refreshToken) {
                return this.authService.refreshToken().pipe(switchMap((success) => {
                    this.isRefreshing = false;
                    if (success) {
                        this.refreshTokenSubject.next(success);
                        // Retry the original request with new token
                        const authHeaders = this.authService.getAuthHeaders();
                        const headers = {
                            'Content-Type': 'application/json',
                            'Accept': 'application/json',
                            'X-Requested-With': 'XMLHttpRequest',
                            ...authHeaders
                        };
                        if (request.body instanceof FormData) {
                            delete headers['Content-Type'];
                        }
                        const clonedRequest = request.clone({
                            setHeaders: headers
                        });
                        return next.handle(clonedRequest);
                    }
                    else {
                        // Refresh failed, logout user
                        this.authService.logout();
                        return throwError(() => new Error('Token refresh failed. Please login again.'));
                    }
                }), catchError((err) => {
                    this.isRefreshing = false;
                    this.authService.logout();
                    return throwError(() => err);
                }));
            }
            else {
                // No refresh token available
                this.isRefreshing = false;
                this.authService.logout();
                return throwError(() => new Error('No refresh token available. Please login again.'));
            }
        }
        else {
            // Token refresh is in progress, wait for it to complete
            return this.refreshTokenSubject.pipe(filter(token => token !== null), take(1), switchMap(() => {
                const authHeaders = this.authService.getAuthHeaders();
                const headers = {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json',
                    'X-Requested-With': 'XMLHttpRequest',
                    ...authHeaders
                };
                if (request.body instanceof FormData) {
                    delete headers['Content-Type'];
                }
                const clonedRequest = request.clone({
                    setHeaders: headers
                });
                return next.handle(clonedRequest);
            }));
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpInterceptorService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpInterceptorService }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: HttpInterceptorService, decorators: [{
            type: Injectable
        }] });

/**
 * Common utility functions
 */
class CommonUtils {
    static getCounter(counter) {
        if (!counter)
            return '0';
        if (counter > 9)
            return '' + counter + '+';
        return '' + counter;
    }
}

const CHIP_COLORS = {
    ACTIVE: '#149d14d4',
    INACTIVE: '#f23a3ae6',
    ON_LEAVE: '#ff9800',
    RETIRED: '#607d8b',
    SCHEDULED: '#149d14d4',
    CANCELED: '#f23a3ae6',
    COMPLETED: '#ff9800',
    A_POSITIVE: '#149d14d4',
    A_NEGATIVE: '#f23a3ae6',
    B_POSITIVE: '#ff9800',
    B_NEGATIVE: '#607d8b',
    AB_POSITIVE: '#149d14d4',
    AB_NEGATIVE: '#f23a3ae6',
    O_POSITIVE: '#ff9800',
    O_NEGATIVE: '#607d8b',
    true: '#149d14d4',
    false: '#f23a3ae6',
};

class AppInputComponent {
    constructor(http) {
        this.http = http;
        this.type = 'text';
        this.placeholder = '';
        this.value = '';
        this.disabled = false;
        this.required = false;
        this.appearance = 'outline';
        this.label = '';
        this.errorMessage = '';
        this.multiline = false;
        this.rows = 1;
        this.prefixIconSize = '24px';
        this.suffixIconSize = '24px';
        this.search = false;
        this.searchUrl = '';
        this.valueChange = new EventEmitter();
        this.searchResults = new EventEmitter();
        this.searchOptions = [];
        this.searchSubject = new Subject();
        // ControlValueAccessor implementation
        this.onChange = (value) => { };
        this.onTouched = () => { };
        this.searchSubject.pipe(debounceTime(300), distinctUntilChanged(), switchMap((searchValue) => {
            if (this.search && this.searchUrl && searchValue) {
                const url = this.searchUrl.replace('${searchValue}', encodeURIComponent(searchValue));
                return this.http.get(url);
            }
            return of([]);
        })).subscribe(results => {
            this.searchOptions = results;
            this.searchResults.emit(results);
        });
    }
    onInput(event) {
        const input = event.target;
        this.value = input.value;
        this.valueChange.emit(input.value);
        this.onChange(input.value);
        this.onTouched();
        if (this.search) {
            this.searchSubject.next(input.value);
        }
    }
    // ControlValueAccessor methods
    writeValue(value) {
        this.value = value || '';
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    // Handle form control value changes
    onFormControlChange(value) {
        this.value = value;
        this.onChange(value);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AppInputComponent, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: AppInputComponent, isStandalone: true, selector: "app-input", inputs: { type: "type", placeholder: "placeholder", value: "value", disabled: "disabled", required: "required", appearance: "appearance", label: "label", errorMessage: "errorMessage", multiline: "multiline", rows: "rows", prefixIconName: "prefixIconName", prefixIconSize: "prefixIconSize", suffixIconName: "suffixIconName", suffixIconSize: "suffixIconSize", search: "search", searchUrl: "searchUrl" }, outputs: { valueChange: "valueChange", searchResults: "searchResults" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => AppInputComponent),
                multi: true
            }
        ], ngImport: i0, template: "@if(search && !multiline) {\n  <mat-form-field [appearance]=\"appearance\" class=\"app-search-input-field\" hideRequiredMarker=\"true\">\n    <mat-label *ngIf=\"label\">{{ label }}</mat-label>\n    @if(prefixIconName) {\n      <mat-icon matPrefix [style.fontSize]=\"prefixIconSize\">{{ prefixIconName }}</mat-icon>\n    }\n    <input\n      matInput\n      [type]=\"type\"\n      [placeholder]=\"placeholder\"\n      [disabled]=\"disabled\"\n      [required]=\"required\"\n      [value]=\"value\"\n      (input)=\"onInput($event)\"\n      [matAutocomplete]=\"auto\"\n    />\n    @if(suffixIconName) {\n      <mat-icon matSuffix [style.fontSize]=\"suffixIconSize\">{{ suffixIconName }}</mat-icon>\n    }\n    <mat-error *ngIf=\"errorMessage\">{{ errorMessage }}</mat-error>\n    <mat-autocomplete #auto=\"matAutocomplete\">\n      <mat-option *ngFor=\"let option of searchOptions\" [value]=\"option\">\n        {{ option }}\n      </mat-option>\n    </mat-autocomplete>\n  </mat-form-field>\n} @else {\n  <mat-form-field [appearance]=\"appearance\" class=\"app-input-field\" hideRequiredMarker=\"true\">\n    <mat-label *ngIf=\"label\">{{ label }}</mat-label>\n    @if(prefixIconName) {\n      <mat-icon matPrefix [style.fontSize]=\"prefixIconSize\">{{ prefixIconName }}</mat-icon>\n    }\n    @if(multiline) {\n      <textarea\n        matInput\n        [placeholder]=\"placeholder\"\n        [disabled]=\"disabled\"\n        [required]=\"required\"\n        [value]=\"value\"\n        (input)=\"onInput($event)\"\n        [rows]=\"rows\">\n      </textarea>\n    } @else {\n      <input\n        matInput\n        [type]=\"type\"\n        [placeholder]=\"placeholder\"\n        [disabled]=\"disabled\"\n        [required]=\"required\"\n        [value]=\"value\"\n        (input)=\"onInput($event)\"\n      />\n    }\n    @if(suffixIconName) {\n      <mat-icon matSuffix [style.fontSize]=\"suffixIconSize\">{{ suffixIconName }}</mat-icon>\n    }\n    <mat-error *ngIf=\"errorMessage\">{{ errorMessage }}</mat-error>\n  </mat-form-field>\n}\n", styles: [".app-search-input-field{width:100%;background:#fff;border-radius:var(--input-radius);box-shadow:0 0 0 1px #ececec;transition:box-shadow .2s}.app-search-input-field .mat-mdc-form-field-flex{border-radius:2rem;background:#fff;min-height:48px;align-items:center;box-shadow:none;border:none;padding-left:.5rem;padding-right:.5rem}.app-search-input-field .mat-mdc-form-field-outline{display:none}.app-search-input-field .mat-mdc-form-field-infix{padding:0}.app-search-input-field .mat-mdc-form-field-label{display:none}.app-search-input-field .mat-mdc-input-element{font-size:1.1rem;color:#222;background:transparent;border:none;outline:none;box-shadow:none;padding:.75rem 0}.app-search-input-field .mat-mdc-input-element::placeholder{color:silver;opacity:1;font-weight:400}.app-search-input-field .mat-icon{color:#18b6b2;font-size:1.5rem!important;margin-right:.5rem;margin-left:.25rem;vertical-align:middle}.app-search-input-field .mat-mdc-form-field-subscript-wrapper{display:none!important}.app-search-input-field ::ng-deep .mdc-notched-outline__leading,.app-search-input-field ::ng-deep .mdc-notched-outline__trailing{border-color:transparent!important}.app-search-input-field ::ng-deep .mat-mdc-text-field-wrapper{height:2.5em!important}.app-search-input-field ::ng-deep .mat-mdc-form-field-flex{align-self:center;height:3.5em!important}.app-search-input-field ::ng-deep .mat-mdc-form-field-infix{padding-bottom:0!important;padding-top:.25em}.app-input-field{width:100%}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1$2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "component", type: i2$1.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i2$1.MatLabel, selector: "mat-label" }, { kind: "directive", type: i2$1.MatError, selector: "mat-error, [matError]", inputs: ["id"] }, { kind: "directive", type: i2$1.MatPrefix, selector: "[matPrefix], [matIconPrefix], [matTextPrefix]", inputs: ["matTextPrefix"] }, { kind: "directive", type: i2$1.MatSuffix, selector: "[matSuffix], [matIconSuffix], [matTextSuffix]", inputs: ["matTextSuffix"] }, { kind: "ngmodule", type: MatInputModule }, { kind: "directive", type: i4.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i5.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "ngmodule", type: MatAutocompleteModule }, { kind: "component", type: i6.MatAutocomplete, selector: "mat-autocomplete", inputs: ["aria-label", "aria-labelledby", "displayWith", "autoActiveFirstOption", "autoSelectActiveOption", "requireSelection", "panelWidth", "disableRipple", "class", "hideSingleSelectionIndicator"], outputs: ["optionSelected", "opened", "closed", "optionActivated"], exportAs: ["matAutocomplete"] }, { kind: "component", type: i7.MatOption, selector: "mat-option", inputs: ["value", "id", "disabled"], outputs: ["onSelectionChange"], exportAs: ["matOption"] }, { kind: "directive", type: i6.MatAutocompleteTrigger, selector: "input[matAutocomplete], textarea[matAutocomplete]", inputs: ["matAutocomplete", "matAutocompletePosition", "matAutocompleteConnectedTo", "autocomplete", "matAutocompleteDisabled"], exportAs: ["matAutocompleteTrigger"] }, { kind: "ngmodule", type: FormsModule }, { kind: "ngmodule", type: HttpClientModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AppInputComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-input', standalone: true, imports: [CommonModule, MatFormFieldModule, MatInputModule, MatIconModule, MatAutocompleteModule, FormsModule, HttpClientModule], providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => AppInputComponent),
                            multi: true
                        }
                    ], template: "@if(search && !multiline) {\n  <mat-form-field [appearance]=\"appearance\" class=\"app-search-input-field\" hideRequiredMarker=\"true\">\n    <mat-label *ngIf=\"label\">{{ label }}</mat-label>\n    @if(prefixIconName) {\n      <mat-icon matPrefix [style.fontSize]=\"prefixIconSize\">{{ prefixIconName }}</mat-icon>\n    }\n    <input\n      matInput\n      [type]=\"type\"\n      [placeholder]=\"placeholder\"\n      [disabled]=\"disabled\"\n      [required]=\"required\"\n      [value]=\"value\"\n      (input)=\"onInput($event)\"\n      [matAutocomplete]=\"auto\"\n    />\n    @if(suffixIconName) {\n      <mat-icon matSuffix [style.fontSize]=\"suffixIconSize\">{{ suffixIconName }}</mat-icon>\n    }\n    <mat-error *ngIf=\"errorMessage\">{{ errorMessage }}</mat-error>\n    <mat-autocomplete #auto=\"matAutocomplete\">\n      <mat-option *ngFor=\"let option of searchOptions\" [value]=\"option\">\n        {{ option }}\n      </mat-option>\n    </mat-autocomplete>\n  </mat-form-field>\n} @else {\n  <mat-form-field [appearance]=\"appearance\" class=\"app-input-field\" hideRequiredMarker=\"true\">\n    <mat-label *ngIf=\"label\">{{ label }}</mat-label>\n    @if(prefixIconName) {\n      <mat-icon matPrefix [style.fontSize]=\"prefixIconSize\">{{ prefixIconName }}</mat-icon>\n    }\n    @if(multiline) {\n      <textarea\n        matInput\n        [placeholder]=\"placeholder\"\n        [disabled]=\"disabled\"\n        [required]=\"required\"\n        [value]=\"value\"\n        (input)=\"onInput($event)\"\n        [rows]=\"rows\">\n      </textarea>\n    } @else {\n      <input\n        matInput\n        [type]=\"type\"\n        [placeholder]=\"placeholder\"\n        [disabled]=\"disabled\"\n        [required]=\"required\"\n        [value]=\"value\"\n        (input)=\"onInput($event)\"\n      />\n    }\n    @if(suffixIconName) {\n      <mat-icon matSuffix [style.fontSize]=\"suffixIconSize\">{{ suffixIconName }}</mat-icon>\n    }\n    <mat-error *ngIf=\"errorMessage\">{{ errorMessage }}</mat-error>\n  </mat-form-field>\n}\n", styles: [".app-search-input-field{width:100%;background:#fff;border-radius:var(--input-radius);box-shadow:0 0 0 1px #ececec;transition:box-shadow .2s}.app-search-input-field .mat-mdc-form-field-flex{border-radius:2rem;background:#fff;min-height:48px;align-items:center;box-shadow:none;border:none;padding-left:.5rem;padding-right:.5rem}.app-search-input-field .mat-mdc-form-field-outline{display:none}.app-search-input-field .mat-mdc-form-field-infix{padding:0}.app-search-input-field .mat-mdc-form-field-label{display:none}.app-search-input-field .mat-mdc-input-element{font-size:1.1rem;color:#222;background:transparent;border:none;outline:none;box-shadow:none;padding:.75rem 0}.app-search-input-field .mat-mdc-input-element::placeholder{color:silver;opacity:1;font-weight:400}.app-search-input-field .mat-icon{color:#18b6b2;font-size:1.5rem!important;margin-right:.5rem;margin-left:.25rem;vertical-align:middle}.app-search-input-field .mat-mdc-form-field-subscript-wrapper{display:none!important}.app-search-input-field ::ng-deep .mdc-notched-outline__leading,.app-search-input-field ::ng-deep .mdc-notched-outline__trailing{border-color:transparent!important}.app-search-input-field ::ng-deep .mat-mdc-text-field-wrapper{height:2.5em!important}.app-search-input-field ::ng-deep .mat-mdc-form-field-flex{align-self:center;height:3.5em!important}.app-search-input-field ::ng-deep .mat-mdc-form-field-infix{padding-bottom:0!important;padding-top:.25em}.app-input-field{width:100%}\n"] }]
        }], ctorParameters: () => [{ type: i1.HttpClient }], propDecorators: { type: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], value: [{
                type: Input
            }], disabled: [{
                type: Input
            }], required: [{
                type: Input
            }], appearance: [{
                type: Input
            }], label: [{
                type: Input
            }], errorMessage: [{
                type: Input
            }], multiline: [{
                type: Input
            }], rows: [{
                type: Input
            }], prefixIconName: [{
                type: Input
            }], prefixIconSize: [{
                type: Input
            }], suffixIconName: [{
                type: Input
            }], suffixIconSize: [{
                type: Input
            }], search: [{
                type: Input
            }], searchUrl: [{
                type: Input
            }], valueChange: [{
                type: Output
            }], searchResults: [{
                type: Output
            }] } });

class AppSelectboxComponent {
    constructor() {
        this.options = [];
        this.displayExpr = '';
        this.valueField = '';
        this.placeholder = '';
        this.label = '';
        this.formGroup = new FormGroup({});
        this.formControlName = '';
        this.disabled = false;
        this.required = false;
        this.errorMessage = '';
        this.formControl = new FormControl('');
        this.control = new FormControl('');
        this.dataChange = new EventEmitter();
        // ControlValueAccessor implementation
        this.onChange = (value) => { };
        this.onTouched = () => { };
        this.formGroup.addControl(this.formControlName, this.formControl);
    }
    onSelectionChange(value) {
        this.data = value;
        this.dataChange.emit(this.data);
        this.onChange(value);
        this.onTouched();
    }
    getDisplay(option) {
        return this.displayExpr ? option?.[this.displayExpr] : option;
    }
    getValue(option) {
        return this.valueField ? option?.[this.valueField] : option;
    }
    // ControlValueAccessor methods
    writeValue(value) {
        this.data = value;
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AppSelectboxComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: AppSelectboxComponent, isStandalone: true, selector: "app-selectbox", inputs: { options: "options", displayExpr: "displayExpr", valueField: "valueField", placeholder: "placeholder", label: "label", formGroup: "formGroup", formControlName: "formControlName", disabled: "disabled", required: "required", errorMessage: "errorMessage", data: "data" }, outputs: { dataChange: "dataChange" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => AppSelectboxComponent),
                multi: true
            }
        ], ngImport: i0, template: "<!-- <mat-form-field class=\"app-selectbox-field\" appearance=\"outline\">\n  \n  <mat-select\n    [formControl]=\"control\"\n    [placeholder]=\"placeholder\"\n    [disabled]=\"disabled\"\n    [value]=\"data\"\n    (selectionChange)=\"onSelectionChange($event.value)\"\n    [required]=\"required\"\n  >\n    <mat-option *ngFor=\"let option of options\" [value]=\"getValue(option)\">\n      {{ getDisplay(option) }}\n    </mat-option>\n  </mat-select>\n  <mat-error *ngIf=\"errorMessage\">{{ errorMessage }}</mat-error>\n</mat-form-field> -->\n\n\n<mat-form-field>\n  <mat-label *ngIf=\"label\">{{ label }}</mat-label>\n  <mat-select name=\"countryString\" [(value)]=\"data\" [placeholder]=\"placeholder\">\n    @for (option of options; track option.value) {\n      <mat-option [value]=\"getValue(option)\">{{ getDisplay(option) }}</mat-option>\n    }\n  </mat-select>\n</mat-form-field>", styles: [".app-selectbox-field{width:100%;margin-bottom:1rem}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: MatSelectModule }, { kind: "component", type: i2$1.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i2$1.MatLabel, selector: "mat-label" }, { kind: "component", type: i3.MatSelect, selector: "mat-select", inputs: ["aria-describedby", "panelClass", "disabled", "disableRipple", "tabIndex", "hideSingleSelectionIndicator", "placeholder", "required", "multiple", "disableOptionCentering", "compareWith", "value", "aria-label", "aria-labelledby", "errorStateMatcher", "typeaheadDebounceInterval", "sortComparator", "id", "panelWidth"], outputs: ["openedChange", "opened", "closed", "selectionChange", "valueChange"], exportAs: ["matSelect"] }, { kind: "component", type: i7.MatOption, selector: "mat-option", inputs: ["value", "id", "disabled"], outputs: ["onSelectionChange"], exportAs: ["matOption"] }, { kind: "ngmodule", type: FormsModule }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "ngmodule", type: MatOptionModule }, { kind: "ngmodule", type: ReactiveFormsModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AppSelectboxComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-selectbox', standalone: true, imports: [CommonModule, MatSelectModule, FormsModule, MatFormFieldModule, MatOptionModule, ReactiveFormsModule], providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => AppSelectboxComponent),
                            multi: true
                        }
                    ], template: "<!-- <mat-form-field class=\"app-selectbox-field\" appearance=\"outline\">\n  \n  <mat-select\n    [formControl]=\"control\"\n    [placeholder]=\"placeholder\"\n    [disabled]=\"disabled\"\n    [value]=\"data\"\n    (selectionChange)=\"onSelectionChange($event.value)\"\n    [required]=\"required\"\n  >\n    <mat-option *ngFor=\"let option of options\" [value]=\"getValue(option)\">\n      {{ getDisplay(option) }}\n    </mat-option>\n  </mat-select>\n  <mat-error *ngIf=\"errorMessage\">{{ errorMessage }}</mat-error>\n</mat-form-field> -->\n\n\n<mat-form-field>\n  <mat-label *ngIf=\"label\">{{ label }}</mat-label>\n  <mat-select name=\"countryString\" [(value)]=\"data\" [placeholder]=\"placeholder\">\n    @for (option of options; track option.value) {\n      <mat-option [value]=\"getValue(option)\">{{ getDisplay(option) }}</mat-option>\n    }\n  </mat-select>\n</mat-form-field>", styles: [".app-selectbox-field{width:100%;margin-bottom:1rem}\n"] }]
        }], ctorParameters: () => [], propDecorators: { options: [{
                type: Input
            }], displayExpr: [{
                type: Input
            }], valueField: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], label: [{
                type: Input
            }], formGroup: [{
                type: Input
            }], formControlName: [{
                type: Input
            }], disabled: [{
                type: Input
            }], required: [{
                type: Input
            }], errorMessage: [{
                type: Input
            }], data: [{
                type: Input
            }], dataChange: [{
                type: Output
            }] } });

class IconComponent {
    constructor() {
        this.fontSet = '';
        this.fontIcon = '';
        this.iconType = 'material'; // Type of icon to use
        this.icomoonClass = ''; // Icomoon icon class (e.g., 'icon-home')
        this.size = 24;
        this.isBlink = false;
        this.fontBold = false;
        this.color = '#888';
        this.class = '';
        this.counter = null;
        this.isCovered = false;
        this.iconClick = new EventEmitter();
    }
    onClick(event) {
        this.iconClick.emit(event);
    }
    ngOnInit() {
        if (!this.fontIcon) {
            this.counter = CommonUtils.getCounter(this.counter);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: IconComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: IconComponent, isStandalone: true, selector: "app-icon", inputs: { fontSet: "fontSet", fontIcon: "fontIcon", iconType: "iconType", icomoonClass: "icomoonClass", size: "size", isBlink: "isBlink", fontBold: "fontBold", color: "color", class: "class", counter: "counter", isCovered: "isCovered" }, outputs: { iconClick: "iconClick" }, ngImport: i0, template: "@if(isCovered && !counter){ \n  <div class=\"icon-covered\">\n    @if(iconType === 'icomoon') {\n      <i \n        [class]=\"'icomoon ' + icomoonClass + ' ' + class\"\n        [style.fontSize.px]=\"size\"\n        [style.color]=\"color\"\n        (click)=\"onClick($event)\"\n        style=\"vertical-align: middle; cursor: pointer;\"\n      ></i>\n    } @else {\n      <mat-icon\n        [fontIcon]=\"fontIcon\"\n        [ngClass]=\"'material-icon ' + class\"\n        [style.fontSize.px]=\"size\"\n        [style.color]=\"color\"\n        (click)=\"onClick($event)\"\n        style=\"vertical-align: middle; cursor: pointer;\"\n      ></mat-icon>\n    }\n  </div>\n}\n@else if(counter){\n  <div class=\"icon-covered\" (click)=\"onClick($event)\" [class]=\"{'icon-blink': isBlink, 'font-bold': fontBold}\">\n    <span class=\"counter\" [style.color]=\"color\">{{counter}}</span>\n  </div>\n}\n@else{\n  @if(iconType === 'icomoon') {\n    <i \n      [class]=\"'icomoon icon-' + fontIcon + ' ' + class\"\n      [style.fontSize.px]=\"size\"\n      [style.color]=\"color\"\n      (click)=\"onClick($event)\"\n      style=\"vertical-align: middle; cursor: pointer;\"\n    ></i>\n  } @else {\n    <mat-icon\n      [fontIcon]=\"fontIcon\"\n      [ngClass]=\"'material-icon ' + class\"\n      [style.fontSize.px]=\"size\"\n      [style.color]=\"color === 'primary' ? 'var(--primary-color)' : color\"\n      [color]=\"color === 'primary' ? 'var(--primary-color)' : color\"\n      (click)=\"onClick($event)\"\n      style=\"vertical-align: middle; cursor: pointer;\"\n    ></mat-icon>\n  }\n}", styles: [".lucide{display:inline-block;vertical-align:middle}.icomoon,i.icomoon[class^=icon-],i.icomoon[class*=\" icon-\"]{display:inline-block;vertical-align:middle;line-height:1;font-family:icomoon!important}.icon-covered{display:flex;align-items:center;justify-content:center;width:var(--primary-icon-width);height:var(--primary-icon-height);border:var(--primary-border);border-radius:var(--button-radius);background:var(--secondary-color);box-shadow:var(--primary-shadow);cursor:pointer}.icon-covered i.icomoon[class^=icon-],.icon-covered i.icomoon[class*=\" icon-\"]{display:flex;align-items:center;justify-content:center}.icon-blink{animation:blink 1s infinite}.font-bold{font-weight:600}@keyframes blink{0%{opacity:1}50%{opacity:.3}}.material-icon ::ng-deep .material-icons{font-family:Material Icons!important;font-weight:400;font-style:normal;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:\"liga\"}\n"], dependencies: [{ kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i5.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: IconComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-icon', standalone: true, imports: [MatIconModule, NgClass], template: "@if(isCovered && !counter){ \n  <div class=\"icon-covered\">\n    @if(iconType === 'icomoon') {\n      <i \n        [class]=\"'icomoon ' + icomoonClass + ' ' + class\"\n        [style.fontSize.px]=\"size\"\n        [style.color]=\"color\"\n        (click)=\"onClick($event)\"\n        style=\"vertical-align: middle; cursor: pointer;\"\n      ></i>\n    } @else {\n      <mat-icon\n        [fontIcon]=\"fontIcon\"\n        [ngClass]=\"'material-icon ' + class\"\n        [style.fontSize.px]=\"size\"\n        [style.color]=\"color\"\n        (click)=\"onClick($event)\"\n        style=\"vertical-align: middle; cursor: pointer;\"\n      ></mat-icon>\n    }\n  </div>\n}\n@else if(counter){\n  <div class=\"icon-covered\" (click)=\"onClick($event)\" [class]=\"{'icon-blink': isBlink, 'font-bold': fontBold}\">\n    <span class=\"counter\" [style.color]=\"color\">{{counter}}</span>\n  </div>\n}\n@else{\n  @if(iconType === 'icomoon') {\n    <i \n      [class]=\"'icomoon icon-' + fontIcon + ' ' + class\"\n      [style.fontSize.px]=\"size\"\n      [style.color]=\"color\"\n      (click)=\"onClick($event)\"\n      style=\"vertical-align: middle; cursor: pointer;\"\n    ></i>\n  } @else {\n    <mat-icon\n      [fontIcon]=\"fontIcon\"\n      [ngClass]=\"'material-icon ' + class\"\n      [style.fontSize.px]=\"size\"\n      [style.color]=\"color === 'primary' ? 'var(--primary-color)' : color\"\n      [color]=\"color === 'primary' ? 'var(--primary-color)' : color\"\n      (click)=\"onClick($event)\"\n      style=\"vertical-align: middle; cursor: pointer;\"\n    ></mat-icon>\n  }\n}", styles: [".lucide{display:inline-block;vertical-align:middle}.icomoon,i.icomoon[class^=icon-],i.icomoon[class*=\" icon-\"]{display:inline-block;vertical-align:middle;line-height:1;font-family:icomoon!important}.icon-covered{display:flex;align-items:center;justify-content:center;width:var(--primary-icon-width);height:var(--primary-icon-height);border:var(--primary-border);border-radius:var(--button-radius);background:var(--secondary-color);box-shadow:var(--primary-shadow);cursor:pointer}.icon-covered i.icomoon[class^=icon-],.icon-covered i.icomoon[class*=\" icon-\"]{display:flex;align-items:center;justify-content:center}.icon-blink{animation:blink 1s infinite}.font-bold{font-weight:600}@keyframes blink{0%{opacity:1}50%{opacity:.3}}.material-icon ::ng-deep .material-icons{font-family:Material Icons!important;font-weight:400;font-style:normal;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:\"liga\"}\n"] }]
        }], propDecorators: { fontSet: [{
                type: Input
            }], fontIcon: [{
                type: Input
            }], iconType: [{
                type: Input
            }], icomoonClass: [{
                type: Input
            }], size: [{
                type: Input
            }], isBlink: [{
                type: Input
            }], fontBold: [{
                type: Input
            }], color: [{
                type: Input
            }], class: [{
                type: Input
            }], counter: [{
                type: Input
            }], isCovered: [{
                type: Input
            }], iconClick: [{
                type: Output
            }] } });

class AppButtonComponent {
    constructor() {
        this.color = 'primary';
        this.type = 'button';
        this.disabled = false;
        this.appearance = 'basic';
        this.class = '';
        this.text = '';
        this.fontIcon = '';
        this.btnClick = new EventEmitter();
    }
    onClick(event) {
        this.btnClick.emit(event);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AppButtonComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: AppButtonComponent, isStandalone: true, selector: "app-button", inputs: { color: "color", type: "type", disabled: "disabled", appearance: "appearance", class: "class", text: "text", fontIcon: "fontIcon" }, outputs: { btnClick: "btnClick" }, ngImport: i0, template: "<ng-template #btnContent>\n  @if(appearance === 'icon') {\n    <app-icon [fontIcon]=\"fontIcon\"></app-icon>\n  }\n  @if(text) {\n    <span>{{ text }}</span>\n  }\n  <ng-content></ng-content>\n</ng-template>\n\n<ng-container [ngSwitch]=\"appearance || 'basic'\">\n  <button *ngSwitchCase=\"'raised'\" mat-raised-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'flat'\" mat-flat-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'stroked'\" mat-stroked-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'icon'\" mat-icon-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'fab'\" mat-fab [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'mini-fab'\" mat-mini-fab [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchDefault mat-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n</ng-container>\n", styles: [""], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1$2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i1$2.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { kind: "directive", type: i1$2.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { kind: "directive", type: i1$2.NgSwitchDefault, selector: "[ngSwitchDefault]" }, { kind: "ngmodule", type: MatButtonModule }, { kind: "component", type: i2$2.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "component", type: i2$2.MatIconButton, selector: "button[mat-icon-button]", exportAs: ["matButton"] }, { kind: "component", type: i2$2.MatMiniFabButton, selector: "button[mat-mini-fab]", exportAs: ["matButton"] }, { kind: "component", type: i2$2.MatFabButton, selector: "button[mat-fab]", inputs: ["extended"], exportAs: ["matButton"] }, { kind: "component", type: IconComponent, selector: "app-icon", inputs: ["fontSet", "fontIcon", "iconType", "icomoonClass", "size", "isBlink", "fontBold", "color", "class", "counter", "isCovered"], outputs: ["iconClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: AppButtonComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-button', standalone: true, imports: [CommonModule, MatButtonModule, NgClass, NgSwitch, NgSwitchCase, NgSwitchDefault, NgTemplateOutlet, IconComponent], template: "<ng-template #btnContent>\n  @if(appearance === 'icon') {\n    <app-icon [fontIcon]=\"fontIcon\"></app-icon>\n  }\n  @if(text) {\n    <span>{{ text }}</span>\n  }\n  <ng-content></ng-content>\n</ng-template>\n\n<ng-container [ngSwitch]=\"appearance || 'basic'\">\n  <button *ngSwitchCase=\"'raised'\" mat-raised-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'flat'\" mat-flat-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'stroked'\" mat-stroked-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'icon'\" mat-icon-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'fab'\" mat-fab [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchCase=\"'mini-fab'\" mat-mini-fab [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n  <button *ngSwitchDefault mat-button [color]=\"color\" [type]=\"type\" [disabled]=\"disabled\" [ngClass]=\"class\" (click)=\"onClick($event)\">\n    <ng-container *ngTemplateOutlet=\"btnContent\"></ng-container>\n  </button>\n</ng-container>\n" }]
        }], propDecorators: { color: [{
                type: Input
            }], type: [{
                type: Input
            }], disabled: [{
                type: Input
            }], appearance: [{
                type: Input
            }], class: [{
                type: Input
            }], text: [{
                type: Input
            }], fontIcon: [{
                type: Input
            }], btnClick: [{
                type: Output
            }] } });

class DatePickerComponent {
    constructor() {
        this.label = '';
        this.placeholder = 'Select date';
        this.required = false;
        this.disabled = false;
        this.minDate = null;
        this.maxDate = null;
        this.startView = 'month';
        this.value = null;
        this.touched = false;
        // ControlValueAccessor methods
        this.onChange = (value) => { };
        this.onTouched = () => { };
    }
    ngOnInit() {
        // Convert string inputs to Date objects if needed
        if (this.minDate && typeof this.minDate === 'string') {
            this.minDate = new Date(this.minDate);
        }
        if (this.maxDate && typeof this.maxDate === 'string') {
            this.maxDate = new Date(this.maxDate);
        }
    }
    writeValue(value) {
        this.value = value;
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    onDateChange(date) {
        this.value = date;
        this.onChange(date);
        this.markAsTouched();
    }
    onDateInput(event) {
        const date = event.target.value ? new Date(event.target.value) : null;
        this.onDateChange(date);
    }
    markAsTouched() {
        if (!this.touched) {
            this.touched = true;
            this.onTouched();
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DatePickerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: DatePickerComponent, isStandalone: true, selector: "app-date-picker", inputs: { label: "label", placeholder: "placeholder", required: "required", disabled: "disabled", minDate: "minDate", maxDate: "maxDate", startView: "startView" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => DatePickerComponent),
                multi: true
            }
        ], ngImport: i0, template: "<mat-form-field appearance=\"outline\" class=\"date-picker-field\">\n  <mat-label *ngIf=\"label\">{{ label }}</mat-label>\n  <input \n    matInput \n    [matDatepicker]=\"picker\" \n    [placeholder]=\"placeholder\"\n    [required]=\"required\"\n    [disabled]=\"disabled\"\n    [min]=\"minDate\"\n    [max]=\"maxDate\"\n    [value]=\"value\"\n    (dateChange)=\"onDateChange($event.value)\"\n    (input)=\"onDateInput($event)\"\n    (blur)=\"markAsTouched()\">\n  <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n  <mat-datepicker #picker [startView]=\"startView\"></mat-datepicker>\n  <mat-error *ngIf=\"required && !value\">\n    This field is required\n  </mat-error>\n</mat-form-field> ", styles: [".date-picker-field{width:100%}.date-picker-field ::ng-deep .mat-mdc-form-field{width:100%}.date-picker-field ::ng-deep .mat-mdc-text-field-wrapper{background-color:#fff;border-radius:8px;border:1px solid #e2e8f0;transition:border-color .2s ease,box-shadow .2s ease}.date-picker-field ::ng-deep .mat-mdc-text-field-wrapper:hover{border-color:#10b3b3}.date-picker-field ::ng-deep .mat-mdc-text-field-wrapper.mat-focused{border-color:#10b3b3;box-shadow:0 0 0 3px #10b3b31a}.date-picker-field ::ng-deep .mat-mdc-form-field-focus-overlay{background-color:transparent}.date-picker-field ::ng-deep .mat-mdc-form-field-subscript-wrapper{display:none}.date-picker-field ::ng-deep .mat-mdc-form-field-infix{padding:12px 0;min-height:auto}.date-picker-field ::ng-deep .mat-mdc-input-element{font-size:14px;color:#374151}.date-picker-field ::ng-deep .mat-mdc-input-element::placeholder{color:#9ca3af}.date-picker-field ::ng-deep .mat-mdc-input-element:disabled{color:#9ca3af;background-color:#f9fafb}.date-picker-field ::ng-deep .mat-mdc-form-field-label{color:#6b7280;font-size:14px}.date-picker-field ::ng-deep .mat-mdc-form-field-label.mat-mdc-form-field-label-alternate{color:#10b3b3}.date-picker-field ::ng-deep .mat-mdc-datepicker-toggle{color:#6b7280}.date-picker-field ::ng-deep .mat-mdc-datepicker-toggle:hover{color:#10b3b3}.date-picker-field ::ng-deep .mat-mdc-form-field-error{color:#ef4444;font-size:12px;margin-top:4px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: FormsModule }, { kind: "ngmodule", type: ReactiveFormsModule }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "component", type: i2$1.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i2$1.MatLabel, selector: "mat-label" }, { kind: "directive", type: i2$1.MatError, selector: "mat-error, [matError]", inputs: ["id"] }, { kind: "directive", type: i2$1.MatSuffix, selector: "[matSuffix], [matIconSuffix], [matTextSuffix]", inputs: ["matTextSuffix"] }, { kind: "ngmodule", type: MatDatepickerModule }, { kind: "component", type: i3$1.MatDatepicker, selector: "mat-datepicker", exportAs: ["matDatepicker"] }, { kind: "directive", type: i3$1.MatDatepickerInput, selector: "input[matDatepicker]", inputs: ["matDatepicker", "min", "max", "matDatepickerFilter"], exportAs: ["matDatepickerInput"] }, { kind: "component", type: i3$1.MatDatepickerToggle, selector: "mat-datepicker-toggle", inputs: ["for", "tabIndex", "aria-label", "disabled", "disableRipple"], exportAs: ["matDatepickerToggle"] }, { kind: "ngmodule", type: MatInputModule }, { kind: "directive", type: i4.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "ngmodule", type: MatNativeDateModule }, { kind: "ngmodule", type: MatIconModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DatePickerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-date-picker', standalone: true, imports: [
                        CommonModule,
                        FormsModule,
                        ReactiveFormsModule,
                        MatFormFieldModule,
                        MatDatepickerModule,
                        MatInputModule,
                        MatNativeDateModule,
                        MatIconModule
                    ], providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => DatePickerComponent),
                            multi: true
                        }
                    ], template: "<mat-form-field appearance=\"outline\" class=\"date-picker-field\">\n  <mat-label *ngIf=\"label\">{{ label }}</mat-label>\n  <input \n    matInput \n    [matDatepicker]=\"picker\" \n    [placeholder]=\"placeholder\"\n    [required]=\"required\"\n    [disabled]=\"disabled\"\n    [min]=\"minDate\"\n    [max]=\"maxDate\"\n    [value]=\"value\"\n    (dateChange)=\"onDateChange($event.value)\"\n    (input)=\"onDateInput($event)\"\n    (blur)=\"markAsTouched()\">\n  <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n  <mat-datepicker #picker [startView]=\"startView\"></mat-datepicker>\n  <mat-error *ngIf=\"required && !value\">\n    This field is required\n  </mat-error>\n</mat-form-field> ", styles: [".date-picker-field{width:100%}.date-picker-field ::ng-deep .mat-mdc-form-field{width:100%}.date-picker-field ::ng-deep .mat-mdc-text-field-wrapper{background-color:#fff;border-radius:8px;border:1px solid #e2e8f0;transition:border-color .2s ease,box-shadow .2s ease}.date-picker-field ::ng-deep .mat-mdc-text-field-wrapper:hover{border-color:#10b3b3}.date-picker-field ::ng-deep .mat-mdc-text-field-wrapper.mat-focused{border-color:#10b3b3;box-shadow:0 0 0 3px #10b3b31a}.date-picker-field ::ng-deep .mat-mdc-form-field-focus-overlay{background-color:transparent}.date-picker-field ::ng-deep .mat-mdc-form-field-subscript-wrapper{display:none}.date-picker-field ::ng-deep .mat-mdc-form-field-infix{padding:12px 0;min-height:auto}.date-picker-field ::ng-deep .mat-mdc-input-element{font-size:14px;color:#374151}.date-picker-field ::ng-deep .mat-mdc-input-element::placeholder{color:#9ca3af}.date-picker-field ::ng-deep .mat-mdc-input-element:disabled{color:#9ca3af;background-color:#f9fafb}.date-picker-field ::ng-deep .mat-mdc-form-field-label{color:#6b7280;font-size:14px}.date-picker-field ::ng-deep .mat-mdc-form-field-label.mat-mdc-form-field-label-alternate{color:#10b3b3}.date-picker-field ::ng-deep .mat-mdc-datepicker-toggle{color:#6b7280}.date-picker-field ::ng-deep .mat-mdc-datepicker-toggle:hover{color:#10b3b3}.date-picker-field ::ng-deep .mat-mdc-form-field-error{color:#ef4444;font-size:12px;margin-top:4px}\n"] }]
        }], propDecorators: { label: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], required: [{
                type: Input
            }], disabled: [{
                type: Input
            }], minDate: [{
                type: Input
            }], maxDate: [{
                type: Input
            }], startView: [{
                type: Input
            }] } });

// Injection token for dialog data
const DIALOG_DATA_TOKEN = new InjectionToken('dialogData');
class FilterComponent {
    constructor() {
        this.fields = [];
        this.operators = [];
        this.operatorsMap = {};
        this.valuesMap = {};
        // New state management for sidebar approach
        this.selectedField = '';
        this.selectedFieldObj = null;
        this.appliedFilters = {};
        this.showAdvanced = false;
        this.dataTitle = 'All Data';
        // Legacy support
        this.filters = [];
        this.logic = 'AND';
        this.dialogRef = inject((MatDialogRef));
        this.data = inject(DIALOG_DATA_TOKEN);
        if (this.data) {
            this.fields = this.data.fields || [];
            this.operators = this.data.operators || [];
            this.operatorsMap = this.data.operatorsMap || {};
            this.valuesMap = this.data.valuesMap || {};
            this.dataTitle = this.data.title || 'All Data';
            // Initialize with first field if available
            if (this.fields.length > 0 && !this.selectedField) {
                this.selectField(this.fields[0]);
            }
            // Convert legacy filters if provided
            if (this.data.filters && this.data.filters.length > 0) {
                this.convertLegacyFilters(this.data.filters);
            }
        }
    }
    // Field Selection
    selectField(field) {
        this.selectedField = field.value;
        this.selectedFieldObj = field;
    }
    // Get field-specific values
    getValues(field) {
        return this.valuesMap[field] || [];
    }
    // Get field icon based on input type
    getFieldIcon(inputType) {
        switch (inputType) {
            case 'select': return '📋';
            case 'boolean': return '☑️';
            case 'date': return '📅';
            case 'number': return '🔢';
            case 'input':
            default: return '📝';
        }
    }
    // Get field description
    getFieldDescription(field) {
        switch (field.inputType) {
            case 'select': return `Select one or more ${field.label.toLowerCase()} options`;
            case 'boolean': return `Choose true or false for ${field.label.toLowerCase()}`;
            case 'date': return `Set date range for ${field.label.toLowerCase()}`;
            case 'number': return `Set numeric range for ${field.label.toLowerCase()}`;
            case 'input':
            default: return `Enter text to search in ${field.label.toLowerCase()}`;
        }
    }
    // Option Selection for Select fields
    isOptionSelected(field, option) {
        const fieldFilters = this.appliedFilters[field];
        if (!fieldFilters || !fieldFilters.values)
            return false;
        return fieldFilters.values.includes(option);
    }
    toggleOption(field, option) {
        if (!this.appliedFilters[field]) {
            this.appliedFilters[field] = { type: 'select', values: [] };
        }
        const values = this.appliedFilters[field]?.values || [];
        const index = values.indexOf(option);
        if (index > -1) {
            values.splice(index, 1);
            if (values.length === 0) {
                delete this.appliedFilters[field];
            }
        }
        else {
            values.push(option);
        }
    }
    // Boolean Selection
    isBooleanSelected(field, value) {
        const fieldFilter = this.appliedFilters[field];
        return fieldFilter && fieldFilter.value === value;
    }
    setBooleanValue(field, value) {
        if (this.isBooleanSelected(field, value)) {
            delete this.appliedFilters[field];
        }
        else {
            this.appliedFilters[field] = { type: 'boolean', value };
        }
    }
    // Range Values (Number/Date)
    getRangeValue(field, type) {
        const fieldFilter = this.appliedFilters[field];
        if (!fieldFilter || fieldFilter.type !== 'range')
            return '';
        return fieldFilter[type] || '';
    }
    setRangeMinValue(field, event) {
        this.setRangeValueInternal(field, 'min', event.target.value);
    }
    setRangeMaxValue(field, event) {
        this.setRangeValueInternal(field, 'max', event.target.value);
    }
    setRangeValueInternal(field, type, value) {
        if (!this.appliedFilters[field]) {
            this.appliedFilters[field] = { type: 'range' };
        }
        this.appliedFilters[field][type] = value;
        // Remove if both min and max are empty
        if (!this.appliedFilters[field].min && !this.appliedFilters[field].max) {
            delete this.appliedFilters[field];
        }
    }
    // Text Values
    getTextValue(field) {
        const fieldFilter = this.appliedFilters[field];
        return fieldFilter && fieldFilter.type === 'text' ? fieldFilter.value : '';
    }
    setTextValue(field, event) {
        const value = event.target.value;
        if (!value.trim()) {
            delete this.appliedFilters[field];
        }
        else {
            this.appliedFilters[field] = { type: 'text', value };
        }
    }
    // Get filters for a specific field
    getFieldFilters(field) {
        const fieldFilter = this.appliedFilters[field];
        if (!fieldFilter)
            return [];
        switch (fieldFilter.type) {
            case 'select':
                return fieldFilter.values || [];
            case 'boolean':
                return [fieldFilter.value];
            case 'range':
                const parts = [];
                if (fieldFilter.min)
                    parts.push(`≥ ${fieldFilter.min}`);
                if (fieldFilter.max)
                    parts.push(`≤ ${fieldFilter.max}`);
                return parts;
            case 'text':
                return [fieldFilter.value];
            default:
                return [];
        }
    }
    // Remove field filter
    removeFieldFilter(field, filter) {
        const fieldFilter = this.appliedFilters[field];
        if (!fieldFilter)
            return;
        if (fieldFilter.type === 'select') {
            const index = fieldFilter.values.indexOf(filter);
            if (index > -1) {
                fieldFilter.values.splice(index, 1);
                if (fieldFilter.values.length === 0) {
                    delete this.appliedFilters[field];
                }
            }
        }
        else {
            delete this.appliedFilters[field];
        }
    }
    // Get display text for filter
    getFilterDisplayText(filter) {
        return String(filter);
    }
    // Get active filter fields
    getActiveFilterFields() {
        return Object.keys(this.appliedFilters);
    }
    // Get field label by field name
    getFieldLabel(fieldName) {
        const field = this.fields.find(f => f.value === fieldName);
        return field ? field.label : fieldName;
    }
    // Clear all filters
    clearAllFilters() {
        this.appliedFilters = {};
    }
    // Count active filters
    getActiveFiltersCount() {
        return Object.keys(this.appliedFilters).length;
    }
    // Get data title
    getDataTitle() {
        return this.dataTitle;
    }
    // Advanced options
    hasAdvancedOptions(field) {
        return field.inputType === 'input' || field.inputType === 'number';
    }
    toggleAdvanced() {
        this.showAdvanced = !this.showAdvanced;
    }
    // Filter summary
    getFilterSummary() {
        const count = this.getActiveFiltersCount();
        if (count === 0)
            return '';
        if (count === 1) {
            return '1 active filter';
        }
        return `${count} filters applied`;
    }
    // Estimated results (mock implementation)
    getEstimatedResults() {
        // This would be replaced with actual count logic
        const baseCount = 2240;
        const filterReduction = this.getActiveFiltersCount() * 0.3;
        const estimated = Math.floor(baseCount * (1 - filterReduction));
        return estimated.toLocaleString();
    }
    // Convert to legacy format for backward compatibility
    convertToLegacyFilters() {
        const legacyFilters = [];
        Object.entries(this.appliedFilters).forEach(([field, filter]) => {
            const fieldObj = this.fields.find(f => f.value === field);
            if (!fieldObj)
                return;
            switch (filter.type) {
                case 'select':
                    filter.values.forEach((value) => {
                        legacyFilters.push({
                            field,
                            operator: 'eq',
                            value,
                            inputType: 'select'
                        });
                    });
                    break;
                case 'boolean':
                    legacyFilters.push({
                        field,
                        operator: 'eq',
                        value: filter.value,
                        inputType: 'boolean'
                    });
                    break;
                case 'range': {
                    if (filter.min && filter.max) {
                        legacyFilters.push({
                            field,
                            operator: 'between',
                            value: filter.min,
                            valueTo: filter.max,
                            inputType: fieldObj.inputType
                        });
                    }
                    else if (filter.min) {
                        legacyFilters.push({
                            field,
                            operator: 'gte',
                            value: filter.min,
                            inputType: fieldObj.inputType
                        });
                    }
                    else if (filter.max) {
                        legacyFilters.push({
                            field,
                            operator: 'lte',
                            value: filter.max,
                            inputType: fieldObj.inputType
                        });
                    }
                    break;
                }
                case 'text':
                    legacyFilters.push({
                        field,
                        operator: 'contains',
                        value: filter.value,
                        inputType: 'input'
                    });
                    break;
            }
        });
        return legacyFilters;
    }
    // Convert legacy filters to new format
    convertLegacyFilters(legacyFilters) {
        legacyFilters.forEach(filter => {
            const field = filter.field;
            switch (filter.inputType) {
                case 'select':
                    if (!this.appliedFilters[field]) {
                        this.appliedFilters[field] = { type: 'select', values: [] };
                    }
                    if (!this.appliedFilters[field].values.includes(filter.value)) {
                        this.appliedFilters[field].values.push(filter.value);
                    }
                    break;
                case 'boolean':
                    this.appliedFilters[field] = { type: 'boolean', value: filter.value };
                    break;
                case 'number':
                case 'date':
                    if (filter.operator === 'between') {
                        this.appliedFilters[field] = {
                            type: 'range',
                            min: filter.value,
                            max: filter.valueTo
                        };
                    }
                    else if (filter.operator === 'gte' || filter.operator === 'gt') {
                        if (!this.appliedFilters[field]) {
                            this.appliedFilters[field] = { type: 'range' };
                        }
                        this.appliedFilters[field].min = filter.value;
                    }
                    else if (filter.operator === 'lte' || filter.operator === 'lt') {
                        if (!this.appliedFilters[field]) {
                            this.appliedFilters[field] = { type: 'range' };
                        }
                        this.appliedFilters[field].max = filter.value;
                    }
                    break;
                case 'input':
                    this.appliedFilters[field] = { type: 'text', value: filter.value };
                    break;
            }
        });
    }
    // Dialog actions
    cancel() {
        this.dialogRef.close();
    }
    apply() {
        const legacyFilters = this.convertToLegacyFilters();
        this.dialogRef.close({
            filters: legacyFilters,
            logic: this.logic,
            appliedFilters: this.appliedFilters
        });
    }
    // Legacy method support
    reset() {
        this.appliedFilters = {};
        this.selectedField = '';
        this.selectedFieldObj = null;
        if (this.fields.length > 0) {
            this.selectField(this.fields[0]);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: FilterComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: FilterComponent, isStandalone: true, selector: "app-filter", ngImport: i0, template: "<div class=\"filter-container\">\n  <!-- Filter Info Header -->\n  <div class=\"filter-info\">\n    <div class=\"info-content\">\n      <h3>Filters for: {{ getDataTitle() }}</h3>\n      <p class=\"info-subtitle\">See results in your view based on the filters you select here.</p>\n    </div>\n    <div class=\"filter-count-badge\" *ngIf=\"getActiveFiltersCount() > 0\">\n      {{ getActiveFiltersCount() }} applied\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"filter-controls\">\n    <!-- Left Sidebar -->\n    <div class=\"filter-sidebar\">\n      <div class=\"sidebar-section\">\n        <div class=\"section-header\">Filters</div>\n        <ul class=\"filter-category\">\n          <li class=\"category-item\" *ngFor=\"let field of fields; let i = index\">\n            <button \n              class=\"category-button\" \n              [class.active]=\"selectedField === field.value\"\n              (click)=\"selectField(field)\">\n              <span class=\"category-icon\">{{ getFieldIcon(field.inputType) }}</span>\n              <span class=\"category-label\">{{ field.label }}</span>\n              <span class=\"category-arrow\">\u203A</span>\n            </button>\n            <div class=\"applied-filters\" *ngIf=\"getFieldFilters(field.value).length > 0\">\n              <button \n                class=\"applied-tag\" \n                *ngFor=\"let filter of getFieldFilters(field.value)\"\n                (click)=\"removeFieldFilter(field.value, filter)\"\n                type=\"button\">\n                {{ getFilterDisplayText(filter) }}\n                <span class=\"tag-remove\">\u00D7</span>\n              </button>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- Right Content -->\n    <div class=\"filter-content\">\n      <!-- Active Filters Summary -->\n      <div class=\"active-filters-summary\" *ngIf=\"getActiveFiltersCount() > 0\">\n        <div class=\"summary-header\">\n          <h3>Active Filters ({{ getActiveFiltersCount() }})</h3>\n          <button class=\"clear-all-btn\" (click)=\"clearAllFilters()\" type=\"button\">Clear All</button>\n        </div>\n        <div class=\"active-filters-list\">\n          <div class=\"active-filter-item\" *ngFor=\"let fieldName of getActiveFilterFields()\">\n            <div class=\"filter-field-name\">{{ getFieldLabel(fieldName) }}</div>\n            <div class=\"filter-values\">\n              <button \n                class=\"filter-value-tag\"\n                *ngFor=\"let value of getFieldFilters(fieldName)\"\n                (click)=\"removeFieldFilter(fieldName, value)\"\n                type=\"button\">\n                {{ getFilterDisplayText(value) }}\n                <span class=\"value-remove\">\u00D7</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Field Configuration -->\n      <div class=\"field-configuration\" *ngIf=\"selectedFieldObj\">\n        <div class=\"content-header\">\n          <h3>{{ selectedFieldObj.label }}</h3>\n          <p class=\"content-subtitle\">{{ getFieldDescription(selectedFieldObj) }}</p>\n        </div>\n\n        <!-- Select Type Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'select'\">\n          <div class=\"section-title\">Available Options</div>\n          <div class=\"options-grid\">\n            <label \n              class=\"option-checkbox\"\n              *ngFor=\"let option of getValues(selectedFieldObj.value)\"\n              [class.selected]=\"isOptionSelected(selectedFieldObj.value, option)\">\n              <input \n                type=\"checkbox\"\n                [checked]=\"isOptionSelected(selectedFieldObj.value, option)\"\n                (change)=\"toggleOption(selectedFieldObj.value, option)\"\n                class=\"checkbox-input\">\n              <span class=\"checkbox-custom\"></span>\n              <span class=\"option-label\">{{ option }}</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Boolean Type Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'boolean'\">\n          <div class=\"section-title\">Select Value</div>\n          <div class=\"boolean-options\">\n            <label class=\"boolean-option\" [class.selected]=\"isBooleanSelected(selectedFieldObj.value, true)\">\n              <input \n                type=\"radio\" \n                [name]=\"'boolean-' + selectedFieldObj.value\"\n                [checked]=\"isBooleanSelected(selectedFieldObj.value, true)\"\n                (change)=\"setBooleanValue(selectedFieldObj.value, true)\"\n                class=\"radio-input\">\n              <span class=\"radio-custom\"></span>\n              <span class=\"option-label\">True</span>\n            </label>\n            <label class=\"boolean-option\" [class.selected]=\"isBooleanSelected(selectedFieldObj.value, false)\">\n              <input \n                type=\"radio\" \n                [name]=\"'boolean-' + selectedFieldObj.value\"\n                [checked]=\"isBooleanSelected(selectedFieldObj.value, false)\"\n                (change)=\"setBooleanValue(selectedFieldObj.value, false)\"\n                class=\"radio-input\">\n              <span class=\"radio-custom\"></span>\n              <span class=\"option-label\">False</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Number/Date Range Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'number' || selectedFieldObj.inputType === 'date'\">\n          <div class=\"section-title\">Set Range</div>\n          <div class=\"range-inputs\">\n            <div class=\"range-field-group\">\n              <label class=\"range-label\" [for]=\"'min-' + selectedFieldObj.value\">\n                {{ selectedFieldObj.inputType === 'date' ? 'From Date' : 'Minimum Value' }}\n              </label>\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'number'\"\n                type=\"number\" \n                class=\"range-input\"\n                [id]=\"'min-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'min')\"\n                (input)=\"setRangeMinValue(selectedFieldObj.value, $event)\"\n                placeholder=\"Enter minimum\">\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'date'\"\n                type=\"date\" \n                class=\"range-input\"\n                [id]=\"'min-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'min')\"\n                (input)=\"setRangeMinValue(selectedFieldObj.value, $event)\">\n            </div>\n            <div class=\"range-separator\">to</div>\n            <div class=\"range-field-group\">\n              <label class=\"range-label\" [for]=\"'max-' + selectedFieldObj.value\">\n                {{ selectedFieldObj.inputType === 'date' ? 'To Date' : 'Maximum Value' }}\n              </label>\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'number'\"\n                type=\"number\" \n                class=\"range-input\"\n                [id]=\"'max-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'max')\"\n                (input)=\"setRangeMaxValue(selectedFieldObj.value, $event)\"\n                placeholder=\"Enter maximum\">\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'date'\"\n                type=\"date\" \n                class=\"range-input\"\n                [id]=\"'max-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'max')\"\n                (input)=\"setRangeMaxValue(selectedFieldObj.value, $event)\">\n            </div>\n          </div>\n        </div>\n\n        <!-- Text Input Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'input'\">\n          <div class=\"section-title\">Search Text</div>\n          <div class=\"text-input-group\">\n            <label class=\"text-label\" [for]=\"'text-' + selectedFieldObj.value\">\n              Enter search term for {{ selectedFieldObj.label.toLowerCase() }}\n            </label>\n            <input \n              type=\"text\" \n              class=\"text-input\"\n              [id]=\"'text-' + selectedFieldObj.value\"\n              [value]=\"getTextValue(selectedFieldObj.value)\"\n              (input)=\"setTextValue(selectedFieldObj.value, $event)\"\n              placeholder=\"Type to search...\">\n            <small class=\"input-hint\">Search will match any part of the text</small>\n          </div>\n        </div>\n      </div>\n\n      <!-- No Field Selected State -->\n      <div class=\"no-field-selected\" *ngIf=\"!selectedFieldObj\">\n        <div class=\"empty-state\">\n          <div class=\"empty-icon\">\uD83C\uDFAF</div>\n          <h3>Select a Filter</h3>\n          <p>Choose a field from the sidebar to configure your filters. You can apply multiple filters to narrow down your results.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Footer -->\n  <div class=\"filter-footer\">\n    <div class=\"footer-left\">\n      <div class=\"results-preview\" *ngIf=\"getActiveFiltersCount() > 0\">\n        <span class=\"results-label\">Results:</span>\n        <span class=\"results-count\">{{ getEstimatedResults() }}</span>\n      </div>\n      <div class=\"filter-summary\" *ngIf=\"getActiveFiltersCount() === 0\">\n        No filters applied - showing all results\n      </div>\n    </div>\n    <div class=\"footer-actions\">\n      <button class=\"footer-btn cancel-btn\" (click)=\"cancel()\" type=\"button\">\n        Cancel\n      </button>\n      <button class=\"footer-btn apply-btn\" (click)=\"apply()\" type=\"button\" [disabled]=\"getActiveFiltersCount() === 0\">\n        <span class=\"btn-icon\">\uD83D\uDD0D</span>\n        Apply Filters\n        <span class=\"apply-count\" *ngIf=\"getActiveFiltersCount() > 0\">({{ getActiveFiltersCount() }})</span>\n      </button>\n    </div>\n  </div>\n</div>", styles: ["@charset \"UTF-8\";.filter-container{display:flex;flex-direction:column;width:100%;height:100%;min-height:600px;max-height:70vh;overflow:hidden}.filter-info{background:var(--page-background-color);border:var(--primary-border);border-radius:var(--input-radius);padding:12px 16px;margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.filter-info .info-content h3{margin:0 0 2px;font-size:16px;font-weight:600;color:var(--primary-font-color);line-height:1.2}.filter-info .info-content .info-subtitle{margin:0;font-size:var(--tertiary-font-size);color:var(--secondary-font-color);line-height:1.3}.filter-info .filter-count-badge{background:var(--primary-color);color:var(--surface-color);font-size:12px;font-weight:600;padding:6px 12px;border-radius:16px;border:none}.filter-controls{display:flex;flex:1;min-height:400px;overflow:hidden;border:var(--primary-border);border-radius:var(--input-radius);background:var(--surface-color)}.filter-sidebar{width:280px;background:var(--page-background-color);border-right:var(--primary-border);border-radius:var(--input-radius) 0 0 0;padding:20px 0;overflow-y:auto;max-height:100%}.filter-sidebar .sidebar-section .section-header{padding:0 24px 12px;font-size:var(--tertiary-font-size);font-weight:var(--primary-font-weight);color:var(--secondary-font-color);text-transform:uppercase;letter-spacing:.5px}.filter-sidebar .sidebar-section .filter-category{margin:0;list-style:none;padding:0}.filter-sidebar .sidebar-section .filter-category .category-item{margin:0}.filter-sidebar .sidebar-section .filter-category .category-item .category-button{width:100%;background:none;border:none;padding:12px 24px;text-align:left;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:14px;color:var(--primary-font-color);transition:all .2s ease;position:relative}.filter-sidebar .sidebar-section .filter-category .category-item .category-button:hover{background:var(--secondary-background-color)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button.active{background:var(--diet-quinary-color);color:var(--primary-color);font-weight:var(--primary-font-weight)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button.active:before{content:\"\";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--primary-color)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-icon{margin-right:12px;font-size:16px}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-label{flex:1}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-arrow{font-size:12px;color:var(--tertiary-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters{padding:0 24px 0 52px;margin-top:8px}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag{display:inline-flex;align-items:center;background:var(--status-info-bg);color:var(--status-info-color);font-size:12px;padding:4px 8px;border-radius:6px;margin:2px 4px 2px 0;border:var(--status-info-border);cursor:pointer;transition:all .2s ease}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag:hover{background:var(--status-info-color);color:var(--surface-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag .tag-remove{margin-left:6px;font-weight:700;color:var(--status-info-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag .tag-remove:hover{color:var(--surface-color)}.filter-content{flex:1;padding:20px 24px;overflow-y:auto;background:var(--surface-color);border-radius:0 8px 0 0;max-height:100%}.filter-content .active-filters-summary{background:var(--page-background-color);border:var(--primary-border);border-radius:8px;padding:20px;margin-bottom:24px}.filter-content .active-filters-summary .summary-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.filter-content .active-filters-summary .summary-header h3{margin:0;font-size:16px;font-weight:600;color:var(--primary-font-color)}.filter-content .active-filters-summary .summary-header .clear-all-btn{background:none;border:var(--primary-border);color:var(--secondary-font-color);font-size:12px;padding:6px 12px;border-radius:6px;cursor:pointer;transition:all .2s ease}.filter-content .active-filters-summary .summary-header .clear-all-btn:hover{background:var(--secondary-background-color);border-color:var(--tertiary-color)}.filter-content .active-filters-summary .active-filters-list .active-filter-item{margin-bottom:12px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-field-name{font-size:13px;font-weight:600;color:#475569;margin-bottom:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values{display:flex;flex-wrap:wrap;gap:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag{background:var(--primary-color);color:var(--surface-color);font-size:12px;padding:4px 10px;border-radius:16px;border:none;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag:hover{background:#0e9a9a}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag .value-remove{font-weight:700;opacity:.8}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag .value-remove:hover{opacity:1}.filter-content .field-configuration .content-header{margin-bottom:24px}.filter-content .field-configuration .content-header h3{margin:0 0 8px;font-size:20px;font-weight:600;color:var(--primary-font-color)}.filter-content .field-configuration .content-header .content-subtitle{margin:0;font-size:14px;color:var(--secondary-font-color);line-height:1.5}.filter-content .field-configuration .filter-section .section-title{font-size:16px;font-weight:600;color:var(--primary-font-color);margin:0 0 16px}.filter-content .field-configuration .filter-section .options-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}.filter-content .field-configuration .filter-section .options-grid .option-checkbox{display:flex;align-items:center;padding:12px 16px;border:var(--primary-border);border-radius:8px;cursor:pointer;transition:all .2s ease;background:var(--surface-color)}.filter-content .field-configuration .filter-section .options-grid .option-checkbox:hover{border-color:#d1d5db;background:#f9fafb}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected{border-color:var(--primary-color);background:#f0fdfa}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-input{display:none}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-custom{width:20px;height:20px;border:2px solid #d1d5db;border-radius:4px;margin-right:12px;position:relative;flex-shrink:0;transition:all .2s ease}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-custom:after{content:\"\\2713\";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--surface-color);font-size:12px;font-weight:700;opacity:0;transition:opacity .2s ease}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected .checkbox-custom{background:var(--primary-color);border-color:var(--primary-color)}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected .checkbox-custom:after{opacity:1}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .option-label{font-size:14px;color:var(--primary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .boolean-options{display:flex;gap:16px}.filter-content .field-configuration .filter-section .boolean-options .boolean-option{display:flex;align-items:center;padding:16px 20px;border:var(--primary-border);border-radius:8px;cursor:pointer;transition:all .2s ease;background:var(--surface-color);min-width:120px}.filter-content .field-configuration .filter-section .boolean-options .boolean-option:hover{border-color:#d1d5db;background:#f9fafb}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected{border-color:var(--primary-color);background:#f0fdfa}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-input{display:none}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-custom{width:20px;height:20px;border:2px solid #d1d5db;border-radius:50%;margin-right:12px;position:relative;flex-shrink:0;transition:all .2s ease}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-custom:after{content:\"\";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:var(--primary-color);border-radius:50%;opacity:0;transition:opacity .2s ease}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected .radio-custom{border-color:var(--primary-color)}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected .radio-custom:after{opacity:1}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .option-label{font-size:14px;color:var(--primary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .range-inputs{display:flex;align-items:flex-end;gap:16px}.filter-content .field-configuration .filter-section .range-inputs .range-field-group{flex:1}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-label{display:block;font-size:13px;font-weight:500;color:#374151;margin-bottom:8px}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-input{width:100%;padding:12px 16px;border:var(--primary-border);border-radius:8px;font-size:14px;background:var(--surface-color);transition:border-color .2s ease}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #10b3b31a}.filter-content .field-configuration .filter-section .range-inputs .range-separator{padding:12px 8px 0;font-size:14px;color:var(--secondary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .text-input-group .text-label{display:block;font-size:13px;font-weight:500;color:#374151;margin-bottom:8px}.filter-content .field-configuration .filter-section .text-input-group .text-input{width:100%;padding:12px 16px;border:var(--primary-border);border-radius:8px;font-size:14px;background:var(--surface-color);transition:border-color .2s ease}.filter-content .field-configuration .filter-section .text-input-group .text-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #10b3b31a}.filter-content .field-configuration .filter-section .text-input-group .input-hint{display:block;font-size:12px;color:var(--secondary-font-color);margin-top:6px}.filter-content .no-field-selected{display:flex;align-items:center;justify-content:center;height:100%;min-height:300px}.filter-content .no-field-selected .empty-state{text-align:center;max-width:400px}.filter-content .no-field-selected .empty-state .empty-icon{font-size:48px;margin-bottom:16px}.filter-content .no-field-selected .empty-state h3{margin:0 0 12px;font-size:20px;font-weight:600;color:var(--primary-font-color)}.filter-content .no-field-selected .empty-state p{margin:0;font-size:14px;color:var(--secondary-font-color);line-height:1.5}.filter-footer{background:var(--surface-color);border-top:var(--primary-border);border-radius:0 0 8px 8px;padding:16px 20px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0;min-height:70px}.filter-footer .footer-left{display:flex;align-items:center;gap:16px}.filter-footer .footer-left .results-preview{display:flex;align-items:center;gap:8px}.filter-footer .footer-left .results-preview .results-label{font-size:14px;color:var(--secondary-font-color)}.filter-footer .footer-left .results-preview .results-count{font-size:16px;font-weight:600;color:var(--primary-color);background:var(--status-success-bg);padding:4px 12px;border-radius:6px;border:var(--status-success-border)}.filter-footer .footer-left .filter-summary{font-size:14px;color:#6b7280;background:var(--secondary-background-color);padding:8px 12px;border-radius:6px}.filter-footer .footer-actions{display:flex;align-items:center;gap:12px}.filter-footer .footer-actions .footer-btn{padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;border:none}.filter-footer .footer-actions .footer-btn.cancel-btn{background:var(--surface-color);color:var(--secondary-font-color);border:var(--primary-border)}.filter-footer .footer-actions .footer-btn.cancel-btn:hover{background:#f9fafb;border-color:#d1d5db}.filter-footer .footer-actions .footer-btn.apply-btn{background:var(--primary-color);color:var(--surface-color);border:2px solid var(--primary-color);box-shadow:0 4px 12px #10b3b34d}.filter-footer .footer-actions .footer-btn.apply-btn:hover:not(:disabled){background:#0e9a9a;border-color:#0e9a9a;transform:translateY(-1px);box-shadow:0 6px 16px #10b3b366}.filter-footer .footer-actions .footer-btn.apply-btn:disabled{background:#9ca3af;border-color:#9ca3af;cursor:not-allowed;transform:none;box-shadow:none}.filter-footer .footer-actions .footer-btn.apply-btn .apply-count{background:#fff3;padding:2px 6px;border-radius:10px;font-size:12px;margin-left:4px}.filter-footer .footer-actions .footer-btn .btn-icon{font-size:16px}@media (max-width: 768px){.filter-container{min-width:95vw;max-width:95vw;max-height:90vh}.filter-controls{flex-direction:column}.filter-sidebar{width:100%;max-height:200px;order:2}.filter-content{order:1;padding:16px 20px}.filter-footer{padding:16px 20px;flex-direction:column;gap:12px}.filter-footer .footer-left,.filter-footer .footer-actions{width:100%;justify-content:center}}@keyframes slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1$2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: FormsModule }, { kind: "ngmodule", type: MatSelectModule }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "ngmodule", type: MatOptionModule }], animations: [
            trigger('slideIn', [
                transition(':enter', [
                    style({ opacity: 0, transform: 'translateX(20px)' }),
                    animate('300ms ease-out', style({ opacity: 1, transform: 'translateX(0)' }))
                ])
            ])
        ] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: FilterComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-filter', standalone: true, imports: [
                        CommonModule,
                        FormsModule,
                        AppSelectboxComponent,
                        AppButtonComponent,
                        AppInputComponent,
                        DatePickerComponent,
                        MatSelectModule,
                        MatFormFieldModule,
                        MatOptionModule
                    ], animations: [
                        trigger('slideIn', [
                            transition(':enter', [
                                style({ opacity: 0, transform: 'translateX(20px)' }),
                                animate('300ms ease-out', style({ opacity: 1, transform: 'translateX(0)' }))
                            ])
                        ])
                    ], template: "<div class=\"filter-container\">\n  <!-- Filter Info Header -->\n  <div class=\"filter-info\">\n    <div class=\"info-content\">\n      <h3>Filters for: {{ getDataTitle() }}</h3>\n      <p class=\"info-subtitle\">See results in your view based on the filters you select here.</p>\n    </div>\n    <div class=\"filter-count-badge\" *ngIf=\"getActiveFiltersCount() > 0\">\n      {{ getActiveFiltersCount() }} applied\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"filter-controls\">\n    <!-- Left Sidebar -->\n    <div class=\"filter-sidebar\">\n      <div class=\"sidebar-section\">\n        <div class=\"section-header\">Filters</div>\n        <ul class=\"filter-category\">\n          <li class=\"category-item\" *ngFor=\"let field of fields; let i = index\">\n            <button \n              class=\"category-button\" \n              [class.active]=\"selectedField === field.value\"\n              (click)=\"selectField(field)\">\n              <span class=\"category-icon\">{{ getFieldIcon(field.inputType) }}</span>\n              <span class=\"category-label\">{{ field.label }}</span>\n              <span class=\"category-arrow\">\u203A</span>\n            </button>\n            <div class=\"applied-filters\" *ngIf=\"getFieldFilters(field.value).length > 0\">\n              <button \n                class=\"applied-tag\" \n                *ngFor=\"let filter of getFieldFilters(field.value)\"\n                (click)=\"removeFieldFilter(field.value, filter)\"\n                type=\"button\">\n                {{ getFilterDisplayText(filter) }}\n                <span class=\"tag-remove\">\u00D7</span>\n              </button>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- Right Content -->\n    <div class=\"filter-content\">\n      <!-- Active Filters Summary -->\n      <div class=\"active-filters-summary\" *ngIf=\"getActiveFiltersCount() > 0\">\n        <div class=\"summary-header\">\n          <h3>Active Filters ({{ getActiveFiltersCount() }})</h3>\n          <button class=\"clear-all-btn\" (click)=\"clearAllFilters()\" type=\"button\">Clear All</button>\n        </div>\n        <div class=\"active-filters-list\">\n          <div class=\"active-filter-item\" *ngFor=\"let fieldName of getActiveFilterFields()\">\n            <div class=\"filter-field-name\">{{ getFieldLabel(fieldName) }}</div>\n            <div class=\"filter-values\">\n              <button \n                class=\"filter-value-tag\"\n                *ngFor=\"let value of getFieldFilters(fieldName)\"\n                (click)=\"removeFieldFilter(fieldName, value)\"\n                type=\"button\">\n                {{ getFilterDisplayText(value) }}\n                <span class=\"value-remove\">\u00D7</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Field Configuration -->\n      <div class=\"field-configuration\" *ngIf=\"selectedFieldObj\">\n        <div class=\"content-header\">\n          <h3>{{ selectedFieldObj.label }}</h3>\n          <p class=\"content-subtitle\">{{ getFieldDescription(selectedFieldObj) }}</p>\n        </div>\n\n        <!-- Select Type Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'select'\">\n          <div class=\"section-title\">Available Options</div>\n          <div class=\"options-grid\">\n            <label \n              class=\"option-checkbox\"\n              *ngFor=\"let option of getValues(selectedFieldObj.value)\"\n              [class.selected]=\"isOptionSelected(selectedFieldObj.value, option)\">\n              <input \n                type=\"checkbox\"\n                [checked]=\"isOptionSelected(selectedFieldObj.value, option)\"\n                (change)=\"toggleOption(selectedFieldObj.value, option)\"\n                class=\"checkbox-input\">\n              <span class=\"checkbox-custom\"></span>\n              <span class=\"option-label\">{{ option }}</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Boolean Type Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'boolean'\">\n          <div class=\"section-title\">Select Value</div>\n          <div class=\"boolean-options\">\n            <label class=\"boolean-option\" [class.selected]=\"isBooleanSelected(selectedFieldObj.value, true)\">\n              <input \n                type=\"radio\" \n                [name]=\"'boolean-' + selectedFieldObj.value\"\n                [checked]=\"isBooleanSelected(selectedFieldObj.value, true)\"\n                (change)=\"setBooleanValue(selectedFieldObj.value, true)\"\n                class=\"radio-input\">\n              <span class=\"radio-custom\"></span>\n              <span class=\"option-label\">True</span>\n            </label>\n            <label class=\"boolean-option\" [class.selected]=\"isBooleanSelected(selectedFieldObj.value, false)\">\n              <input \n                type=\"radio\" \n                [name]=\"'boolean-' + selectedFieldObj.value\"\n                [checked]=\"isBooleanSelected(selectedFieldObj.value, false)\"\n                (change)=\"setBooleanValue(selectedFieldObj.value, false)\"\n                class=\"radio-input\">\n              <span class=\"radio-custom\"></span>\n              <span class=\"option-label\">False</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Number/Date Range Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'number' || selectedFieldObj.inputType === 'date'\">\n          <div class=\"section-title\">Set Range</div>\n          <div class=\"range-inputs\">\n            <div class=\"range-field-group\">\n              <label class=\"range-label\" [for]=\"'min-' + selectedFieldObj.value\">\n                {{ selectedFieldObj.inputType === 'date' ? 'From Date' : 'Minimum Value' }}\n              </label>\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'number'\"\n                type=\"number\" \n                class=\"range-input\"\n                [id]=\"'min-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'min')\"\n                (input)=\"setRangeMinValue(selectedFieldObj.value, $event)\"\n                placeholder=\"Enter minimum\">\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'date'\"\n                type=\"date\" \n                class=\"range-input\"\n                [id]=\"'min-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'min')\"\n                (input)=\"setRangeMinValue(selectedFieldObj.value, $event)\">\n            </div>\n            <div class=\"range-separator\">to</div>\n            <div class=\"range-field-group\">\n              <label class=\"range-label\" [for]=\"'max-' + selectedFieldObj.value\">\n                {{ selectedFieldObj.inputType === 'date' ? 'To Date' : 'Maximum Value' }}\n              </label>\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'number'\"\n                type=\"number\" \n                class=\"range-input\"\n                [id]=\"'max-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'max')\"\n                (input)=\"setRangeMaxValue(selectedFieldObj.value, $event)\"\n                placeholder=\"Enter maximum\">\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'date'\"\n                type=\"date\" \n                class=\"range-input\"\n                [id]=\"'max-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'max')\"\n                (input)=\"setRangeMaxValue(selectedFieldObj.value, $event)\">\n            </div>\n          </div>\n        </div>\n\n        <!-- Text Input Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'input'\">\n          <div class=\"section-title\">Search Text</div>\n          <div class=\"text-input-group\">\n            <label class=\"text-label\" [for]=\"'text-' + selectedFieldObj.value\">\n              Enter search term for {{ selectedFieldObj.label.toLowerCase() }}\n            </label>\n            <input \n              type=\"text\" \n              class=\"text-input\"\n              [id]=\"'text-' + selectedFieldObj.value\"\n              [value]=\"getTextValue(selectedFieldObj.value)\"\n              (input)=\"setTextValue(selectedFieldObj.value, $event)\"\n              placeholder=\"Type to search...\">\n            <small class=\"input-hint\">Search will match any part of the text</small>\n          </div>\n        </div>\n      </div>\n\n      <!-- No Field Selected State -->\n      <div class=\"no-field-selected\" *ngIf=\"!selectedFieldObj\">\n        <div class=\"empty-state\">\n          <div class=\"empty-icon\">\uD83C\uDFAF</div>\n          <h3>Select a Filter</h3>\n          <p>Choose a field from the sidebar to configure your filters. You can apply multiple filters to narrow down your results.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Footer -->\n  <div class=\"filter-footer\">\n    <div class=\"footer-left\">\n      <div class=\"results-preview\" *ngIf=\"getActiveFiltersCount() > 0\">\n        <span class=\"results-label\">Results:</span>\n        <span class=\"results-count\">{{ getEstimatedResults() }}</span>\n      </div>\n      <div class=\"filter-summary\" *ngIf=\"getActiveFiltersCount() === 0\">\n        No filters applied - showing all results\n      </div>\n    </div>\n    <div class=\"footer-actions\">\n      <button class=\"footer-btn cancel-btn\" (click)=\"cancel()\" type=\"button\">\n        Cancel\n      </button>\n      <button class=\"footer-btn apply-btn\" (click)=\"apply()\" type=\"button\" [disabled]=\"getActiveFiltersCount() === 0\">\n        <span class=\"btn-icon\">\uD83D\uDD0D</span>\n        Apply Filters\n        <span class=\"apply-count\" *ngIf=\"getActiveFiltersCount() > 0\">({{ getActiveFiltersCount() }})</span>\n      </button>\n    </div>\n  </div>\n</div>", styles: ["@charset \"UTF-8\";.filter-container{display:flex;flex-direction:column;width:100%;height:100%;min-height:600px;max-height:70vh;overflow:hidden}.filter-info{background:var(--page-background-color);border:var(--primary-border);border-radius:var(--input-radius);padding:12px 16px;margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.filter-info .info-content h3{margin:0 0 2px;font-size:16px;font-weight:600;color:var(--primary-font-color);line-height:1.2}.filter-info .info-content .info-subtitle{margin:0;font-size:var(--tertiary-font-size);color:var(--secondary-font-color);line-height:1.3}.filter-info .filter-count-badge{background:var(--primary-color);color:var(--surface-color);font-size:12px;font-weight:600;padding:6px 12px;border-radius:16px;border:none}.filter-controls{display:flex;flex:1;min-height:400px;overflow:hidden;border:var(--primary-border);border-radius:var(--input-radius);background:var(--surface-color)}.filter-sidebar{width:280px;background:var(--page-background-color);border-right:var(--primary-border);border-radius:var(--input-radius) 0 0 0;padding:20px 0;overflow-y:auto;max-height:100%}.filter-sidebar .sidebar-section .section-header{padding:0 24px 12px;font-size:var(--tertiary-font-size);font-weight:var(--primary-font-weight);color:var(--secondary-font-color);text-transform:uppercase;letter-spacing:.5px}.filter-sidebar .sidebar-section .filter-category{margin:0;list-style:none;padding:0}.filter-sidebar .sidebar-section .filter-category .category-item{margin:0}.filter-sidebar .sidebar-section .filter-category .category-item .category-button{width:100%;background:none;border:none;padding:12px 24px;text-align:left;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:14px;color:var(--primary-font-color);transition:all .2s ease;position:relative}.filter-sidebar .sidebar-section .filter-category .category-item .category-button:hover{background:var(--secondary-background-color)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button.active{background:var(--diet-quinary-color);color:var(--primary-color);font-weight:var(--primary-font-weight)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button.active:before{content:\"\";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--primary-color)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-icon{margin-right:12px;font-size:16px}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-label{flex:1}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-arrow{font-size:12px;color:var(--tertiary-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters{padding:0 24px 0 52px;margin-top:8px}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag{display:inline-flex;align-items:center;background:var(--status-info-bg);color:var(--status-info-color);font-size:12px;padding:4px 8px;border-radius:6px;margin:2px 4px 2px 0;border:var(--status-info-border);cursor:pointer;transition:all .2s ease}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag:hover{background:var(--status-info-color);color:var(--surface-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag .tag-remove{margin-left:6px;font-weight:700;color:var(--status-info-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag .tag-remove:hover{color:var(--surface-color)}.filter-content{flex:1;padding:20px 24px;overflow-y:auto;background:var(--surface-color);border-radius:0 8px 0 0;max-height:100%}.filter-content .active-filters-summary{background:var(--page-background-color);border:var(--primary-border);border-radius:8px;padding:20px;margin-bottom:24px}.filter-content .active-filters-summary .summary-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.filter-content .active-filters-summary .summary-header h3{margin:0;font-size:16px;font-weight:600;color:var(--primary-font-color)}.filter-content .active-filters-summary .summary-header .clear-all-btn{background:none;border:var(--primary-border);color:var(--secondary-font-color);font-size:12px;padding:6px 12px;border-radius:6px;cursor:pointer;transition:all .2s ease}.filter-content .active-filters-summary .summary-header .clear-all-btn:hover{background:var(--secondary-background-color);border-color:var(--tertiary-color)}.filter-content .active-filters-summary .active-filters-list .active-filter-item{margin-bottom:12px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-field-name{font-size:13px;font-weight:600;color:#475569;margin-bottom:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values{display:flex;flex-wrap:wrap;gap:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag{background:var(--primary-color);color:var(--surface-color);font-size:12px;padding:4px 10px;border-radius:16px;border:none;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag:hover{background:#0e9a9a}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag .value-remove{font-weight:700;opacity:.8}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag .value-remove:hover{opacity:1}.filter-content .field-configuration .content-header{margin-bottom:24px}.filter-content .field-configuration .content-header h3{margin:0 0 8px;font-size:20px;font-weight:600;color:var(--primary-font-color)}.filter-content .field-configuration .content-header .content-subtitle{margin:0;font-size:14px;color:var(--secondary-font-color);line-height:1.5}.filter-content .field-configuration .filter-section .section-title{font-size:16px;font-weight:600;color:var(--primary-font-color);margin:0 0 16px}.filter-content .field-configuration .filter-section .options-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}.filter-content .field-configuration .filter-section .options-grid .option-checkbox{display:flex;align-items:center;padding:12px 16px;border:var(--primary-border);border-radius:8px;cursor:pointer;transition:all .2s ease;background:var(--surface-color)}.filter-content .field-configuration .filter-section .options-grid .option-checkbox:hover{border-color:#d1d5db;background:#f9fafb}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected{border-color:var(--primary-color);background:#f0fdfa}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-input{display:none}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-custom{width:20px;height:20px;border:2px solid #d1d5db;border-radius:4px;margin-right:12px;position:relative;flex-shrink:0;transition:all .2s ease}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-custom:after{content:\"\\2713\";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--surface-color);font-size:12px;font-weight:700;opacity:0;transition:opacity .2s ease}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected .checkbox-custom{background:var(--primary-color);border-color:var(--primary-color)}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected .checkbox-custom:after{opacity:1}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .option-label{font-size:14px;color:var(--primary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .boolean-options{display:flex;gap:16px}.filter-content .field-configuration .filter-section .boolean-options .boolean-option{display:flex;align-items:center;padding:16px 20px;border:var(--primary-border);border-radius:8px;cursor:pointer;transition:all .2s ease;background:var(--surface-color);min-width:120px}.filter-content .field-configuration .filter-section .boolean-options .boolean-option:hover{border-color:#d1d5db;background:#f9fafb}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected{border-color:var(--primary-color);background:#f0fdfa}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-input{display:none}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-custom{width:20px;height:20px;border:2px solid #d1d5db;border-radius:50%;margin-right:12px;position:relative;flex-shrink:0;transition:all .2s ease}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-custom:after{content:\"\";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:var(--primary-color);border-radius:50%;opacity:0;transition:opacity .2s ease}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected .radio-custom{border-color:var(--primary-color)}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected .radio-custom:after{opacity:1}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .option-label{font-size:14px;color:var(--primary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .range-inputs{display:flex;align-items:flex-end;gap:16px}.filter-content .field-configuration .filter-section .range-inputs .range-field-group{flex:1}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-label{display:block;font-size:13px;font-weight:500;color:#374151;margin-bottom:8px}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-input{width:100%;padding:12px 16px;border:var(--primary-border);border-radius:8px;font-size:14px;background:var(--surface-color);transition:border-color .2s ease}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #10b3b31a}.filter-content .field-configuration .filter-section .range-inputs .range-separator{padding:12px 8px 0;font-size:14px;color:var(--secondary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .text-input-group .text-label{display:block;font-size:13px;font-weight:500;color:#374151;margin-bottom:8px}.filter-content .field-configuration .filter-section .text-input-group .text-input{width:100%;padding:12px 16px;border:var(--primary-border);border-radius:8px;font-size:14px;background:var(--surface-color);transition:border-color .2s ease}.filter-content .field-configuration .filter-section .text-input-group .text-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #10b3b31a}.filter-content .field-configuration .filter-section .text-input-group .input-hint{display:block;font-size:12px;color:var(--secondary-font-color);margin-top:6px}.filter-content .no-field-selected{display:flex;align-items:center;justify-content:center;height:100%;min-height:300px}.filter-content .no-field-selected .empty-state{text-align:center;max-width:400px}.filter-content .no-field-selected .empty-state .empty-icon{font-size:48px;margin-bottom:16px}.filter-content .no-field-selected .empty-state h3{margin:0 0 12px;font-size:20px;font-weight:600;color:var(--primary-font-color)}.filter-content .no-field-selected .empty-state p{margin:0;font-size:14px;color:var(--secondary-font-color);line-height:1.5}.filter-footer{background:var(--surface-color);border-top:var(--primary-border);border-radius:0 0 8px 8px;padding:16px 20px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0;min-height:70px}.filter-footer .footer-left{display:flex;align-items:center;gap:16px}.filter-footer .footer-left .results-preview{display:flex;align-items:center;gap:8px}.filter-footer .footer-left .results-preview .results-label{font-size:14px;color:var(--secondary-font-color)}.filter-footer .footer-left .results-preview .results-count{font-size:16px;font-weight:600;color:var(--primary-color);background:var(--status-success-bg);padding:4px 12px;border-radius:6px;border:var(--status-success-border)}.filter-footer .footer-left .filter-summary{font-size:14px;color:#6b7280;background:var(--secondary-background-color);padding:8px 12px;border-radius:6px}.filter-footer .footer-actions{display:flex;align-items:center;gap:12px}.filter-footer .footer-actions .footer-btn{padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;border:none}.filter-footer .footer-actions .footer-btn.cancel-btn{background:var(--surface-color);color:var(--secondary-font-color);border:var(--primary-border)}.filter-footer .footer-actions .footer-btn.cancel-btn:hover{background:#f9fafb;border-color:#d1d5db}.filter-footer .footer-actions .footer-btn.apply-btn{background:var(--primary-color);color:var(--surface-color);border:2px solid var(--primary-color);box-shadow:0 4px 12px #10b3b34d}.filter-footer .footer-actions .footer-btn.apply-btn:hover:not(:disabled){background:#0e9a9a;border-color:#0e9a9a;transform:translateY(-1px);box-shadow:0 6px 16px #10b3b366}.filter-footer .footer-actions .footer-btn.apply-btn:disabled{background:#9ca3af;border-color:#9ca3af;cursor:not-allowed;transform:none;box-shadow:none}.filter-footer .footer-actions .footer-btn.apply-btn .apply-count{background:#fff3;padding:2px 6px;border-radius:10px;font-size:12px;margin-left:4px}.filter-footer .footer-actions .footer-btn .btn-icon{font-size:16px}@media (max-width: 768px){.filter-container{min-width:95vw;max-width:95vw;max-height:90vh}.filter-controls{flex-direction:column}.filter-sidebar{width:100%;max-height:200px;order:2}.filter-content{order:1;padding:16px 20px}.filter-footer{padding:16px 20px;flex-direction:column;gap:12px}.filter-footer .footer-left,.filter-footer .footer-actions{width:100%;justify-content:center}}@keyframes slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}\n"] }]
        }], ctorParameters: () => [] });

class GridMenuRendererComponent {
    constructor() {
        this.menuActions = [];
    }
    agInit(params) {
        this.params = params;
        // Get menuActions from gridOptions
        if (params.context?.gridOptions?.menuActions) {
            this.menuActions = params.context.gridOptions.menuActions || [];
        }
    }
    onActionClick(action, rowData) {
        if (action.click && typeof action.click === 'function') {
            action.click({ data: rowData, action: action });
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: GridMenuRendererComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: GridMenuRendererComponent, isStandalone: true, selector: "app-grid-menu-renderer", ngImport: i0, template: "<button class=\"menu-trigger\" mat-icon-button [matMenuTriggerFor]=\"menu\" (click)=\"$event.stopPropagation()\" aria-label=\"Row actions\">\n  <app-icon \n    fontSet=\"material-icons-outlined\" \n    fontIcon=\"more_vert\" \n    [size]=\"18\">\n  </app-icon>\n</button>\n  <mat-menu #menu=\"matMenu\">\n    <button \n      mat-menu-item \n      *ngFor=\"let action of menuActions\" \n      (click)=\"onActionClick(action, params.data)\">\n        <app-icon \n            fontSet=\"material-icons-outlined\" \n            [fontIcon]=\"action.icon\" \n            >\n        </app-icon>\n      <span>{{ action.title }}</span>\n    </button>\n  </mat-menu>", styles: [":host{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.menu-trigger{opacity:.7;transition:opacity .2s ease;width:28px!important;height:28px!important;border-radius:50%!important;padding:0!important;display:flex;align-items:center;justify-content:center}:host-context(.ag-row-hover) .menu-trigger,:host-context(.ag-row-selected) .menu-trigger,:host:hover .menu-trigger,.menu-trigger:hover,.menu-trigger:focus{opacity:1}:host-context(.actions-cell){padding:0!important}:host-context(.actions-header-cell){padding:0!important}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "ngmodule", type: MatMenuModule }, { kind: "component", type: i2$3.MatMenu, selector: "mat-menu", inputs: ["backdropClass", "aria-label", "aria-labelledby", "aria-describedby", "xPosition", "yPosition", "overlapTrigger", "hasBackdrop", "class", "classList"], outputs: ["closed", "close"], exportAs: ["matMenu"] }, { kind: "component", type: i2$3.MatMenuItem, selector: "[mat-menu-item]", inputs: ["role", "disabled", "disableRipple"], exportAs: ["matMenuItem"] }, { kind: "directive", type: i2$3.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", inputs: ["mat-menu-trigger-for", "matMenuTriggerFor", "matMenuTriggerData", "matMenuTriggerRestoreFocus"], outputs: ["menuOpened", "onMenuOpen", "menuClosed", "onMenuClose"], exportAs: ["matMenuTrigger"] }, { kind: "ngmodule", type: MatIconModule }, { kind: "ngmodule", type: MatButtonModule }, { kind: "component", type: i2$2.MatIconButton, selector: "button[mat-icon-button]", exportAs: ["matButton"] }, { kind: "component", type: IconComponent, selector: "app-icon", inputs: ["fontSet", "fontIcon", "iconType", "icomoonClass", "size", "isBlink", "fontBold", "color", "class", "counter", "isCovered"], outputs: ["iconClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: GridMenuRendererComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-grid-menu-renderer', standalone: true, imports: [CommonModule, MatMenuModule, MatIconModule, MatButtonModule, IconComponent], template: "<button class=\"menu-trigger\" mat-icon-button [matMenuTriggerFor]=\"menu\" (click)=\"$event.stopPropagation()\" aria-label=\"Row actions\">\n  <app-icon \n    fontSet=\"material-icons-outlined\" \n    fontIcon=\"more_vert\" \n    [size]=\"18\">\n  </app-icon>\n</button>\n  <mat-menu #menu=\"matMenu\">\n    <button \n      mat-menu-item \n      *ngFor=\"let action of menuActions\" \n      (click)=\"onActionClick(action, params.data)\">\n        <app-icon \n            fontSet=\"material-icons-outlined\" \n            [fontIcon]=\"action.icon\" \n            >\n        </app-icon>\n      <span>{{ action.title }}</span>\n    </button>\n  </mat-menu>", styles: [":host{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.menu-trigger{opacity:.7;transition:opacity .2s ease;width:28px!important;height:28px!important;border-radius:50%!important;padding:0!important;display:flex;align-items:center;justify-content:center}:host-context(.ag-row-hover) .menu-trigger,:host-context(.ag-row-selected) .menu-trigger,:host:hover .menu-trigger,.menu-trigger:hover,.menu-trigger:focus{opacity:1}:host-context(.actions-cell){padding:0!important}:host-context(.actions-header-cell){padding:0!important}\n"] }]
        }] });

class ConfirmationDialogWrapperComponent {
    constructor() {
        this.dialogRef = inject((MatDialogRef));
        this.data = inject(MAT_DIALOG_DATA);
    }
    onFooterActionClick(actionId, event) {
        if (event) {
            event.preventDefault();
            event.stopPropagation();
        }
        const result = { action: actionId, actionId };
        if (actionId === 'confirm') {
            result.confirmed = true;
        }
        else if (actionId === 'cancel') {
            result.confirmed = false;
        }
        this.dialogRef.close(result);
    }
    get displayTitle() {
        return this.data?.title || 'Confirm';
    }
    get displayMessage() {
        return this.data?.message || 'Are you sure?';
    }
    get footerActions() {
        const actions = [];
        if (this.data?.showCancel !== false) {
            actions.push({
                id: 'cancel',
                text: this.data?.cancelText || 'Cancel',
                color: 'primary',
                appearance: 'flat'
            });
        }
        if (this.data?.showConfirm !== false) {
            actions.push({
                id: 'confirm',
                text: this.data?.confirmText || 'Yes',
                color: 'primary',
                appearance: 'flat'
            });
        }
        return actions;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ConfirmationDialogWrapperComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: ConfirmationDialogWrapperComponent, isStandalone: true, selector: "app-confirmation-dialog-wrapper", ngImport: i0, template: "<div class=\"confirmation-dialog-wrapper\">\n  <div class=\"confirmation-header\">\n    <div class=\"confirmation-title\">{{ displayTitle }}</div>\n  </div>\n  \n  <div class=\"confirmation-content\">\n    <div class=\"message-container\">\n      <p class=\"confirmation-message\">{{ displayMessage }}</p>\n    </div>\n  </div>\n  \n  <div class=\"confirmation-footer\">\n    <div class=\"footer-actions\">\n      <app-button\n        *ngFor=\"let action of footerActions\"\n        [text]=\"action.text\"\n        [color]=\"action.color || 'primary'\"\n        [appearance]=\"action.appearance || 'flat'\"\n        [type]=\"'button'\"\n        [class]=\"action.class || ''\"\n        (btnClick)=\"onFooterActionClick(action.id, $event)\">\n      </app-button>\n    </div>\n  </div>\n</div>\n\n", styles: [".confirmation-dialog-wrapper{display:flex;flex-direction:column;min-width:400px;max-width:500px;background:#fff;border-radius:16px;overflow:hidden}.confirmation-dialog-wrapper .confirmation-header{display:flex;align-items:center;justify-content:center;padding:20px 24px 12px;border-bottom:1px solid #f0f0f0;background:#fff;border-top-left-radius:16px;border-top-right-radius:16px}.confirmation-dialog-wrapper .confirmation-header .confirmation-title{color:#1f2937;font-size:1.15rem;font-weight:600;text-align:center}.confirmation-dialog-wrapper .confirmation-content{padding:20px 24px;background:#fff;flex:1}.confirmation-dialog-wrapper .confirmation-content .message-container{width:100%}.confirmation-dialog-wrapper .confirmation-content .message-container .confirmation-message{margin:0;font-size:16px;line-height:1.6;color:#1f2937;word-wrap:break-word;text-align:left}.confirmation-dialog-wrapper .confirmation-footer{display:flex;align-items:center;justify-content:flex-end;padding:16px 24px;background:#fff;border-top:1px solid #f0f0f0;border-bottom-left-radius:16px;border-bottom-right-radius:16px;gap:0}.confirmation-dialog-wrapper .confirmation-footer .footer-actions{display:flex;align-items:center;justify-content:flex-end;gap:0;width:100%}.confirmation-dialog-wrapper .confirmation-footer .footer-actions app-button{position:relative;margin:0;cursor:pointer}.confirmation-dialog-wrapper .confirmation-footer .footer-actions app-button:not(:last-child){margin-right:0;padding-right:12px}.confirmation-dialog-wrapper .confirmation-footer .footer-actions app-button:not(:first-child){padding-left:12px;border-left:1px solid #e5e7eb}.confirmation-dialog-wrapper .confirmation-footer .footer-actions app-button ::ng-deep button{cursor:pointer;pointer-events:auto}::ng-deep .confirmation-dialog-panel .mat-dialog-container{border-radius:16px;padding:0;box-shadow:0 8px 32px #0000002e;background:#fff;position:relative;margin:auto}::ng-deep .cdk-overlay-pane.confirmation-dialog-panel{display:flex!important;align-items:center!important;justify-content:center!important}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ConfirmationDialogWrapperComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-confirmation-dialog-wrapper', standalone: true, imports: [
                        CommonModule,
                        AppButtonComponent
                    ], template: "<div class=\"confirmation-dialog-wrapper\">\n  <div class=\"confirmation-header\">\n    <div class=\"confirmation-title\">{{ displayTitle }}</div>\n  </div>\n  \n  <div class=\"confirmation-content\">\n    <div class=\"message-container\">\n      <p class=\"confirmation-message\">{{ displayMessage }}</p>\n    </div>\n  </div>\n  \n  <div class=\"confirmation-footer\">\n    <div class=\"footer-actions\">\n      <app-button\n        *ngFor=\"let action of footerActions\"\n        [text]=\"action.text\"\n        [color]=\"action.color || 'primary'\"\n        [appearance]=\"action.appearance || 'flat'\"\n        [type]=\"'button'\"\n        [class]=\"action.class || ''\"\n        (btnClick)=\"onFooterActionClick(action.id, $event)\">\n      </app-button>\n    </div>\n  </div>\n</div>\n\n", styles: [".confirmation-dialog-wrapper{display:flex;flex-direction:column;min-width:400px;max-width:500px;background:#fff;border-radius:16px;overflow:hidden}.confirmation-dialog-wrapper .confirmation-header{display:flex;align-items:center;justify-content:center;padding:20px 24px 12px;border-bottom:1px solid #f0f0f0;background:#fff;border-top-left-radius:16px;border-top-right-radius:16px}.confirmation-dialog-wrapper .confirmation-header .confirmation-title{color:#1f2937;font-size:1.15rem;font-weight:600;text-align:center}.confirmation-dialog-wrapper .confirmation-content{padding:20px 24px;background:#fff;flex:1}.confirmation-dialog-wrapper .confirmation-content .message-container{width:100%}.confirmation-dialog-wrapper .confirmation-content .message-container .confirmation-message{margin:0;font-size:16px;line-height:1.6;color:#1f2937;word-wrap:break-word;text-align:left}.confirmation-dialog-wrapper .confirmation-footer{display:flex;align-items:center;justify-content:flex-end;padding:16px 24px;background:#fff;border-top:1px solid #f0f0f0;border-bottom-left-radius:16px;border-bottom-right-radius:16px;gap:0}.confirmation-dialog-wrapper .confirmation-footer .footer-actions{display:flex;align-items:center;justify-content:flex-end;gap:0;width:100%}.confirmation-dialog-wrapper .confirmation-footer .footer-actions app-button{position:relative;margin:0;cursor:pointer}.confirmation-dialog-wrapper .confirmation-footer .footer-actions app-button:not(:last-child){margin-right:0;padding-right:12px}.confirmation-dialog-wrapper .confirmation-footer .footer-actions app-button:not(:first-child){padding-left:12px;border-left:1px solid #e5e7eb}.confirmation-dialog-wrapper .confirmation-footer .footer-actions app-button ::ng-deep button{cursor:pointer;pointer-events:auto}::ng-deep .confirmation-dialog-panel .mat-dialog-container{border-radius:16px;padding:0;box-shadow:0 8px 32px #0000002e;background:#fff;position:relative;margin:auto}::ng-deep .cdk-overlay-pane.confirmation-dialog-panel{display:flex!important;align-items:center!important;justify-content:center!important}\n"] }]
        }] });

class DialogboxService {
    constructor() {
        this.dialog = inject(MatDialog);
    }
    openDialog(component, config = {}) {
        const dialogRef = this.dialog.open(DialogboxContentComponent, {
            data: {
                title: config.title,
                component,
                componentData: config.data,
                hideHeader: config.hideHeader,
                footerActions: config.footerActions
            },
            panelClass: 'custom-dialog-panel',
            width: config.width || '80%',
            height: config.height || '60%',
            minWidth: config.minWidth,
            minHeight: config.minHeight,
            maxWidth: config.maxWidth,
            maxHeight: config.maxHeight,
            autoFocus: false,
            hasBackdrop: true,
            disableClose: false
        });
        return dialogRef;
    }
    openConfirmationDialog(config) {
        const dialogRef = this.dialog.open(ConfirmationDialogWrapperComponent, {
            data: {
                message: config.message,
                title: config.title || 'Confirm',
                cancelText: config.cancelText,
                confirmText: config.confirmText,
                icon: config.icon || 'info',
                showCancel: config.showCancel !== false,
                showConfirm: config.showConfirm !== false
            },
            panelClass: 'confirmation-dialog-panel',
            width: config.width || '450px',
            minWidth: config.minWidth || '400px',
            maxWidth: config.maxWidth || '600px',
            autoFocus: false,
            hasBackdrop: true,
            disableClose: false
        });
        return dialogRef;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DialogboxService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DialogboxService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DialogboxService, decorators: [{
            type: Injectable,
            args: [{ providedIn: 'root' }]
        }] });
class DialogboxComponent {
    constructor() {
        this.title = '';
        this.closed = new EventEmitter();
        this.dialog = inject(MatDialog);
    }
    openDialog() {
        const dialogRef = this.dialog.open(DialogboxContentComponent, {
            data: { title: this.title, content: this.data },
            panelClass: 'custom-dialog-panel',
            autoFocus: false
        });
        dialogRef.afterClosed().subscribe((result) => {
            this.closed.emit(result);
        });
        return dialogRef;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DialogboxComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: DialogboxComponent, isStandalone: true, selector: "app-dialogbox", inputs: { title: "title", data: "data" }, outputs: { closed: "closed" }, ngImport: i0, template: "", styles: ["::ng-deep .custom-dialog-panel .mat-dialog-container{border-radius:16px;padding:0;min-width:400px;max-width:90vw;box-shadow:0 8px 32px #0000002e;background:#fff;position:relative;margin:auto}::ng-deep .cdk-overlay-pane.custom-dialog-panel{display:flex!important;align-items:center!important;justify-content:center!important}.dialogbox-header{display:flex;align-items:center;justify-content:space-between;padding:.8em .7em .7em;height:3em;border-bottom:1px solid #f0f0f0;font-size:1.2rem;font-weight:600;background:#fff;border-top-left-radius:16px;border-top-right-radius:16px}.dialogbox-header.confirmation-header{justify-content:center;padding:20px 24px}.dialogbox-title{flex:1;color:#222;font-size:1.15rem;font-weight:600}.dialogbox-title.centered-title{flex:none;text-align:center;color:#1f2937}.close-icon{cursor:pointer;color:#888;transition:color .2s;margin-left:16px}.close-icon:hover{color:#18b6b2}.dialogbox-content{padding:1em;height:calc(100% - 6.5em);background:var(--surface-color);border-bottom-left-radius:16px;border-bottom-right-radius:16px;max-height:75vh;overflow:scroll}.dialogbox-content.no-header{padding-top:16px;padding-bottom:16px;border-top-left-radius:16px;border-top-right-radius:16px}.dialogbox-content.has-footer{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:1px solid #f0f0f0}.dialogbox-content app-filter{display:block;width:100%;height:600px;max-height:70vh}.dialogbox-content app-filter .filter-container{height:100%;max-height:100%}.dialogbox-footer{display:flex;align-items:center;justify-content:flex-end;padding:1em 1.2em;height:3.5em;background:#fff;border-bottom-left-radius:16px;border-bottom-right-radius:16px;border-top:1px solid #f0f0f0;gap:0}.dialogbox-footer:has(+.dialogbox-content.no-header),.no-header~.dialogbox-footer{padding-top:12px;padding-bottom:12px}.dialogbox-footer .footer-actions{display:flex;align-items:center;justify-content:flex-end;gap:0;width:100%}.dialogbox-footer .footer-actions app-button{position:relative;margin:0}.dialogbox-footer .footer-actions app-button:not(:last-child){margin-right:0;padding-right:12px}.dialogbox-footer .footer-actions app-button:not(:first-child){padding-left:12px;border-left:1px solid #e5e7eb}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatDialogModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DialogboxComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-dialogbox', standalone: true, imports: [CommonModule, MatDialogModule], template: "", styles: ["::ng-deep .custom-dialog-panel .mat-dialog-container{border-radius:16px;padding:0;min-width:400px;max-width:90vw;box-shadow:0 8px 32px #0000002e;background:#fff;position:relative;margin:auto}::ng-deep .cdk-overlay-pane.custom-dialog-panel{display:flex!important;align-items:center!important;justify-content:center!important}.dialogbox-header{display:flex;align-items:center;justify-content:space-between;padding:.8em .7em .7em;height:3em;border-bottom:1px solid #f0f0f0;font-size:1.2rem;font-weight:600;background:#fff;border-top-left-radius:16px;border-top-right-radius:16px}.dialogbox-header.confirmation-header{justify-content:center;padding:20px 24px}.dialogbox-title{flex:1;color:#222;font-size:1.15rem;font-weight:600}.dialogbox-title.centered-title{flex:none;text-align:center;color:#1f2937}.close-icon{cursor:pointer;color:#888;transition:color .2s;margin-left:16px}.close-icon:hover{color:#18b6b2}.dialogbox-content{padding:1em;height:calc(100% - 6.5em);background:var(--surface-color);border-bottom-left-radius:16px;border-bottom-right-radius:16px;max-height:75vh;overflow:scroll}.dialogbox-content.no-header{padding-top:16px;padding-bottom:16px;border-top-left-radius:16px;border-top-right-radius:16px}.dialogbox-content.has-footer{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:1px solid #f0f0f0}.dialogbox-content app-filter{display:block;width:100%;height:600px;max-height:70vh}.dialogbox-content app-filter .filter-container{height:100%;max-height:100%}.dialogbox-footer{display:flex;align-items:center;justify-content:flex-end;padding:1em 1.2em;height:3.5em;background:#fff;border-bottom-left-radius:16px;border-bottom-right-radius:16px;border-top:1px solid #f0f0f0;gap:0}.dialogbox-footer:has(+.dialogbox-content.no-header),.no-header~.dialogbox-footer{padding-top:12px;padding-bottom:12px}.dialogbox-footer .footer-actions{display:flex;align-items:center;justify-content:flex-end;gap:0;width:100%}.dialogbox-footer .footer-actions app-button{position:relative;margin:0}.dialogbox-footer .footer-actions app-button:not(:last-child){margin-right:0;padding-right:12px}.dialogbox-footer .footer-actions app-button:not(:first-child){padding-left:12px;border-left:1px solid #e5e7eb}\n"] }]
        }], propDecorators: { title: [{
                type: Input
            }], data: [{
                type: Input
            }], closed: [{
                type: Output
            }] } });
class DialogboxContentComponent {
    constructor() {
        this.dialogRef = inject((MatDialogRef));
        this.data = inject(MAT_DIALOG_DATA);
        this.injector = inject(Injector);
        this.changeDetectorRef = inject(ChangeDetectorRef);
        // Store original footer actions for dynamic updates
        this.originalFooterActions = [];
        // Create injector once in constructor to prevent recreation on every change detection
        this.componentInjector = Injector.create({
            providers: [
                { provide: DIALOG_DATA_TOKEN, useValue: this.data.componentData }
            ],
            parent: this.injector
        });
        // Store original footer actions
        if (this.data?.footerActions) {
            this.originalFooterActions = [...this.data.footerActions];
        }
    }
    close() {
        this.dialogRef.close();
    }
    isConfirmationDialog() {
        return this.data?.componentData?.isConfirmationDialog === true;
    }
    onFooterActionClick(actionId, event) {
        // Emit action data through dialog close
        // This can be caught in afterClosed() subscription
        // For confirmation dialogs, add confirmed flag
        const result = { action: actionId, actionId, event };
        if (actionId === 'confirm') {
            result.confirmed = true;
        }
        else if (actionId === 'cancel') {
            result.confirmed = false;
        }
        this.dialogRef.close(result);
    }
    /**
     * Update footer actions dynamically
     * @param actions - New array of footer actions, or a function to filter/update existing actions
     */
    updateFooterActions(actions) {
        if (!this.data)
            return;
        if (typeof actions === 'function') {
            // If a function is provided, use it to filter/update actions
            const allActions = this.originalFooterActions.length > 0
                ? this.originalFooterActions
                : (this.data.footerActions || []);
            // Store original if not already stored
            if (this.originalFooterActions.length === 0 && allActions.length > 0) {
                this.originalFooterActions = [...allActions];
            }
            // Create a new array reference to trigger change detection
            const updatedActions = actions(allActions);
            // Create a completely new array with new object references
            this.data.footerActions = updatedActions.map(action => ({ ...action }));
        }
        else if (actions) {
            // If an array is provided, use it directly
            this.data.footerActions = actions.map(action => ({ ...action }));
        }
        // Trigger change detection - use both markForCheck and detectChanges
        this.changeDetectorRef.markForCheck();
        this.changeDetectorRef.detectChanges();
    }
    /**
     * Update disabled state of a specific footer action
     * @param actionId - ID of the action to update
     * @param disabled - New disabled state
     */
    setFooterActionDisabled(actionId, disabled) {
        if (!this.data?.footerActions)
            return;
        const action = this.data.footerActions.find((a) => a.id === actionId);
        if (action) {
            action.disabled = disabled;
            this.changeDetectorRef.detectChanges();
        }
    }
    /**
     * Get current footer actions
     */
    getFooterActions() {
        return this.data?.footerActions || [];
    }
    /**
     * Get original footer actions
     */
    getOriginalFooterActions() {
        return this.originalFooterActions.length > 0 ? this.originalFooterActions : (this.data?.footerActions || []);
    }
    /**
     * Track by function for ngFor to improve change detection
     */
    trackByActionId(index, action) {
        return action.id;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DialogboxContentComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: DialogboxContentComponent, isStandalone: true, selector: "app-dialogbox-content", ngImport: i0, template: "<div class=\"dialogbox-header\" *ngIf=\"!data?.hideHeader\" [class.confirmation-header]=\"isConfirmationDialog()\">\n  <div class=\"dialogbox-title\" [class.centered-title]=\"isConfirmationDialog()\">{{ data?.title }}</div>\n  <app-icon *ngIf=\"!isConfirmationDialog()\" fontIcon=\"close\" [size]=\"22\" (iconClick)=\"close()\" class=\"close-icon\"></app-icon>\n</div>\n<div class=\"dialogbox-content\" [class.no-header]=\"data?.hideHeader\" [class.has-footer]=\"data?.footerActions?.length\">\n  <ng-container *ngIf=\"data?.component\">\n    <ng-container *ngComponentOutlet=\"data.component; injector: componentInjector\"></ng-container>\n  </ng-container>\n  <ng-container *ngIf=\"!data?.component\">\n    <ng-container *ngIf=\"data?.content; else projected\">\n      {{ data.content }}\n    </ng-container>\n    <ng-template #projected>\n      <ng-content></ng-content>\n    </ng-template>\n  </ng-container>\n</div>\n<div class=\"dialogbox-footer\" *ngIf=\"data?.footerActions?.length\">\n  <div class=\"footer-actions\">\n    <app-button\n      *ngFor=\"let action of data.footerActions; trackBy: trackByActionId\"\n      [text]=\"action.text\"\n      [color]=\"action.color || 'primary'\"\n      [appearance]=\"action.appearance || 'raised'\"\n      [disabled]=\"action.disabled || false\"\n      [fontIcon]=\"action.fontIcon || ''\"\n      [class]=\"action.class || ''\"\n      (btnClick)=\"onFooterActionClick(action.id, $event)\"\n    ></app-button>\n  </div>\n</div> ", styles: ["::ng-deep .custom-dialog-panel .mat-dialog-container{border-radius:16px;padding:0;min-width:400px;max-width:90vw;box-shadow:0 8px 32px #0000002e;background:#fff;position:relative;margin:auto}::ng-deep .cdk-overlay-pane.custom-dialog-panel{display:flex!important;align-items:center!important;justify-content:center!important}.dialogbox-header{display:flex;align-items:center;justify-content:space-between;padding:.8em .7em .7em;height:3em;border-bottom:1px solid #f0f0f0;font-size:1.2rem;font-weight:600;background:#fff;border-top-left-radius:16px;border-top-right-radius:16px}.dialogbox-header.confirmation-header{justify-content:center;padding:20px 24px}.dialogbox-title{flex:1;color:#222;font-size:1.15rem;font-weight:600}.dialogbox-title.centered-title{flex:none;text-align:center;color:#1f2937}.close-icon{cursor:pointer;color:#888;transition:color .2s;margin-left:16px}.close-icon:hover{color:#18b6b2}.dialogbox-content{padding:1em;height:calc(100% - 6.5em);background:var(--surface-color);border-bottom-left-radius:16px;border-bottom-right-radius:16px;max-height:75vh;overflow:scroll}.dialogbox-content.no-header{padding-top:16px;padding-bottom:16px;border-top-left-radius:16px;border-top-right-radius:16px}.dialogbox-content.has-footer{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:1px solid #f0f0f0}.dialogbox-content app-filter{display:block;width:100%;height:600px;max-height:70vh}.dialogbox-content app-filter .filter-container{height:100%;max-height:100%}.dialogbox-footer{display:flex;align-items:center;justify-content:flex-end;padding:1em 1.2em;height:3.5em;background:#fff;border-bottom-left-radius:16px;border-bottom-right-radius:16px;border-top:1px solid #f0f0f0;gap:0}.dialogbox-footer:has(+.dialogbox-content.no-header),.no-header~.dialogbox-footer{padding-top:12px;padding-bottom:12px}.dialogbox-footer .footer-actions{display:flex;align-items:center;justify-content:flex-end;gap:0;width:100%}.dialogbox-footer .footer-actions app-button{position:relative;margin:0}.dialogbox-footer .footer-actions app-button:not(:last-child){margin-right:0;padding-right:12px}.dialogbox-footer .footer-actions app-button:not(:first-child){padding-left:12px;border-left:1px solid #e5e7eb}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgComponentOutlet, selector: "[ngComponentOutlet]", inputs: ["ngComponentOutlet", "ngComponentOutletInputs", "ngComponentOutletInjector", "ngComponentOutletContent", "ngComponentOutletNgModule", "ngComponentOutletNgModuleFactory"] }, { kind: "directive", type: i1$2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1$2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: MatDialogModule }, { kind: "component", type: IconComponent, selector: "app-icon", inputs: ["fontSet", "fontIcon", "iconType", "icomoonClass", "size", "isBlink", "fontBold", "color", "class", "counter", "isCovered"], outputs: ["iconClick"] }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DialogboxContentComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-dialogbox-content', standalone: true, imports: [CommonModule, MatDialogModule, IconComponent, AppButtonComponent], template: "<div class=\"dialogbox-header\" *ngIf=\"!data?.hideHeader\" [class.confirmation-header]=\"isConfirmationDialog()\">\n  <div class=\"dialogbox-title\" [class.centered-title]=\"isConfirmationDialog()\">{{ data?.title }}</div>\n  <app-icon *ngIf=\"!isConfirmationDialog()\" fontIcon=\"close\" [size]=\"22\" (iconClick)=\"close()\" class=\"close-icon\"></app-icon>\n</div>\n<div class=\"dialogbox-content\" [class.no-header]=\"data?.hideHeader\" [class.has-footer]=\"data?.footerActions?.length\">\n  <ng-container *ngIf=\"data?.component\">\n    <ng-container *ngComponentOutlet=\"data.component; injector: componentInjector\"></ng-container>\n  </ng-container>\n  <ng-container *ngIf=\"!data?.component\">\n    <ng-container *ngIf=\"data?.content; else projected\">\n      {{ data.content }}\n    </ng-container>\n    <ng-template #projected>\n      <ng-content></ng-content>\n    </ng-template>\n  </ng-container>\n</div>\n<div class=\"dialogbox-footer\" *ngIf=\"data?.footerActions?.length\">\n  <div class=\"footer-actions\">\n    <app-button\n      *ngFor=\"let action of data.footerActions; trackBy: trackByActionId\"\n      [text]=\"action.text\"\n      [color]=\"action.color || 'primary'\"\n      [appearance]=\"action.appearance || 'raised'\"\n      [disabled]=\"action.disabled || false\"\n      [fontIcon]=\"action.fontIcon || ''\"\n      [class]=\"action.class || ''\"\n      (btnClick)=\"onFooterActionClick(action.id, $event)\"\n    ></app-button>\n  </div>\n</div> ", styles: ["::ng-deep .custom-dialog-panel .mat-dialog-container{border-radius:16px;padding:0;min-width:400px;max-width:90vw;box-shadow:0 8px 32px #0000002e;background:#fff;position:relative;margin:auto}::ng-deep .cdk-overlay-pane.custom-dialog-panel{display:flex!important;align-items:center!important;justify-content:center!important}.dialogbox-header{display:flex;align-items:center;justify-content:space-between;padding:.8em .7em .7em;height:3em;border-bottom:1px solid #f0f0f0;font-size:1.2rem;font-weight:600;background:#fff;border-top-left-radius:16px;border-top-right-radius:16px}.dialogbox-header.confirmation-header{justify-content:center;padding:20px 24px}.dialogbox-title{flex:1;color:#222;font-size:1.15rem;font-weight:600}.dialogbox-title.centered-title{flex:none;text-align:center;color:#1f2937}.close-icon{cursor:pointer;color:#888;transition:color .2s;margin-left:16px}.close-icon:hover{color:#18b6b2}.dialogbox-content{padding:1em;height:calc(100% - 6.5em);background:var(--surface-color);border-bottom-left-radius:16px;border-bottom-right-radius:16px;max-height:75vh;overflow:scroll}.dialogbox-content.no-header{padding-top:16px;padding-bottom:16px;border-top-left-radius:16px;border-top-right-radius:16px}.dialogbox-content.has-footer{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:1px solid #f0f0f0}.dialogbox-content app-filter{display:block;width:100%;height:600px;max-height:70vh}.dialogbox-content app-filter .filter-container{height:100%;max-height:100%}.dialogbox-footer{display:flex;align-items:center;justify-content:flex-end;padding:1em 1.2em;height:3.5em;background:#fff;border-bottom-left-radius:16px;border-bottom-right-radius:16px;border-top:1px solid #f0f0f0;gap:0}.dialogbox-footer:has(+.dialogbox-content.no-header),.no-header~.dialogbox-footer{padding-top:12px;padding-bottom:12px}.dialogbox-footer .footer-actions{display:flex;align-items:center;justify-content:flex-end;gap:0;width:100%}.dialogbox-footer .footer-actions app-button{position:relative;margin:0}.dialogbox-footer .footer-actions app-button:not(:last-child){margin-right:0;padding-right:12px}.dialogbox-footer .footer-actions app-button:not(:first-child){padding-left:12px;border-left:1px solid #e5e7eb}\n"] }]
        }], ctorParameters: () => [] });

// AG Grid v34+ requires module registration for features like pagination, filtering, row API, etc.
// Register all community modules once for the app (safe to call multiple times).
ModuleRegistry.registerModules([AllCommunityModule]);
/**
 * Grid Component with Menu Support
 *
 * This component extends the standard ag-grid with menu functionality.
 *
 * Menu Configuration:
 * 1. Set menuActions in gridOptions to automatically add a menu column
 * 2. Or manually add a column with cellRenderer: 'gridMenu'
 *
 * Example usage:
 * ```typescript
 * this.gridOptions = {
 *   menuActions: [
 *     {
 *       title: 'View',
 *       icon: 'visibility',
 *       click: (param) => this.onView(param.data)
 *     },
 *     {
 *       title: 'Edit',
 *       icon: 'edit',
 *       click: (param) => this.onEdit(param.data)
 *     },
 *     {
 *       title: 'Delete',
 *       icon: 'delete',
 *       click: (param) => this.onDelete(param.data)
 *     }
 *   ]
 * };
 * ```
 */
class GridComponent {
    constructor(dialogbox, platformId, apiConfigService, http) {
        this.dialogbox = dialogbox;
        this.platformId = platformId;
        this.apiConfigService = apiConfigService;
        this.http = http;
        this.rowData = [];
        this.columnDefs = [];
        this.gridOptions = {};
        this.domLayout = 'autoHeight';
        this.animateRows = true;
        this.class = 'ag-theme-alpine';
        this.height = '400px';
        this.width = '100%';
        this.showHeader = true;
        this.searchPlaceholder = 'Search...';
        this.rightTooltemplateRef = null;
        this.cardTemplate = null;
        this.defaultViewMode = 'list';
        this.showAddButton = false;
        this.apiConfig = null;
        this.searchChange = new EventEmitter();
        this.rowClicked = new EventEmitter();
        this.addClick = new EventEmitter();
        this.searchText = '';
        this.filteredRowData = [];
        this.processedColumnDefs = [];
        this.activeFiltersCount = 0;
        this.activeFilterChips = [];
        this.viewMode = 'list';
        this.displayedRows = 0;
        this.totalRows = 0;
        this._activeFilters = [];
        this._activeLogic = 'AND';
        this.isBrowser = isPlatformBrowser(this.platformId);
    }
    ngOnInit() {
        this.gridOptions.pagination = true;
        this.gridOptions.paginationPageSize = 25;
        this.gridOptions.paginationPageSizeSelector = [10, 25, 50, 100];
        this.gridOptions.rowHeight = 48;
        this.gridOptions.headerHeight = 40;
        this.gridOptions.suppressCellFocus = true;
        this.gridOptions.getRowHeight = (params) => {
            // Support dynamic row height for multi-line content
            return params.node.rowHeight || 48;
        };
        this.gridOptions.context = { gridOptions: this.gridOptions };
        this.gridOptions.noRowsOverlayComponentParams = {
            noRowsMessageFunc: () => 'No records to display'
        };
        // Configure row selection if enabled
        if (this.gridOptions.rowSelection) {
            // Ensure row clicks trigger selection
            if (this.gridOptions.suppressRowClickSelection === undefined) {
                this.gridOptions.suppressRowClickSelection = false;
            }
            // Add row selection class
            this.class = (this.class || 'ag-theme-clean') + ' has-row-selection';
        }
        // Register cell renderer components for AG-Grid
        // This ensures AG-Grid can resolve the components at runtime
        if (!this.gridOptions.components) {
            this.gridOptions.components = {};
        }
        this.gridOptions.components['gridMenu'] = GridMenuRendererComponent;
        this.filteredRowData = [...this.rowData];
        this.viewMode = this.defaultViewMode;
        if (this.shouldFetchFromApi()) {
            this.fetchGridDataFromApi();
        }
        else {
            this.processColumnDefs();
            this.updatePaginationInfo();
        }
    }
    ngOnChanges(changes) {
        const rowDataChanged = 'rowData' in changes;
        const apiConfigChanged = 'apiConfig' in changes;
        if (rowDataChanged && this.rowData && this.rowData.length > 0) {
            this.filteredRowData = this.applySearchTo([...this.rowData]);
            this.processColumnDefs();
            this.updatePaginationInfo();
            return;
        }
        if (apiConfigChanged && this.shouldFetchFromApi()) {
            this.fetchGridDataFromApi();
        }
    }
    onGridReady(params) {
        this.gridApi = params.api;
        this.updatePaginationInfo();
    }
    onModelUpdated(event) {
        this.updatePaginationInfo();
    }
    updatePaginationInfo() {
        if (this.gridApi) {
            const totalFilteredRows = this.gridApi.getDisplayedRowCount();
            const pageSize = this.gridApi.paginationGetPageSize();
            const currentPage = this.gridApi.paginationGetCurrentPage();
            const startRow = currentPage * pageSize;
            const endRow = Math.min(startRow + pageSize, totalFilteredRows);
            const displayedOnPage = totalFilteredRows > 0 ? endRow - startRow : 0;
            this.displayedRows = displayedOnPage;
            this.totalRows = totalFilteredRows;
        }
        else {
            this.displayedRows = this.filteredRowData.length;
            this.totalRows = this.filteredRowData.length;
        }
    }
    onAddClick() {
        this.addClick.emit();
    }
    onColumnSettingsClick() {
        // Emit event or open column visibility dialog
        if (this.gridApi) {
            // Can implement column visibility toggle here
            console.log('Column settings clicked');
        }
    }
    /**
     * Get status class based on status value
     * Helper method to automatically determine status badge class from enum/string values
     */
    static getStatusClass(statusValue) {
        if (!statusValue)
            return 'status-neutral';
        const status = String(statusValue).toLowerCase().replace(/[_\s-]/g, '-');
        // Success states
        if (['paid', 'closed', 'cleared', 'active', 'completed', 'approved', 'enabled', 'online', 'available', 'done', 'finished', 'resolved', 'accepted', 'verified', 'confirmed', 'delivered', 'published', 'live'].includes(status)) {
            return 'status-success';
        }
        // Error/Danger states
        if (['cancelled', 'canceled', 'failed', 'void', 'rejected', 'denied', 'blocked', 'disabled', 'inactive', 'unavailable', 'offline', 'expired', 'terminated', 'suspended', 'deleted', 'error', 'critical'].includes(status)) {
            return 'status-danger';
        }
        // Warning states
        if (['pending', 'in-progress', 'in_progress', 'waiting', 'processing', 'queued', 'draft', 'review', 'under-review', 'on-hold', 'onhold', 'delayed', 'partially-paid', 'partially_paid', 'partial'].includes(status)) {
            return 'status-warning';
        }
        // Info states
        if (['issued', 'scheduled', 'assigned', 'allocated', 'reserved', 'booked', 'acknowledged', 'notified', 'info'].includes(status)) {
            return 'status-info';
        }
        // Special states
        if (['urgent', 'emergency', 'high-priority', 'high_priority', 'priority'].includes(status)) {
            return 'status-urgent';
        }
        // Busy states
        if (['busy', 'working', 'occupied'].includes(status)) {
            return 'status-busy';
        }
        return 'status-neutral';
    }
    /**
     * Process column definitions to add menu column if needed
     *
     * This method:
     * 1. Checks if any column has cellRenderer: 'gridMenu'
     * 2. If menuActions exist in gridOptions but no menu column is configured, adds one automatically
     * 3. If a menu column exists, updates it with the proper cell renderer
     * 4. Auto-detects status columns and applies appropriate cell classes
     */
    processColumnDefs() {
        // Process columns and disable floating filters by default to match image (unless explicitly set)
        this.processedColumnDefs = this.columnDefs.map(col => {
            const field = col.field?.toLowerCase() || '';
            const isStatusColumn = field.includes('status') || field.includes('state');
            return {
                ...col,
                floatingFilter: col.floatingFilter ?? false,
                suppressHeaderMenuButton: col.suppressHeaderMenuButton ?? true,
                // Auto-add status cell class for status columns
                cellClass: isStatusColumn && !col.cellClass
                    ? 'status-cell'
                    : col.cellClass
            };
        });
        // Check if any column has cellRenderer: 'gridMenu' or if there's already an actions column
        const hasMenuColumn = this.processedColumnDefs.some(col => col.cellRenderer === 'gridMenu' ||
            col.cellRenderer === GridMenuRendererComponent ||
            (col.field === 'actions' && col.pinned === 'right'));
        const extendedGridOptions = this.gridOptions;
        if (!hasMenuColumn && extendedGridOptions.menuActions && extendedGridOptions.menuActions.length > 0) {
            // Add compact hover-only menu column if menuActions exist but no menu column is configured
            this.processedColumnDefs.push({
                headerName: '',
                field: 'actions',
                sortable: false,
                filter: false,
                width: 36,
                minWidth: 36,
                maxWidth: 36,
                suppressSizeToFit: true,
                resizable: false,
                pinned: 'right',
                cellClass: 'actions-cell',
                headerClass: 'actions-header-cell',
                cellRenderer: GridMenuRendererComponent,
                cellRendererParams: {
                    menuActions: extendedGridOptions.menuActions
                }
            });
        }
        else if (hasMenuColumn) {
            // Update existing menu column with cellRenderer
            this.processedColumnDefs = this.processedColumnDefs.map(col => {
                if (col.cellRenderer === 'gridMenu') {
                    return {
                        ...col,
                        cellRenderer: GridMenuRendererComponent,
                        cellRendererParams: {
                            menuActions: extendedGridOptions.menuActions
                        }
                    };
                }
                return col;
            });
        }
    }
    onSearchChange(value) {
        this.searchText = value;
        // Re-apply search on top of active advanced filters
        const base = this._activeFilters && this._activeFilters.length
            ? (this.rowData || []).filter(r => this._activeFilters.map(f => this.evaluateFilter(r, f)).reduce((acc, cur) => this._activeLogic === 'AND' ? acc && cur : acc || cur, this._activeLogic === 'AND'))
            : [...(this.rowData || [])];
        this.filteredRowData = this.applySearchTo(base);
        this.searchChange.emit(value);
    }
    applySearchTo(data) {
        if (!this.searchText || !this.searchText.trim())
            return data;
        const searchTerm = this.searchText.toLowerCase();
        return (data || []).filter(row => Object.values(row).some(value => value?.toString().toLowerCase().includes(searchTerm)));
    }
    onFilterClick() {
        const data = this.buildFilterDialogData();
        const ref = this.dialogbox.openDialog(FilterComponent, {
            title: 'Filter Grid',
            data,
            width: '900px'
        });
        ref.afterClosed().subscribe((result) => {
            if (result && result.filters) {
                this.applyAdvancedFilters(result.filters, result.logic || 'AND');
                this.activeFiltersCount = result.filters.length;
                this.updateFilterChips(result.filters);
            }
            else if (result === null) {
                // Dialog was cancelled or cleared
                this.activeFiltersCount = 0;
                this.activeFilterChips = [];
            }
        });
    }
    buildFilterDialogData() {
        const extendedGridOptions = this.gridOptions;
        const provided = extendedGridOptions.filterConfig || {};
        const fields = (provided.fields && provided.fields.length ? provided.fields : this.columnDefs
            .filter(col => !!col.field)
            .map(col => {
            return {
                label: col.headerName || col.field,
                value: col.field,
                inputType: this.detectInputType(col.field)
            };
        }));
        const valuesMap = { ...(provided.valuesMap || {}) };
        const operatorsMap = { ...(provided.operatorsMap || {}) };
        for (const fieldDef of fields) {
            if (fieldDef.inputType === 'select') {
                if (!valuesMap[fieldDef.value]) {
                    valuesMap[fieldDef.value] = this.getUniqueValues(fieldDef.value, 200);
                }
            }
            if (!operatorsMap[fieldDef.value]) {
                operatorsMap[fieldDef.value] = this.defaultOperatorsByType(fieldDef.inputType);
            }
        }
        const initialFilters = provided.initialFilters || this._activeFilters || [];
        const logic = provided.logic || this._activeLogic || 'AND';
        return { fields, valuesMap, operatorsMap, filters: initialFilters, logic };
    }
    detectInputType(field) {
        // Prefer select when unique values are small
        const uniques = this.getUniqueValues(field, 51);
        if (uniques.length > 0 && uniques.length <= 50) {
            return 'select';
        }
        const sample = this.rowData && this.rowData.length ? this.rowData[0][field] : undefined;
        if (typeof sample === 'number')
            return 'number';
        if (typeof sample === 'boolean')
            return 'boolean';
        if (this.looksLikeDate(sample))
            return 'date';
        return 'input';
    }
    looksLikeDate(value) {
        if (!value)
            return false;
        if (value instanceof Date)
            return true;
        const dt = new Date(value);
        return !isNaN(dt.getTime());
    }
    getUniqueValues(field, limit) {
        const set = new Set();
        for (const row of this.rowData || []) {
            set.add(row[field]);
            if (set.size >= limit)
                break;
        }
        return Array.from(set);
    }
    defaultOperatorsByType(type) {
        switch (type) {
            case 'number':
                return [
                    { label: 'Equals', value: 'eq' },
                    { label: 'Not Equals', value: 'neq' },
                    { label: 'Greater Than', value: 'gt' },
                    { label: 'Greater Or Equal', value: 'gte' },
                    { label: 'Less Than', value: 'lt' },
                    { label: 'Less Or Equal', value: 'lte' },
                    { label: 'Between', value: 'between' }
                ];
            case 'date':
                return [
                    { label: 'On', value: 'eq' },
                    { label: 'Before', value: 'lt' },
                    { label: 'After', value: 'gt' },
                    { label: 'Between', value: 'between' }
                ];
            case 'boolean':
                return [
                    { label: 'Is', value: 'eq' },
                    { label: 'Is Not', value: 'neq' }
                ];
            case 'select':
            case 'input':
            default:
                return [
                    { label: 'Contains', value: 'contains' },
                    { label: 'Equals', value: 'eq' },
                    { label: 'Not Equals', value: 'neq' },
                    { label: 'Starts With', value: 'startsWith' },
                    { label: 'Ends With', value: 'endsWith' },
                    { label: 'Is Empty', value: 'empty' },
                    { label: 'Is Not Empty', value: 'notEmpty' }
                ];
        }
    }
    updateFilterChips(filters) {
        this.activeFilterChips = filters.map(f => {
            const column = this.columnDefs.find(col => col.field === f.field);
            const label = column?.headerName || f.field;
            let value = f.value;
            if (f.inputType === 'boolean') {
                value = f.value === true || f.value === 'true' ? 'Yes' : 'No';
            }
            else if (f.inputType === 'date') {
                value = new Date(f.value).toLocaleDateString();
            }
            else if (f.operator === 'between' && f.valueTo !== undefined) {
                value = `${f.value} - ${f.valueTo}`;
            }
            return {
                label,
                value: String(value),
                field: f.field
            };
        });
    }
    removeFilterChip(field) {
        this._activeFilters = this._activeFilters.filter(f => f.field !== field);
        this.activeFiltersCount = this._activeFilters.length;
        this.activeFilterChips = this.activeFilterChips.filter(chip => chip.field !== field);
        if (this._activeFilters.length === 0) {
            this.filteredRowData = this.applySearchTo([...(this.rowData || [])]);
        }
        else {
            this.applyAdvancedFilters(this._activeFilters, this._activeLogic);
        }
    }
    applyAdvancedFilters(filters, logic) {
        this._activeFilters = filters;
        this._activeLogic = logic;
        if (!filters || filters.length === 0) {
            this.filteredRowData = this.applySearchTo([...(this.rowData || [])]);
            this.activeFilterChips = [];
            return;
        }
        const evaluator = (row) => {
            const results = filters.map(f => this.evaluateFilter(row, f));
            return logic === 'AND' ? results.every(Boolean) : results.some(Boolean);
        };
        const base = (this.rowData || []).filter(evaluator);
        this.filteredRowData = this.applySearchTo(base);
    }
    evaluateFilter(row, f) {
        const raw = row[f.field];
        const op = (f.operator || '').toLowerCase();
        const type = f.inputType;
        // Handle empty/notEmpty without touching values
        if (op === 'empty')
            return raw === undefined || raw === null || String(raw).trim() === '';
        if (op === 'notempty')
            return !(raw === undefined || raw === null || String(raw).trim() === '');
        if (type === 'number') {
            const a = Number(raw);
            const b = Number(f.value);
            const c = f.valueTo !== undefined ? Number(f.valueTo) : undefined;
            if (isNaN(a) || isNaN(b))
                return false;
            switch (op) {
                case 'eq': return a === b;
                case 'neq': return a !== b;
                case 'gt': return a > b;
                case 'gte': return a >= b;
                case 'lt': return a < b;
                case 'lte': return a <= b;
                case 'between': return c !== undefined && !isNaN(c) ? a >= Math.min(b, c) && a <= Math.max(b, c) : false;
                default: return false;
            }
        }
        if (type === 'date') {
            const a = this.toDate(raw);
            const b = this.toDate(f.value);
            const c = f.valueTo ? this.toDate(f.valueTo) : null;
            if (!a || !b)
                return false;
            switch (op) {
                case 'eq': return this.sameDay(a, b);
                case 'lt': return a.getTime() < b.getTime();
                case 'gt': return a.getTime() > b.getTime();
                case 'between': return !!c && a.getTime() >= Math.min(b.getTime(), c.getTime()) && a.getTime() <= Math.max(b.getTime(), c.getTime());
                default: return false;
            }
        }
        if (type === 'boolean') {
            const a = Boolean(raw);
            const b = f.value === true || f.value === 'true';
            switch (op) {
                case 'eq': return a === b;
                case 'neq': return a !== b;
                default: return false;
            }
        }
        // string/select
        const a = (raw ?? '').toString().toLowerCase();
        const b = (f.value ?? '').toString().toLowerCase();
        switch (op) {
            case 'eq': return a === b;
            case 'neq': return a !== b;
            case 'contains': return a.includes(b);
            case 'startswith': return a.startsWith(b);
            case 'endswith': return a.endsWith(b);
            default: return false;
        }
    }
    toDate(value) {
        if (!value)
            return null;
        if (value instanceof Date)
            return value;
        const d = new Date(value);
        return isNaN(d.getTime()) ? null : d;
    }
    sameDay(a, b) {
        return a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate();
    }
    // New grid methods for enhanced functionality
    onRefresh() {
        // Emit refresh event or reload data
        this.filteredRowData = [...this.rowData];
        console.log('Grid refreshed');
    }
    onExport() {
        // Export grid data to CSV
        const csvContent = this.exportToCSV();
        this.downloadCSV(csvContent, 'grid-data.csv');
    }
    exportToCSV() {
        if (!this.filteredRowData || this.filteredRowData.length === 0) {
            return '';
        }
        // Get column headers
        const headers = this.processedColumnDefs
            .filter(col => col.field && col.field !== 'actions')
            .map(col => col.headerName || col.field);
        // Get data rows
        const rows = this.filteredRowData.map(item => this.processedColumnDefs
            .filter(col => col.field && col.field !== 'actions')
            .map(col => {
            const value = item[col.field];
            return typeof value === 'string' ? `"${value.replace(/"/g, '""')}"` : value;
        }));
        // Combine headers and rows
        const csvArray = [headers, ...rows];
        return csvArray.map(row => row.join(',')).join('\n');
    }
    downloadCSV(content, filename) {
        const blob = new Blob([content], { type: 'text/csv;charset=utf-8;' });
        const link = document.createElement('a');
        if (link.download !== undefined) {
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', filename);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    }
    // View mode switching
    switchToListView() {
        this.viewMode = 'list';
    }
    switchToCardView() {
        this.viewMode = 'card';
    }
    toggleViewMode() {
        this.viewMode = this.viewMode === 'list' ? 'card' : 'list';
    }
    onRowClicked(event) {
        if (!event || !event.data)
            return;
        // If rowSelection is enabled, programmatically select the row
        if (this.gridOptions.rowSelection && this.gridApi && event.node) {
            if (this.gridOptions.rowSelection === 'single') {
                // Deselect all rows first for single selection
                this.gridApi.deselectAll();
            }
            // Toggle selection on the clicked row
            event.node.setSelected(true);
        }
        this.rowClicked.emit(event.data);
    }
    ngOnDestroy() {
        if (this.dataFetchSub) {
            this.dataFetchSub.unsubscribe();
        }
    }
    shouldFetchFromApi() {
        return (!this.rowData || this.rowData.length === 0) && !!this.apiConfig?.dataConfig;
    }
    fetchGridDataFromApi() {
        if (!this.apiConfig?.dataConfig) {
            return;
        }
        const limits = this.getPaginationLimits();
        const dataRequest$ = this.sendApiRequest(this.apiConfig.dataConfig, limits)
            .pipe(catchError(() => of({})));
        const countRequest$ = this.apiConfig.countConfig
            ? this.sendApiRequest(this.apiConfig.countConfig, limits).pipe(catchError(() => of({})))
            : of(null);
        if (this.dataFetchSub) {
            this.dataFetchSub.unsubscribe();
        }
        this.dataFetchSub = forkJoin({ data: dataRequest$, count: countRequest$ }).subscribe((response) => {
            const rows = this.extractDataArray(response.data);
            const count = this.extractCount(response.count);
            this.applyFetchedData(rows, count);
        });
    }
    sendApiRequest(config, limits) {
        const url = this.appendQueryParams(this.buildUrl(config.url), config, limits);
        const method = (config.requestType || 'GET').toUpperCase();
        if (method === 'POST') {
            const payload = this.buildPayload(config, limits);
            return this.http.post(url, payload);
        }
        const params = this.buildHttpParams(config, limits);
        return this.http.get(url, { params });
    }
    buildPayload(config, limits) {
        const payload = {
            ...(config.params || {})
        };
        if (limits) {
            const lowerKey = config.lLimitKey || 'llimit';
            const upperKey = config.uLimitKey || 'ulimit';
            payload[lowerKey] = limits.lower;
            payload[upperKey] = limits.upper;
        }
        return config.suppressNullValues ? this.stripNullish(payload) : payload;
    }
    buildHttpParams(config, limits) {
        const params = {
            ...(config.params || {})
        };
        if (limits) {
            const lowerKey = config.lLimitKey || 'llimit';
            const upperKey = config.uLimitKey || 'ulimit';
            params[lowerKey] = limits.lower;
            params[upperKey] = limits.upper;
        }
        const cleaned = config.suppressNullValues ? this.stripNullish(params) : params;
        let httpParams = new HttpParams();
        Object.entries(cleaned).forEach(([key, value]) => {
            if (value !== undefined && value !== null) {
                httpParams = httpParams.append(key, String(value));
            }
        });
        return httpParams;
    }
    stripNullish(obj) {
        return Object.entries(obj).reduce((acc, [key, value]) => {
            if (value !== null && value !== undefined) {
                acc[key] = value;
            }
            return acc;
        }, {});
    }
    appendQueryParams(url, config, limits) {
        if (!config.queryParamsUrl) {
            return url;
        }
        const lower = limits?.lower ?? '';
        const upper = limits?.upper ?? '';
        const query = config.queryParamsUrl
            .replace(/\$llimit/gi, String(lower))
            .replace(/\$ulimit/gi, String(upper));
        if (!query) {
            return url;
        }
        const separator = url.includes('?') ? '&' : '?';
        return `${url}${separator}${query}`;
    }
    buildUrl(path) {
        const base = this.apiConfigService.getApiUrl();
        if (!base) {
            return path;
        }
        return `${base.replace(/\/$/, '')}/${path.replace(/^\//, '')}`;
    }
    extractDataArray(response) {
        if (!response)
            return [];
        const casted = response;
        return casted.data || casted.result || casted.records || casted.items || [];
    }
    extractCount(response) {
        if (!response)
            return undefined;
        const casted = response;
        return casted.count ?? casted.totalCount ?? casted.total;
    }
    applyFetchedData(rows, totalCount) {
        this.rowData = Array.isArray(rows) ? rows : [];
        this.filteredRowData = this.applySearchTo([...this.rowData]);
        this.totalRows = totalCount ?? this.rowData.length;
        this.displayedRows = this.filteredRowData.length;
        this.processColumnDefs();
        this.updatePaginationInfo();
    }
    getPaginationLimits() {
        const pageSize = this.gridOptions.paginationPageSize || 25;
        const lower = 0;
        const upper = lower + pageSize;
        return { lower, upper };
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: GridComponent, deps: [{ token: DialogboxService }, { token: PLATFORM_ID }, { token: ApiConfigService }, { token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: GridComponent, isStandalone: true, selector: "app-grid", inputs: { rowData: "rowData", columnDefs: "columnDefs", gridOptions: "gridOptions", domLayout: "domLayout", animateRows: "animateRows", class: "class", height: "height", width: "width", showHeader: "showHeader", searchPlaceholder: "searchPlaceholder", rightTooltemplateRef: "rightTooltemplateRef", cardTemplate: "cardTemplate", defaultViewMode: "defaultViewMode", showAddButton: "showAddButton", apiConfig: "apiConfig" }, outputs: { searchChange: "searchChange", rowClicked: "rowClicked", addClick: "addClick" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"grid-container\">\n  <!-- Clean Grid Toolbar -->\n  <div class=\"grid-toolbar\" *ngIf=\"showHeader\">\n    <div class=\"toolbar-left\">\n      <span class=\"pagination-info\">Displaying {{ displayedRows }} of {{ totalRows }}</span>\n      \n      <!-- Filter Chips -->\n      <div class=\"filter-chips\" *ngIf=\"activeFilterChips.length > 0\">\n        <div class=\"filter-chip\" *ngFor=\"let chip of activeFilterChips\">\n          <span class=\"chip-label\">{{ chip.label }}:</span>\n          <span class=\"chip-value\">{{ chip.value }}</span>\n          <button type=\"button\" class=\"chip-remove\" (click)=\"removeFilterChip(chip.field)\" title=\"Remove filter\" aria-label=\"Remove filter\">\u00D7</button>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"toolbar-center\">\n      <div class=\"search-section\">\n        <app-input\n          [placeholder]=\"searchPlaceholder\"\n          [value]=\"searchText\"\n          [prefixIconName]=\"'search'\"\n          (valueChange)=\"onSearchChange($event)\"\n          [search]=\"true\"\n          class=\"search-input\">\n        </app-input>\n      </div>\n    </div>\n    \n    <div class=\"toolbar-right\">\n      <div class=\"action-icons\">\n        <ng-container *ngTemplateOutlet=\"rightTooltemplateRef\"></ng-container>\n\n        <!-- Only keep Filter icon for now -->\n        <button\n          class=\"icon-btn filter-btn\"\n          (click)=\"onFilterClick()\"\n          title=\"Filter\"\n          [class.active]=\"activeFiltersCount > 0\">\n          <mat-icon>tune</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Grid Content -->\n  <div class=\"grid-content\">\n    <div class=\"grid-wrapper\">\n      <!-- List View (AG-Grid) -->\n      <ag-grid-angular\n        *ngIf=\"isBrowser && viewMode === 'list'\"\n        [rowData]=\"filteredRowData\"\n        class=\"clean-grid ag-theme-clean\"\n        [columnDefs]=\"processedColumnDefs\"\n        [gridOptions]=\"gridOptions\"\n        [domLayout]=\"domLayout\"\n        [animateRows]=\"animateRows\"\n        [class]=\"class\"\n        [class.has-row-selection]=\"gridOptions.rowSelection\"\n        [style.width]=\"width\"\n        [style.height]=\"'100%'\"\n        (gridReady)=\"onGridReady($event)\"\n        (modelUpdated)=\"onModelUpdated($event)\"\n        (rowClicked)=\"onRowClicked($event)\">\n      </ag-grid-angular>\n\n      <!-- Card View (Custom Template) -->\n      <div class=\"card-grid\" *ngIf=\"isBrowser && viewMode === 'card' && cardTemplate\">\n        <ng-container *ngFor=\"let item of filteredRowData\">\n          <ng-container *ngTemplateOutlet=\"cardTemplate; context: { $implicit: item }\"></ng-container>\n        </ng-container>\n      </div>\n      \n      <!-- Loading State -->\n      <div class=\"grid-loading\" *ngIf=\"!isBrowser\">\n        <div class=\"loading-spinner\"></div>\n        <span>Loading grid...</span>\n      </div>\n    </div>\n  </div>\n</div>\n", styles: [".grid-container{display:flex;flex-direction:column;height:100%;width:100%;background:var(--page-background-color);border-radius:var(--input-radius);overflow:hidden;box-shadow:var(--primary-shadow)}.grid-container ::ng-deep .mat-mdc-form-field-subscript-wrapper{display:none!important}.grid-toolbar{min-height:4em;display:flex;align-items:center;justify-content:space-between;padding:.75em 1.25em;background:var(--surface-color);border-bottom:1px solid var(--primary-border);border-radius:var(--input-radius) var(--input-radius) 0 0;box-shadow:inset 0 -1px #18b6b21a;gap:1.25em;flex-wrap:wrap}.toolbar-left{display:flex;align-items:center;gap:1em;min-width:0}.toolbar-left .pagination-info{display:inline-flex;align-items:center;padding:6px 12px;background:#18b6b214;border-radius:999px;color:var(--primary-color);font-weight:var(--secondary-font-weight);font-size:calc(var(--tertiary-font-size) - 1px);letter-spacing:.015em}.toolbar-left .filter-chips{display:flex;align-items:center;flex-wrap:wrap;gap:8px;max-width:clamp(200px,30vw,450px);padding-left:4px}.toolbar-left .filter-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;background:#18b6b21f;border:1px solid rgba(24,182,178,.35);border-radius:999px;color:var(--primary-font-color);font-size:calc(var(--tertiary-font-size) - 1px);transition:all .2s ease}.toolbar-left .filter-chip .chip-label{font-weight:600;color:var(--primary-color)}.toolbar-left .filter-chip .chip-value{font-weight:var(--secondary-font-weight);max-width:130px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.toolbar-left .filter-chip:hover{background:#18b6b22e;border-color:#18b6b28c;box-shadow:0 8px 16px -12px #18b6b2d9;transform:translateY(-1px)}.toolbar-left .filter-chip .chip-remove{width:18px;height:18px;border-radius:50%;background:#ffffffd9;border:none;color:var(--primary-color);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:12px;line-height:1;padding:0;transition:all .2s ease}.toolbar-left .filter-chip .chip-remove:hover{background:var(--primary-color);color:var(--surface-color);box-shadow:0 4px 10px -6px var(--primary-color)}.toolbar-center{flex:1;display:flex;justify-content:flex-start;max-width:400px}.toolbar-center .search-section{width:100%;max-width:320px}.toolbar-center .search-section .search-input{width:100%}.toolbar-center .search-section .search-input ::ng-deep .app-input-container{box-shadow:var(--primary-shadow);border:1px solid var(--primary-border);transition:all .3s ease}.toolbar-center .search-section .search-input ::ng-deep .app-input-container:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 3px #18b6b21a}.toolbar-right{flex:0 0 auto}.toolbar-right .action-icons{display:flex;align-items:center;gap:12px;background:#18b6b20f;border-radius:999px;padding:6px 10px}.icon-btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;width:40px;height:40px;border:1px solid var(--primary-border);border-radius:50%;background:var(--surface-color);color:var(--primary-font-color);font-size:var(--tertiary-font-size);font-weight:var(--secondary-font-weight);cursor:pointer;transition:all .3s ease;position:relative;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.icon-btn:hover{background:var(--secondary-background-color);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:var(--primary-shadow)}.icon-btn:active{transform:translateY(0);box-shadow:0 2px 4px #0000001a}.icon-btn:focus-visible{outline:2px solid rgba(24,182,178,.4);outline-offset:2px}.icon-btn.add-btn{background:linear-gradient(135deg,var(--primary-color),var(--tertiary-color));color:var(--surface-color);border-color:transparent;box-shadow:0 10px 18px -15px #18b6b2d9}.icon-btn.add-btn:hover{border-color:transparent;box-shadow:0 16px 28px -18px #18b6b2f2}.icon-btn.settings-btn{background:#18b6b214;border-color:#18b6b240}.icon-btn.settings-btn:hover{background:#18b6b229;border-color:var(--primary-color);color:var(--primary-color)}.icon-btn.refresh-btn:hover,.icon-btn.export-btn:hover{background:var(--secondary-background-color);border-color:var(--tertiary-color);color:var(--primary-font-color)}.icon-btn.filter-btn.active,.icon-btn.filter-btn:hover{background:var(--diet-quinary-color);border-color:var(--primary-color);color:var(--primary-color)}.icon-btn.filter-btn .filter-badge{position:absolute;top:-8px;right:-8px;background:var(--diet-secondary-color);color:var(--surface-color);border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;border:2px solid var(--surface-color)}.grid-content{height:calc(100% - 4em);flex:1;display:flex;flex-direction:column;overflow:hidden;background:linear-gradient(160deg,#18b6b20d,#1c324605)}.grid-wrapper{flex:1;position:relative;overflow:hidden;height:100%;background:var(--surface-color);border-radius:calc(var(--input-radius) + 2px);box-shadow:0 24px 48px -32px #0f172a8c;border:1px solid rgba(24,182,178,.08)}.grid-wrapper:after{content:\"\";position:absolute;inset:0;pointer-events:none;background:linear-gradient(180deg,#18b6b212,#18b6b200 40%);opacity:.6}@media (max-width: 960px){.grid-toolbar{padding:.75em;gap:.75em}.toolbar-left{flex:1 1 100%;justify-content:space-between}.toolbar-center{order:3;flex-basis:100%;margin-top:.75em}.toolbar-right{margin-left:auto}}@media (max-width: 640px){.toolbar-left{flex-direction:column;align-items:flex-start;gap:.5em}.toolbar-left .pagination-info{width:100%;justify-content:center}.toolbar-left .filter-chips{max-width:100%}.icon-btn{width:36px;height:36px}}::ng-deep .status-chip{display:inline-flex;align-items:center;justify-content:center;padding:6px 12px;border-radius:var(--button-radius);border:1px solid;font-size:var(--tertiary-font-size);font-weight:var(--secondary-font-weight);line-height:1.4;white-space:nowrap;min-width:80px;text-transform:capitalize}::ng-deep .status-success{background:var(--status-success-bg);color:var(--status-success-color);border-color:var(--status-success-border)}::ng-deep .status-warning{background:var(--status-warning-bg);color:var(--status-warning-color);border-color:var(--status-warning-border)}::ng-deep .status-danger{background:var(--status-danger-bg);color:var(--status-danger-color);border-color:var(--status-danger-border)}::ng-deep .status-info{background:var(--status-info-bg);color:var(--status-info-color);border-color:var(--status-info-border)}::ng-deep .status-neutral{background:var(--status-neutral-bg);color:var(--status-neutral-color);border-color:var(--status-neutral-border)}::ng-deep .status-available{background:var(--status-available-bg);color:var(--status-available-color);border-color:var(--status-available-border)}::ng-deep .status-unavailable{background:var(--status-unavailable-bg);color:var(--status-unavailable-color);border-color:var(--status-unavailable-border)}::ng-deep .status-busy{background:var(--status-busy-bg);color:var(--status-busy-color);border-color:var(--status-busy-border)}::ng-deep .status-offline{background:var(--status-offline-bg);color:var(--status-offline-color);border-color:var(--status-offline-border)}::ng-deep .actions-header-cell{padding:0!important}::ng-deep .actions-cell{padding:0!important;display:flex;align-items:center;justify-content:center;position:relative}::ng-deep .ag-row.ag-row-hover .actions-cell:after,::ng-deep .ag-row.ag-row-selected .actions-cell:after{content:\"\";position:absolute;right:0;top:0;bottom:0;width:4px;background:var(--primary-color)}.grid-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px;color:var(--secondary-font-color);gap:16px}.grid-loading .loading-spinner{width:32px;height:32px;border:3px solid var(--primary-border);border-top:3px solid var(--primary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.grid-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;padding:40px;text-align:center;color:var(--secondary-font-color)}.grid-empty .empty-icon{margin-bottom:16px;opacity:.6}.grid-empty h4{margin:0 0 8px;font-size:var(--primary-font-size);font-weight:var(--primary-font-weight);color:var(--primary-font-color)}.grid-empty p{margin:0 0 24px;font-size:var(--tertiary-font-size);color:var(--secondary-font-color);max-width:300px;line-height:1.5}.grid-empty .empty-action-btn{display:flex;align-items:center;gap:8px;padding:12px 20px;border:1px solid var(--primary-color);border-radius:var(--button-radius);background:var(--primary-color);color:var(--surface-color);font-size:var(--tertiary-font-size);font-weight:var(--secondary-font-weight);cursor:pointer;transition:all .3s ease}.grid-empty .empty-action-btn:hover{background:var(--primary-color);transform:translateY(-1px);box-shadow:var(--primary-shadow)}::ng-deep .ag-row-focus{background:var(--secondary-background-color)!important;border-left:3px solid var(--primary-color)!important}::ng-deep .clean-grid.ag-theme-clean{--ag-background-color: var(--surface-color);--ag-foreground-color: var(--primary-font-color);--ag-border-color: var(--primary-border);--ag-header-background-color: var(--page-background-color);--ag-header-foreground-color: var(--primary-font-color);--ag-odd-row-background-color: var(--surface-color);--ag-row-hover-color: var(--secondary-background-color);--ag-selected-row-background-color: rgba(24, 182, 178, .1);--ag-range-selection-background-color: rgba(24, 182, 178, .2);--ag-header-height: 56px;--ag-row-height: 52px;--ag-grid-size: 4px;--ag-icon-size: 16px;--ag-font-size: var(--tertiary-font-size);--ag-font-family: inherit;border:none!important;border-radius:0 0 var(--input-radius) var(--input-radius);box-shadow:none!important}::ng-deep .clean-grid .ag-header{background:linear-gradient(180deg,var(--page-background-color) 0%,var(--secondary-background-color) 100%);border-bottom:2px solid var(--primary-border);font-weight:var(--primary-font-weight)}::ng-deep .clean-grid .ag-header .ag-header-cell{border-right:1px solid var(--primary-border);padding:0 16px}::ng-deep .clean-grid .ag-header .ag-header-cell .ag-header-cell-label{font-weight:var(--primary-font-weight);color:var(--primary-font-color);font-size:var(--tertiary-font-size)}::ng-deep .clean-grid .ag-header .ag-header-cell:hover{background:#18b6b20d}::ng-deep .clean-grid .ag-header .ag-header-cell-resize{background:var(--primary-color);width:2px;opacity:.6}::ng-deep .clean-grid .ag-row{border-bottom:1px solid var(--primary-border);transition:all .2s ease}::ng-deep .clean-grid .ag-row:hover{background:var(--page-background-color)!important;box-shadow:inset 4px 0 0 var(--primary-color)}::ng-deep .clean-grid .ag-row.ag-row-selected{background:#18b6b214!important;border-color:var(--primary-color)}::ng-deep .clean-grid .ag-row:last-child{border-bottom:none}::ng-deep .clean-grid.has-row-selection .ag-row{cursor:pointer}::ng-deep .clean-grid.has-row-selection .ag-row.ag-row-selected{background:#18b6b226!important;border-left:4px solid var(--primary-color)!important;box-shadow:inset 0 0 0 1px #18b6b233,0 2px 8px #18b6b21a!important}::ng-deep .clean-grid.has-row-selection .ag-row.ag-row-selected .ag-cell{background-color:transparent!important;font-weight:var(--secondary-font-weight)}::ng-deep .clean-grid.has-row-selection .ag-row.ag-row-selected:hover{background:#18b6b22e!important;box-shadow:inset 0 0 0 1px #18b6b24d,0 4px 12px #18b6b226!important}::ng-deep .clean-grid.has-row-selection .ag-row.ag-row-focus.ag-row-selected{background:#18b6b226!important;border-left:4px solid var(--primary-color)!important}::ng-deep .clean-grid .ag-cell{display:flex!important;align-items:center!important;padding:0 16px;border-right:1px solid transparent;color:var(--primary-font-color);font-size:var(--tertiary-font-size);line-height:1.4}::ng-deep .clean-grid .ag-cell:focus{border:2px solid var(--primary-color)!important;outline:none;border-radius:4px}::ng-deep .clean-grid .ag-cell .ag-cell-value{display:flex!important;align-items:center!important;width:100%}::ng-deep .clean-grid .ag-center-cols-viewport{background:var(--surface-color)}::ng-deep .clean-grid .ag-root-wrapper,::ng-deep .clean-grid .ag-root-wrapper.ag-layout-auto-height.ag-ltr,::ng-deep .clean-grid .ag-root-wrapper-body{height:100%;border:none!important;box-shadow:none!important}::ng-deep .clean-grid .ag-body-viewport{overflow-y:scroll}::ng-deep .clean-grid .ag-body-viewport::-webkit-scrollbar{width:8px;height:8px}::ng-deep .clean-grid .ag-body-viewport::-webkit-scrollbar-track{background:var(--secondary-background-color);border-radius:4px}::ng-deep .clean-grid .ag-body-viewport::-webkit-scrollbar-thumb{background:var(--tertiary-color);border-radius:4px;transition:background .3s ease}::ng-deep .clean-grid .ag-body-viewport::-webkit-scrollbar-thumb:hover{background:var(--primary-color)}::ng-deep .clean-grid .ag-overlay-loading-wrapper{background:#ffffffe6;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}::ng-deep .clean-grid .ag-overlay-no-rows-wrapper{background:transparent}::ng-deep .clean-grid .ag-header-icon{color:var(--primary-color)}::ng-deep .clean-grid .ag-header-cell-filtered{background:#18b6b21a}::ng-deep .clean-grid .ag-header-cell-filtered .ag-header-cell-label{color:var(--primary-color);font-weight:600}::ng-deep .clean-grid .ag-selection-checkbox .ag-input-wrapper{background:var(--surface-color);border:2px solid var(--primary-border);border-radius:4px}::ng-deep .clean-grid .ag-selection-checkbox .ag-input-wrapper:after{color:var(--primary-color)}::ng-deep .clean-grid .ag-selection-checkbox input:checked+.ag-input-wrapper{background:var(--primary-color);border-color:var(--primary-color)}::ng-deep .clean-grid .ag-pinned-left-cols-container,::ng-deep .clean-grid .ag-pinned-right-cols-container,::ng-deep .clean-grid .ag-pinned-left-header,::ng-deep .clean-grid .ag-pinned-right-header{box-shadow:none!important}::ng-deep .clean-grid .ag-pinned-left-cols-container,::ng-deep .clean-grid .ag-pinned-left-header{border-right:none!important}::ng-deep .clean-grid .ag-pinned-right-cols-container,::ng-deep .clean-grid .ag-pinned-right-header{border-left:none!important}::ng-deep .clean-grid .clean-grid.ag-theme-clean .ag-cell.ag-cell-first-right-pinned{border-left:none!important}::ng-deep .mat-mdc-form-field-subscript-wrapper{display:none!important}::ng-deep .mat-mdc-tab-body-content{overflow:hidden!important}@media print{:host{background:none!important}.grid-toolbar,.grid-content,.grid-wrapper{background:#fff!important;box-shadow:none!important}.grid-wrapper:after{display:none!important}}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1$2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1$2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "ngmodule", type: AgGridModule }, { kind: "component", type: i5$1.AgGridAngular, selector: "ag-grid-angular", inputs: ["gridOptions", "modules", "statusBar", "sideBar", "suppressContextMenu", "preventDefaultOnContextMenu", "allowContextMenuWithControlKey", "columnMenu", "suppressMenuHide", "enableBrowserTooltips", "tooltipTrigger", "tooltipShowDelay", "tooltipHideDelay", "tooltipMouseTrack", "tooltipShowMode", "tooltipInteraction", "popupParent", "copyHeadersToClipboard", "copyGroupHeadersToClipboard", "clipboardDelimiter", "suppressCopyRowsToClipboard", "suppressCopySingleCellRanges", "suppressLastEmptyLineOnPaste", "suppressClipboardPaste", "suppressClipboardApi", "suppressCutToClipboard", "columnDefs", "defaultColDef", "defaultColGroupDef", "columnTypes", "dataTypeDefinitions", "maintainColumnOrder", "enableStrictPivotColumnOrder", "suppressFieldDotNotation", "headerHeight", "groupHeaderHeight", "floatingFiltersHeight", "pivotHeaderHeight", "pivotGroupHeaderHeight", "hidePaddedHeaderRows", "allowDragFromColumnsToolPanel", "suppressMovableColumns", "suppressColumnMoveAnimation", "suppressMoveWhenColumnDragging", "suppressDragLeaveHidesColumns", "suppressGroupChangesColumnVisibility", "suppressMakeColumnVisibleAfterUnGroup", "suppressRowGroupHidesColumns", "colResizeDefault", "suppressAutoSize", "autoSizePadding", "skipHeaderOnAutoSize", "autoSizeStrategy", "components", "editType", "suppressStartEditOnTab", "getFullRowEditValidationErrors", "invalidEditValueMode", "singleClickEdit", "suppressClickEdit", "readOnlyEdit", "stopEditingWhenCellsLoseFocus", "enterNavigatesVertically", "enterNavigatesVerticallyAfterEdit", "enableCellEditingOnBackspace", "undoRedoCellEditing", "undoRedoCellEditingLimit", "defaultCsvExportParams", "suppressCsvExport", "defaultExcelExportParams", "suppressExcelExport", "excelStyles", "findSearchValue", "findOptions", "quickFilterText", "cacheQuickFilter", "includeHiddenColumnsInQuickFilter", "quickFilterParser", "quickFilterMatcher", "applyQuickFilterBeforePivotOrAgg", "excludeChildrenWhenTreeDataFiltering", "enableAdvancedFilter", "alwaysPassFilter", "includeHiddenColumnsInAdvancedFilter", "advancedFilterParent", "advancedFilterBuilderParams", "advancedFilterParams", "suppressAdvancedFilterEval", "suppressSetFilterByDefault", "enableFilterHandlers", "filterHandlers", "enableCharts", "chartThemes", "customChartThemes", "chartThemeOverrides", "chartToolPanelsDef", "chartMenuItems", "loadingCellRenderer", "loadingCellRendererParams", "loadingCellRendererSelector", "localeText", "masterDetail", "keepDetailRows", "keepDetailRowsCount", "detailCellRenderer", "detailCellRendererParams", "detailRowHeight", "detailRowAutoHeight", "context", "alignedGrids", "tabIndex", "rowBuffer", "valueCache", "valueCacheNeverExpires", "enableCellExpressions", "suppressTouch", "suppressFocusAfterRefresh", "suppressBrowserResizeObserver", "suppressPropertyNamesCheck", "suppressChangeDetection", "debug", "loading", "overlayLoadingTemplate", "loadingOverlayComponent", "loadingOverlayComponentParams", "suppressLoadingOverlay", "overlayNoRowsTemplate", "noRowsOverlayComponent", "noRowsOverlayComponentParams", "suppressNoRowsOverlay", "pagination", "paginationPageSize", "paginationPageSizeSelector", "paginationAutoPageSize", "paginateChildRows", "suppressPaginationPanel", "pivotMode", "pivotPanelShow", "pivotMaxGeneratedColumns", "pivotDefaultExpanded", "pivotColumnGroupTotals", "pivotRowTotals", "pivotSuppressAutoColumn", "suppressExpandablePivotGroups", "functionsReadOnly", "aggFuncs", "suppressAggFuncInHeader", "alwaysAggregateAtRootLevel", "aggregateOnlyChangedColumns", "suppressAggFilteredOnly", "removePivotHeaderRowWhenSingleValueColumn", "animateRows", "cellFlashDuration", "cellFadeDuration", "allowShowChangeAfterFilter", "domLayout", "ensureDomOrder", "enableCellSpan", "enableRtl", "suppressColumnVirtualisation", "suppressMaxRenderedRowRestriction", "suppressRowVirtualisation", "rowDragManaged", "rowDragInsertDelay", "suppressRowDrag", "suppressMoveWhenRowDragging", "rowDragEntireRow", "rowDragMultiRow", "rowDragText", "dragAndDropImageComponent", "dragAndDropImageComponentParams", "fullWidthCellRenderer", "fullWidthCellRendererParams", "embedFullWidthRows", "groupDisplayType", "groupDefaultExpanded", "autoGroupColumnDef", "groupMaintainOrder", "groupSelectsChildren", "groupLockGroupColumns", "groupAggFiltering", "groupTotalRow", "grandTotalRow", "suppressStickyTotalRow", "groupSuppressBlankHeader", "groupSelectsFiltered", "showOpenedGroup", "groupHideParentOfSingleChild", "groupRemoveSingleChildren", "groupRemoveLowestSingleChildren", "groupHideOpenParents", "groupAllowUnbalanced", "rowGroupPanelShow", "groupRowRenderer", "groupRowRendererParams", "treeData", "treeDataChildrenField", "treeDataParentIdField", "rowGroupPanelSuppressSort", "suppressGroupRowsSticky", "groupHierarchyConfig", "pinnedTopRowData", "pinnedBottomRowData", "enableRowPinning", "isRowPinnable", "isRowPinned", "rowModelType", "rowData", "asyncTransactionWaitMillis", "suppressModelUpdateAfterUpdateTransaction", "datasource", "cacheOverflowSize", "infiniteInitialRowCount", "serverSideInitialRowCount", "suppressServerSideFullWidthLoadingRow", "cacheBlockSize", "maxBlocksInCache", "maxConcurrentDatasourceRequests", "blockLoadDebounceMillis", "purgeClosedRowNodes", "serverSideDatasource", "serverSideSortAllLevels", "serverSideEnableClientSideSort", "serverSideOnlyRefreshFilteredGroups", "serverSidePivotResultFieldSeparator", "viewportDatasource", "viewportRowModelPageSize", "viewportRowModelBufferSize", "alwaysShowHorizontalScroll", "alwaysShowVerticalScroll", "debounceVerticalScrollbar", "suppressHorizontalScroll", "suppressScrollOnNewData", "suppressScrollWhenPopupsAreOpen", "suppressAnimationFrame", "suppressMiddleClickScrolls", "suppressPreventDefaultOnMouseWheel", "scrollbarWidth", "rowSelection", "cellSelection", "rowMultiSelectWithClick", "suppressRowDeselection", "suppressRowClickSelection", "suppressCellFocus", "suppressHeaderFocus", "selectionColumnDef", "rowNumbers", "suppressMultiRangeSelection", "enableCellTextSelection", "enableRangeSelection", "enableRangeHandle", "enableFillHandle", "fillHandleDirection", "suppressClearOnFillReduction", "sortingOrder", "accentedSort", "unSortIcon", "suppressMultiSort", "alwaysMultiSort", "multiSortKey", "suppressMaintainUnsortedOrder", "icons", "rowHeight", "rowStyle", "rowClass", "rowClassRules", "suppressRowHoverHighlight", "suppressRowTransform", "columnHoverHighlight", "gridId", "deltaSort", "treeDataDisplayType", "enableGroupEdit", "initialState", "theme", "loadThemeGoogleFonts", "themeCssLayer", "styleNonce", "themeStyleContainer", "getContextMenuItems", "getMainMenuItems", "postProcessPopup", "processUnpinnedColumns", "processCellForClipboard", "processHeaderForClipboard", "processGroupHeaderForClipboard", "processCellFromClipboard", "sendToClipboard", "processDataFromClipboard", "isExternalFilterPresent", "doesExternalFilterPass", "getChartToolbarItems", "createChartContainer", "focusGridInnerElement", "navigateToNextHeader", "tabToNextHeader", "navigateToNextCell", "tabToNextCell", "getLocaleText", "getDocument", "paginationNumberFormatter", "getGroupRowAgg", "isGroupOpenByDefault", "ssrmExpandAllAffectsAllRows", "initialGroupOrderComparator", "processPivotResultColDef", "processPivotResultColGroupDef", "getDataPath", "getChildCount", "getServerSideGroupLevelParams", "isServerSideGroupOpenByDefault", "isApplyServerSideTransaction", "isServerSideGroup", "getServerSideGroupKey", "getBusinessKeyForNode", "getRowId", "resetRowDataOnUpdate", "processRowPostCreate", "isRowSelectable", "isRowMaster", "fillOperation", "postSortRows", "getRowStyle", "getRowClass", "getRowHeight", "isFullWidthRow", "isRowValidDropPosition"], outputs: ["toolPanelVisibleChanged", "toolPanelSizeChanged", "columnMenuVisibleChanged", "contextMenuVisibleChanged", "cutStart", "cutEnd", "pasteStart", "pasteEnd", "columnVisible", "columnPinned", "columnResized", "columnMoved", "columnValueChanged", "columnPivotModeChanged", "columnPivotChanged", "columnGroupOpened", "newColumnsLoaded", "gridColumnsChanged", "displayedColumnsChanged", "virtualColumnsChanged", "columnEverythingChanged", "columnsReset", "columnHeaderMouseOver", "columnHeaderMouseLeave", "columnHeaderClicked", "columnHeaderContextMenu", "componentStateChanged", "cellValueChanged", "cellEditRequest", "rowValueChanged", "cellEditingStarted", "cellEditingStopped", "rowEditingStarted", "rowEditingStopped", "bulkEditingStarted", "bulkEditingStopped", "batchEditingStarted", "batchEditingStopped", "undoStarted", "undoEnded", "redoStarted", "redoEnded", "cellSelectionDeleteStart", "cellSelectionDeleteEnd", "rangeDeleteStart", "rangeDeleteEnd", "fillStart", "fillEnd", "filterOpened", "filterChanged", "filterModified", "filterUiChanged", "floatingFilterUiChanged", "advancedFilterBuilderVisibleChanged", "findChanged", "chartCreated", "chartRangeSelectionChanged", "chartOptionsChanged", "chartDestroyed", "cellKeyDown", "gridReady", "firstDataRendered", "gridSizeChanged", "modelUpdated", "virtualRowRemoved", "viewportChanged", "bodyScroll", "bodyScrollEnd", "dragStarted", "dragStopped", "dragCancelled", "stateUpdated", "paginationChanged", "rowDragEnter", "rowDragMove", "rowDragLeave", "rowDragEnd", "rowDragCancel", "rowResizeStarted", "rowResizeEnded", "columnRowGroupChanged", "rowGroupOpened", "expandOrCollapseAll", "pivotMaxColumnsExceeded", "pinnedRowDataChanged", "pinnedRowsChanged", "rowDataUpdated", "asyncTransactionsFlushed", "storeRefreshed", "headerFocused", "cellClicked", "cellDoubleClicked", "cellFocused", "cellMouseOver", "cellMouseOut", "cellMouseDown", "rowClicked", "rowDoubleClicked", "rowSelected", "selectionChanged", "cellContextMenu", "rangeSelectionChanged", "cellSelectionChanged", "tooltipShow", "tooltipHide", "sortChanged"] }, { kind: "component", type: AppInputComponent, selector: "app-input", inputs: ["type", "placeholder", "value", "disabled", "required", "appearance", "label", "errorMessage", "multiline", "rows", "prefixIconName", "prefixIconSize", "suffixIconName", "suffixIconSize", "search", "searchUrl"], outputs: ["valueChange", "searchResults"] }, { kind: "ngmodule", type: HttpClientModule }, { kind: "ngmodule", type: MatMenuModule }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i5.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "ngmodule", type: MatButtonModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: GridComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-grid', standalone: true, imports: [
                        CommonModule,
                        AgGridModule,
                        AppInputComponent,
                        GridMenuRendererComponent,
                        IconComponent,
                        HttpClientModule,
                        MatMenuModule,
                        MatIconModule,
                        MatButtonModule
                    ], template: "<div class=\"grid-container\">\n  <!-- Clean Grid Toolbar -->\n  <div class=\"grid-toolbar\" *ngIf=\"showHeader\">\n    <div class=\"toolbar-left\">\n      <span class=\"pagination-info\">Displaying {{ displayedRows }} of {{ totalRows }}</span>\n      \n      <!-- Filter Chips -->\n      <div class=\"filter-chips\" *ngIf=\"activeFilterChips.length > 0\">\n        <div class=\"filter-chip\" *ngFor=\"let chip of activeFilterChips\">\n          <span class=\"chip-label\">{{ chip.label }}:</span>\n          <span class=\"chip-value\">{{ chip.value }}</span>\n          <button type=\"button\" class=\"chip-remove\" (click)=\"removeFilterChip(chip.field)\" title=\"Remove filter\" aria-label=\"Remove filter\">\u00D7</button>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"toolbar-center\">\n      <div class=\"search-section\">\n        <app-input\n          [placeholder]=\"searchPlaceholder\"\n          [value]=\"searchText\"\n          [prefixIconName]=\"'search'\"\n          (valueChange)=\"onSearchChange($event)\"\n          [search]=\"true\"\n          class=\"search-input\">\n        </app-input>\n      </div>\n    </div>\n    \n    <div class=\"toolbar-right\">\n      <div class=\"action-icons\">\n        <ng-container *ngTemplateOutlet=\"rightTooltemplateRef\"></ng-container>\n\n        <!-- Only keep Filter icon for now -->\n        <button\n          class=\"icon-btn filter-btn\"\n          (click)=\"onFilterClick()\"\n          title=\"Filter\"\n          [class.active]=\"activeFiltersCount > 0\">\n          <mat-icon>tune</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Grid Content -->\n  <div class=\"grid-content\">\n    <div class=\"grid-wrapper\">\n      <!-- List View (AG-Grid) -->\n      <ag-grid-angular\n        *ngIf=\"isBrowser && viewMode === 'list'\"\n        [rowData]=\"filteredRowData\"\n        class=\"clean-grid ag-theme-clean\"\n        [columnDefs]=\"processedColumnDefs\"\n        [gridOptions]=\"gridOptions\"\n        [domLayout]=\"domLayout\"\n        [animateRows]=\"animateRows\"\n        [class]=\"class\"\n        [class.has-row-selection]=\"gridOptions.rowSelection\"\n        [style.width]=\"width\"\n        [style.height]=\"'100%'\"\n        (gridReady)=\"onGridReady($event)\"\n        (modelUpdated)=\"onModelUpdated($event)\"\n        (rowClicked)=\"onRowClicked($event)\">\n      </ag-grid-angular>\n\n      <!-- Card View (Custom Template) -->\n      <div class=\"card-grid\" *ngIf=\"isBrowser && viewMode === 'card' && cardTemplate\">\n        <ng-container *ngFor=\"let item of filteredRowData\">\n          <ng-container *ngTemplateOutlet=\"cardTemplate; context: { $implicit: item }\"></ng-container>\n        </ng-container>\n      </div>\n      \n      <!-- Loading State -->\n      <div class=\"grid-loading\" *ngIf=\"!isBrowser\">\n        <div class=\"loading-spinner\"></div>\n        <span>Loading grid...</span>\n      </div>\n    </div>\n  </div>\n</div>\n", styles: [".grid-container{display:flex;flex-direction:column;height:100%;width:100%;background:var(--page-background-color);border-radius:var(--input-radius);overflow:hidden;box-shadow:var(--primary-shadow)}.grid-container ::ng-deep .mat-mdc-form-field-subscript-wrapper{display:none!important}.grid-toolbar{min-height:4em;display:flex;align-items:center;justify-content:space-between;padding:.75em 1.25em;background:var(--surface-color);border-bottom:1px solid var(--primary-border);border-radius:var(--input-radius) var(--input-radius) 0 0;box-shadow:inset 0 -1px #18b6b21a;gap:1.25em;flex-wrap:wrap}.toolbar-left{display:flex;align-items:center;gap:1em;min-width:0}.toolbar-left .pagination-info{display:inline-flex;align-items:center;padding:6px 12px;background:#18b6b214;border-radius:999px;color:var(--primary-color);font-weight:var(--secondary-font-weight);font-size:calc(var(--tertiary-font-size) - 1px);letter-spacing:.015em}.toolbar-left .filter-chips{display:flex;align-items:center;flex-wrap:wrap;gap:8px;max-width:clamp(200px,30vw,450px);padding-left:4px}.toolbar-left .filter-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;background:#18b6b21f;border:1px solid rgba(24,182,178,.35);border-radius:999px;color:var(--primary-font-color);font-size:calc(var(--tertiary-font-size) - 1px);transition:all .2s ease}.toolbar-left .filter-chip .chip-label{font-weight:600;color:var(--primary-color)}.toolbar-left .filter-chip .chip-value{font-weight:var(--secondary-font-weight);max-width:130px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.toolbar-left .filter-chip:hover{background:#18b6b22e;border-color:#18b6b28c;box-shadow:0 8px 16px -12px #18b6b2d9;transform:translateY(-1px)}.toolbar-left .filter-chip .chip-remove{width:18px;height:18px;border-radius:50%;background:#ffffffd9;border:none;color:var(--primary-color);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:12px;line-height:1;padding:0;transition:all .2s ease}.toolbar-left .filter-chip .chip-remove:hover{background:var(--primary-color);color:var(--surface-color);box-shadow:0 4px 10px -6px var(--primary-color)}.toolbar-center{flex:1;display:flex;justify-content:flex-start;max-width:400px}.toolbar-center .search-section{width:100%;max-width:320px}.toolbar-center .search-section .search-input{width:100%}.toolbar-center .search-section .search-input ::ng-deep .app-input-container{box-shadow:var(--primary-shadow);border:1px solid var(--primary-border);transition:all .3s ease}.toolbar-center .search-section .search-input ::ng-deep .app-input-container:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 3px #18b6b21a}.toolbar-right{flex:0 0 auto}.toolbar-right .action-icons{display:flex;align-items:center;gap:12px;background:#18b6b20f;border-radius:999px;padding:6px 10px}.icon-btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;width:40px;height:40px;border:1px solid var(--primary-border);border-radius:50%;background:var(--surface-color);color:var(--primary-font-color);font-size:var(--tertiary-font-size);font-weight:var(--secondary-font-weight);cursor:pointer;transition:all .3s ease;position:relative;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.icon-btn:hover{background:var(--secondary-background-color);border-color:var(--primary-color);transform:translateY(-1px);box-shadow:var(--primary-shadow)}.icon-btn:active{transform:translateY(0);box-shadow:0 2px 4px #0000001a}.icon-btn:focus-visible{outline:2px solid rgba(24,182,178,.4);outline-offset:2px}.icon-btn.add-btn{background:linear-gradient(135deg,var(--primary-color),var(--tertiary-color));color:var(--surface-color);border-color:transparent;box-shadow:0 10px 18px -15px #18b6b2d9}.icon-btn.add-btn:hover{border-color:transparent;box-shadow:0 16px 28px -18px #18b6b2f2}.icon-btn.settings-btn{background:#18b6b214;border-color:#18b6b240}.icon-btn.settings-btn:hover{background:#18b6b229;border-color:var(--primary-color);color:var(--primary-color)}.icon-btn.refresh-btn:hover,.icon-btn.export-btn:hover{background:var(--secondary-background-color);border-color:var(--tertiary-color);color:var(--primary-font-color)}.icon-btn.filter-btn.active,.icon-btn.filter-btn:hover{background:var(--diet-quinary-color);border-color:var(--primary-color);color:var(--primary-color)}.icon-btn.filter-btn .filter-badge{position:absolute;top:-8px;right:-8px;background:var(--diet-secondary-color);color:var(--surface-color);border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;border:2px solid var(--surface-color)}.grid-content{height:calc(100% - 4em);flex:1;display:flex;flex-direction:column;overflow:hidden;background:linear-gradient(160deg,#18b6b20d,#1c324605)}.grid-wrapper{flex:1;position:relative;overflow:hidden;height:100%;background:var(--surface-color);border-radius:calc(var(--input-radius) + 2px);box-shadow:0 24px 48px -32px #0f172a8c;border:1px solid rgba(24,182,178,.08)}.grid-wrapper:after{content:\"\";position:absolute;inset:0;pointer-events:none;background:linear-gradient(180deg,#18b6b212,#18b6b200 40%);opacity:.6}@media (max-width: 960px){.grid-toolbar{padding:.75em;gap:.75em}.toolbar-left{flex:1 1 100%;justify-content:space-between}.toolbar-center{order:3;flex-basis:100%;margin-top:.75em}.toolbar-right{margin-left:auto}}@media (max-width: 640px){.toolbar-left{flex-direction:column;align-items:flex-start;gap:.5em}.toolbar-left .pagination-info{width:100%;justify-content:center}.toolbar-left .filter-chips{max-width:100%}.icon-btn{width:36px;height:36px}}::ng-deep .status-chip{display:inline-flex;align-items:center;justify-content:center;padding:6px 12px;border-radius:var(--button-radius);border:1px solid;font-size:var(--tertiary-font-size);font-weight:var(--secondary-font-weight);line-height:1.4;white-space:nowrap;min-width:80px;text-transform:capitalize}::ng-deep .status-success{background:var(--status-success-bg);color:var(--status-success-color);border-color:var(--status-success-border)}::ng-deep .status-warning{background:var(--status-warning-bg);color:var(--status-warning-color);border-color:var(--status-warning-border)}::ng-deep .status-danger{background:var(--status-danger-bg);color:var(--status-danger-color);border-color:var(--status-danger-border)}::ng-deep .status-info{background:var(--status-info-bg);color:var(--status-info-color);border-color:var(--status-info-border)}::ng-deep .status-neutral{background:var(--status-neutral-bg);color:var(--status-neutral-color);border-color:var(--status-neutral-border)}::ng-deep .status-available{background:var(--status-available-bg);color:var(--status-available-color);border-color:var(--status-available-border)}::ng-deep .status-unavailable{background:var(--status-unavailable-bg);color:var(--status-unavailable-color);border-color:var(--status-unavailable-border)}::ng-deep .status-busy{background:var(--status-busy-bg);color:var(--status-busy-color);border-color:var(--status-busy-border)}::ng-deep .status-offline{background:var(--status-offline-bg);color:var(--status-offline-color);border-color:var(--status-offline-border)}::ng-deep .actions-header-cell{padding:0!important}::ng-deep .actions-cell{padding:0!important;display:flex;align-items:center;justify-content:center;position:relative}::ng-deep .ag-row.ag-row-hover .actions-cell:after,::ng-deep .ag-row.ag-row-selected .actions-cell:after{content:\"\";position:absolute;right:0;top:0;bottom:0;width:4px;background:var(--primary-color)}.grid-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px;color:var(--secondary-font-color);gap:16px}.grid-loading .loading-spinner{width:32px;height:32px;border:3px solid var(--primary-border);border-top:3px solid var(--primary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.grid-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;padding:40px;text-align:center;color:var(--secondary-font-color)}.grid-empty .empty-icon{margin-bottom:16px;opacity:.6}.grid-empty h4{margin:0 0 8px;font-size:var(--primary-font-size);font-weight:var(--primary-font-weight);color:var(--primary-font-color)}.grid-empty p{margin:0 0 24px;font-size:var(--tertiary-font-size);color:var(--secondary-font-color);max-width:300px;line-height:1.5}.grid-empty .empty-action-btn{display:flex;align-items:center;gap:8px;padding:12px 20px;border:1px solid var(--primary-color);border-radius:var(--button-radius);background:var(--primary-color);color:var(--surface-color);font-size:var(--tertiary-font-size);font-weight:var(--secondary-font-weight);cursor:pointer;transition:all .3s ease}.grid-empty .empty-action-btn:hover{background:var(--primary-color);transform:translateY(-1px);box-shadow:var(--primary-shadow)}::ng-deep .ag-row-focus{background:var(--secondary-background-color)!important;border-left:3px solid var(--primary-color)!important}::ng-deep .clean-grid.ag-theme-clean{--ag-background-color: var(--surface-color);--ag-foreground-color: var(--primary-font-color);--ag-border-color: var(--primary-border);--ag-header-background-color: var(--page-background-color);--ag-header-foreground-color: var(--primary-font-color);--ag-odd-row-background-color: var(--surface-color);--ag-row-hover-color: var(--secondary-background-color);--ag-selected-row-background-color: rgba(24, 182, 178, .1);--ag-range-selection-background-color: rgba(24, 182, 178, .2);--ag-header-height: 56px;--ag-row-height: 52px;--ag-grid-size: 4px;--ag-icon-size: 16px;--ag-font-size: var(--tertiary-font-size);--ag-font-family: inherit;border:none!important;border-radius:0 0 var(--input-radius) var(--input-radius);box-shadow:none!important}::ng-deep .clean-grid .ag-header{background:linear-gradient(180deg,var(--page-background-color) 0%,var(--secondary-background-color) 100%);border-bottom:2px solid var(--primary-border);font-weight:var(--primary-font-weight)}::ng-deep .clean-grid .ag-header .ag-header-cell{border-right:1px solid var(--primary-border);padding:0 16px}::ng-deep .clean-grid .ag-header .ag-header-cell .ag-header-cell-label{font-weight:var(--primary-font-weight);color:var(--primary-font-color);font-size:var(--tertiary-font-size)}::ng-deep .clean-grid .ag-header .ag-header-cell:hover{background:#18b6b20d}::ng-deep .clean-grid .ag-header .ag-header-cell-resize{background:var(--primary-color);width:2px;opacity:.6}::ng-deep .clean-grid .ag-row{border-bottom:1px solid var(--primary-border);transition:all .2s ease}::ng-deep .clean-grid .ag-row:hover{background:var(--page-background-color)!important;box-shadow:inset 4px 0 0 var(--primary-color)}::ng-deep .clean-grid .ag-row.ag-row-selected{background:#18b6b214!important;border-color:var(--primary-color)}::ng-deep .clean-grid .ag-row:last-child{border-bottom:none}::ng-deep .clean-grid.has-row-selection .ag-row{cursor:pointer}::ng-deep .clean-grid.has-row-selection .ag-row.ag-row-selected{background:#18b6b226!important;border-left:4px solid var(--primary-color)!important;box-shadow:inset 0 0 0 1px #18b6b233,0 2px 8px #18b6b21a!important}::ng-deep .clean-grid.has-row-selection .ag-row.ag-row-selected .ag-cell{background-color:transparent!important;font-weight:var(--secondary-font-weight)}::ng-deep .clean-grid.has-row-selection .ag-row.ag-row-selected:hover{background:#18b6b22e!important;box-shadow:inset 0 0 0 1px #18b6b24d,0 4px 12px #18b6b226!important}::ng-deep .clean-grid.has-row-selection .ag-row.ag-row-focus.ag-row-selected{background:#18b6b226!important;border-left:4px solid var(--primary-color)!important}::ng-deep .clean-grid .ag-cell{display:flex!important;align-items:center!important;padding:0 16px;border-right:1px solid transparent;color:var(--primary-font-color);font-size:var(--tertiary-font-size);line-height:1.4}::ng-deep .clean-grid .ag-cell:focus{border:2px solid var(--primary-color)!important;outline:none;border-radius:4px}::ng-deep .clean-grid .ag-cell .ag-cell-value{display:flex!important;align-items:center!important;width:100%}::ng-deep .clean-grid .ag-center-cols-viewport{background:var(--surface-color)}::ng-deep .clean-grid .ag-root-wrapper,::ng-deep .clean-grid .ag-root-wrapper.ag-layout-auto-height.ag-ltr,::ng-deep .clean-grid .ag-root-wrapper-body{height:100%;border:none!important;box-shadow:none!important}::ng-deep .clean-grid .ag-body-viewport{overflow-y:scroll}::ng-deep .clean-grid .ag-body-viewport::-webkit-scrollbar{width:8px;height:8px}::ng-deep .clean-grid .ag-body-viewport::-webkit-scrollbar-track{background:var(--secondary-background-color);border-radius:4px}::ng-deep .clean-grid .ag-body-viewport::-webkit-scrollbar-thumb{background:var(--tertiary-color);border-radius:4px;transition:background .3s ease}::ng-deep .clean-grid .ag-body-viewport::-webkit-scrollbar-thumb:hover{background:var(--primary-color)}::ng-deep .clean-grid .ag-overlay-loading-wrapper{background:#ffffffe6;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}::ng-deep .clean-grid .ag-overlay-no-rows-wrapper{background:transparent}::ng-deep .clean-grid .ag-header-icon{color:var(--primary-color)}::ng-deep .clean-grid .ag-header-cell-filtered{background:#18b6b21a}::ng-deep .clean-grid .ag-header-cell-filtered .ag-header-cell-label{color:var(--primary-color);font-weight:600}::ng-deep .clean-grid .ag-selection-checkbox .ag-input-wrapper{background:var(--surface-color);border:2px solid var(--primary-border);border-radius:4px}::ng-deep .clean-grid .ag-selection-checkbox .ag-input-wrapper:after{color:var(--primary-color)}::ng-deep .clean-grid .ag-selection-checkbox input:checked+.ag-input-wrapper{background:var(--primary-color);border-color:var(--primary-color)}::ng-deep .clean-grid .ag-pinned-left-cols-container,::ng-deep .clean-grid .ag-pinned-right-cols-container,::ng-deep .clean-grid .ag-pinned-left-header,::ng-deep .clean-grid .ag-pinned-right-header{box-shadow:none!important}::ng-deep .clean-grid .ag-pinned-left-cols-container,::ng-deep .clean-grid .ag-pinned-left-header{border-right:none!important}::ng-deep .clean-grid .ag-pinned-right-cols-container,::ng-deep .clean-grid .ag-pinned-right-header{border-left:none!important}::ng-deep .clean-grid .clean-grid.ag-theme-clean .ag-cell.ag-cell-first-right-pinned{border-left:none!important}::ng-deep .mat-mdc-form-field-subscript-wrapper{display:none!important}::ng-deep .mat-mdc-tab-body-content{overflow:hidden!important}@media print{:host{background:none!important}.grid-toolbar,.grid-content,.grid-wrapper{background:#fff!important;box-shadow:none!important}.grid-wrapper:after{display:none!important}}\n"] }]
        }], ctorParameters: () => [{ type: DialogboxService }, { type: Object, decorators: [{
                    type: Inject,
                    args: [PLATFORM_ID]
                }] }, { type: ApiConfigService }, { type: i1.HttpClient }], propDecorators: { rowData: [{
                type: Input
            }], columnDefs: [{
                type: Input
            }], gridOptions: [{
                type: Input
            }], domLayout: [{
                type: Input
            }], animateRows: [{
                type: Input
            }], class: [{
                type: Input
            }], height: [{
                type: Input
            }], width: [{
                type: Input
            }], showHeader: [{
                type: Input
            }], searchPlaceholder: [{
                type: Input
            }], rightTooltemplateRef: [{
                type: Input
            }], cardTemplate: [{
                type: Input
            }], defaultViewMode: [{
                type: Input
            }], showAddButton: [{
                type: Input
            }], apiConfig: [{
                type: Input
            }], searchChange: [{
                type: Output
            }], rowClicked: [{
                type: Output
            }], addClick: [{
                type: Output
            }] } });

class NotesDialogComponent {
    constructor() {
        this.notes = '';
        this.dialogRef = inject((MatDialogRef));
        this.data = inject(MAT_DIALOG_DATA);
        this.notes = this.data.defaultValue || '';
    }
    onCancel() {
        this.dialogRef.close();
    }
    onSave() {
        if (this.notes.trim()) {
            this.dialogRef.close(this.notes.trim());
        }
    }
    canSave() {
        return this.notes.trim().length > 0;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: NotesDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: NotesDialogComponent, isStandalone: true, selector: "app-notes-dialog", ngImport: i0, template: "<div class=\"notes-dialog\">\n  <div class=\"dialog-header\">\n    <h2 class=\"dialog-title\">{{ data.title }}</h2>\n    <button mat-icon-button class=\"close-button\" (click)=\"onCancel()\">\n      <mat-icon>close</mat-icon>\n    </button>\n  </div>\n  \n  <div class=\"dialog-content\">\n    <p class=\"dialog-message\">{{ data.message }}</p>\n    \n    <mat-form-field class=\"notes-field\" appearance=\"outline\">\n      <mat-label>Notes</mat-label>\n      <textarea \n        matInput \n        [(ngModel)]=\"notes\" \n        [placeholder]=\"data.placeholder || 'Enter your notes here...'\"\n        rows=\"4\"\n        class=\"notes-textarea\">\n      </textarea>\n    </mat-form-field>\n  </div>\n  \n  <div class=\"dialog-actions\">\n    <button mat-button (click)=\"onCancel()\">\n      Cancel\n    </button>\n    <button \n      mat-raised-button \n      color=\"primary\" \n      [disabled]=\"!canSave()\"\n      (click)=\"onSave()\">\n      Save Notes\n    </button>\n  </div>\n</div>\n\n", styles: [".notes-dialog{padding:0;min-width:400px}.notes-dialog .dialog-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e2e8f0}.notes-dialog .dialog-header .dialog-title{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b}.notes-dialog .dialog-header .close-button{color:#64748b}.notes-dialog .dialog-header .close-button:hover{background-color:#f1f5f9}.notes-dialog .dialog-content{padding:1.5rem}.notes-dialog .dialog-content .dialog-message{margin:0 0 1rem;color:#475569;font-size:.875rem;line-height:1.5}.notes-dialog .dialog-content .notes-field{width:100%}.notes-dialog .dialog-content .notes-field .notes-textarea{font-family:inherit;line-height:1.5;resize:vertical;min-height:100px}.notes-dialog .dialog-actions{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e2e8f0}.notes-dialog .dialog-actions button{min-width:80px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i1$3.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1$3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1$3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: MatDialogModule }, { kind: "ngmodule", type: MatButtonModule }, { kind: "component", type: i2$2.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", exportAs: ["matButton"] }, { kind: "component", type: i2$2.MatIconButton, selector: "button[mat-icon-button]", exportAs: ["matButton"] }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "component", type: i2$1.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i2$1.MatLabel, selector: "mat-label" }, { kind: "ngmodule", type: MatInputModule }, { kind: "directive", type: i4.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i5.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: NotesDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-notes-dialog', standalone: true, imports: [
                        CommonModule,
                        FormsModule,
                        MatDialogModule,
                        MatButtonModule,
                        MatFormFieldModule,
                        MatInputModule,
                        MatIconModule
                    ], template: "<div class=\"notes-dialog\">\n  <div class=\"dialog-header\">\n    <h2 class=\"dialog-title\">{{ data.title }}</h2>\n    <button mat-icon-button class=\"close-button\" (click)=\"onCancel()\">\n      <mat-icon>close</mat-icon>\n    </button>\n  </div>\n  \n  <div class=\"dialog-content\">\n    <p class=\"dialog-message\">{{ data.message }}</p>\n    \n    <mat-form-field class=\"notes-field\" appearance=\"outline\">\n      <mat-label>Notes</mat-label>\n      <textarea \n        matInput \n        [(ngModel)]=\"notes\" \n        [placeholder]=\"data.placeholder || 'Enter your notes here...'\"\n        rows=\"4\"\n        class=\"notes-textarea\">\n      </textarea>\n    </mat-form-field>\n  </div>\n  \n  <div class=\"dialog-actions\">\n    <button mat-button (click)=\"onCancel()\">\n      Cancel\n    </button>\n    <button \n      mat-raised-button \n      color=\"primary\" \n      [disabled]=\"!canSave()\"\n      (click)=\"onSave()\">\n      Save Notes\n    </button>\n  </div>\n</div>\n\n", styles: [".notes-dialog{padding:0;min-width:400px}.notes-dialog .dialog-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #e2e8f0}.notes-dialog .dialog-header .dialog-title{margin:0;font-size:1.25rem;font-weight:600;color:#1e293b}.notes-dialog .dialog-header .close-button{color:#64748b}.notes-dialog .dialog-header .close-button:hover{background-color:#f1f5f9}.notes-dialog .dialog-content{padding:1.5rem}.notes-dialog .dialog-content .dialog-message{margin:0 0 1rem;color:#475569;font-size:.875rem;line-height:1.5}.notes-dialog .dialog-content .notes-field{width:100%}.notes-dialog .dialog-content .notes-field .notes-textarea{font-family:inherit;line-height:1.5;resize:vertical;min-height:100px}.notes-dialog .dialog-actions{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e2e8f0}.notes-dialog .dialog-actions button{min-width:80px}\n"] }]
        }], ctorParameters: () => [] });

class ConfirmationDialogComponent {
    constructor() {
        this.data = inject(DIALOG_DATA_TOKEN);
        this.destroy$ = new Subject();
    }
    ngOnInit() {
        // Component just displays the message
        // Footer actions are handled by DialogboxContentComponent
    }
    ngOnDestroy() {
        this.destroy$.next();
        this.destroy$.complete();
    }
    get displayMessage() {
        return this.data?.message || 'Are you sure?';
    }
    get displayTitle() {
        return this.data?.title || 'Confirm';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ConfirmationDialogComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: ConfirmationDialogComponent, isStandalone: true, selector: "app-confirmation-dialog", ngImport: i0, template: "<div class=\"confirmation-dialog\">\n  <div class=\"confirmation-content\">\n    <div class=\"message-container\">\n      <p class=\"confirmation-message\">{{ displayMessage }}</p>\n    </div>\n  </div>\n</div>\n\n", styles: [".confirmation-dialog{padding:0}.confirmation-dialog .confirmation-content{display:flex;flex-direction:column}.confirmation-dialog .confirmation-content .message-container{width:100%}.confirmation-dialog .confirmation-content .message-container .confirmation-message{margin:0;font-size:16px;line-height:1.6;color:#1f2937;word-wrap:break-word;text-align:left}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ConfirmationDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-confirmation-dialog', standalone: true, imports: [
                        CommonModule
                    ], template: "<div class=\"confirmation-dialog\">\n  <div class=\"confirmation-content\">\n    <div class=\"message-container\">\n      <p class=\"confirmation-message\">{{ displayMessage }}</p>\n    </div>\n  </div>\n</div>\n\n", styles: [".confirmation-dialog{padding:0}.confirmation-dialog .confirmation-content{display:flex;flex-direction:column}.confirmation-dialog .confirmation-content .message-container{width:100%}.confirmation-dialog .confirmation-content .message-container .confirmation-message{margin:0;font-size:16px;line-height:1.6;color:#1f2937;word-wrap:break-word;text-align:left}\n"] }]
        }], ctorParameters: () => [] });

class StatusCellRendererComponent {
    constructor() {
        this.statusClass = 'status-chip status-neutral';
        this.displayValue = '';
    }
    agInit(params) {
        // value is required in ICellRendererParams, so it's always present
        const value = params.value ?? '';
        const field = params.statusField || params.colDef?.field;
        const mapping = params.statusMapping || this.getDefaultMapping(field);
        this.displayValue = value ? value.toString() : '';
        const valueStr = value ? value.toString().toLowerCase() : '';
        this.statusClass = `status-chip ${mapping[valueStr] || 'status-neutral'}`;
    }
    getDefaultMapping(field) {
        // Default mappings based on field name or common patterns
        if (field?.toLowerCase().includes('availability') || field?.toLowerCase().includes('available')) {
            return {
                'available': 'status-available',
                'unavailable': 'status-unavailable',
                'busy': 'status-busy',
                'offline': 'status-offline',
                'online': 'status-available',
                'active': 'status-available',
                'inactive': 'status-offline'
            };
        }
        // General status mapping
        return {
            'active': 'status-success',
            'inactive': 'status-neutral',
            'pending': 'status-warning',
            'approved': 'status-success',
            'rejected': 'status-danger',
            'cancelled': 'status-danger',
            'completed': 'status-success',
            'in progress': 'status-info',
            'draft': 'status-neutral',
            'published': 'status-success',
            'archived': 'status-neutral',
            'enabled': 'status-success',
            'disabled': 'status-neutral',
            'online': 'status-success',
            'offline': 'status-neutral',
            'available': 'status-available',
            'unavailable': 'status-unavailable',
            'busy': 'status-busy'
        };
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: StatusCellRendererComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: StatusCellRendererComponent, isStandalone: true, selector: "app-status-cell-renderer", ngImport: i0, template: `
    <span [class]="statusClass">
      {{ displayValue }}
    </span>
  `, isInline: true, dependencies: [{ kind: "ngmodule", type: CommonModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: StatusCellRendererComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-status-cell-renderer', template: `
    <span [class]="statusClass">
      {{ displayValue }}
    </span>
  `, standalone: true, imports: [CommonModule] }]
        }] });

class ChipCellRendererComponent {
    constructor() {
        this.params = {};
        this.status = '';
        this.color = '';
        this.chipColors = CHIP_COLORS;
    }
    agInit(params) {
        this.params = params;
        this.status = params.value;
        this.color = this.chipColors[this.status] ?? 'gray';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ChipCellRendererComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: ChipCellRendererComponent, isStandalone: true, selector: "app-chip-cell-renderer", ngImport: i0, template: "<div [style.background-color]=\"color\" class=\"status-chip\">{{ status }}</div> ", styles: [".status-chip{font-weight:500;font-size:1em;justify-content:center;border-radius:4em;padding:.5em 1em;color:#fff}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ChipCellRendererComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-chip-cell-renderer', standalone: true, imports: [CommonModule], template: "<div [style.background-color]=\"color\" class=\"status-chip\">{{ status }}</div> ", styles: [".status-chip{font-weight:500;font-size:1em;justify-content:center;border-radius:4em;padding:.5em 1em;color:#fff}\n"] }]
        }] });

class CheckboxComponent {
    constructor() {
        this.label = '';
        this.disabled = false;
        this.required = false;
        /** Optional template to render instead of the plain label text */
        this.labelTemplateRef = null;
        this.value = false;
        this.onChange = (_) => { };
        this.onTouched = () => { };
    }
    writeValue(value) {
        this.value = value;
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    onCheckboxChange(event) {
        this.value = event.checked;
        this.onChange(this.value);
        this.onTouched();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CheckboxComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: CheckboxComponent, isStandalone: true, selector: "app-checkbox", inputs: { label: "label", disabled: "disabled", required: "required", labelTemplateRef: "labelTemplateRef" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => CheckboxComponent),
                multi: true
            }
        ], ngImport: i0, template: "<mat-checkbox\n  [checked]=\"value\"\n  [disabled]=\"disabled\"\n  [required]=\"required\"\n  (change)=\"onCheckboxChange($event)\">\n  @if (labelTemplateRef) {\n    <ng-container *ngTemplateOutlet=\"labelTemplateRef; context: { $implicit: label, label: label }\"></ng-container>\n  } @else {\n    {{ label }}\n  }\n</mat-checkbox>", styles: [":host{display:inline-flex;align-items:center}mat-checkbox{font-size:15px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "ngmodule", type: MatCheckboxModule }, { kind: "component", type: i2$4.MatCheckbox, selector: "mat-checkbox", inputs: ["aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "disableRipple", "tabIndex", "color", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CheckboxComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-checkbox', standalone: true, imports: [CommonModule, MatCheckboxModule], providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => CheckboxComponent),
                            multi: true
                        }
                    ], template: "<mat-checkbox\n  [checked]=\"value\"\n  [disabled]=\"disabled\"\n  [required]=\"required\"\n  (change)=\"onCheckboxChange($event)\">\n  @if (labelTemplateRef) {\n    <ng-container *ngTemplateOutlet=\"labelTemplateRef; context: { $implicit: label, label: label }\"></ng-container>\n  } @else {\n    {{ label }}\n  }\n</mat-checkbox>", styles: [":host{display:inline-flex;align-items:center}mat-checkbox{font-size:15px}\n"] }]
        }], propDecorators: { label: [{
                type: Input
            }], disabled: [{
                type: Input
            }], required: [{
                type: Input
            }], labelTemplateRef: [{
                type: Input
            }] } });

class CalendarComponent {
    constructor() {
        this.events = [];
        this.selectedDate = new Date();
        this.view = 'month';
        this.viewDate = new Date();
        this.showNavigation = true;
        this.showToday = true;
        this.allowDateSelection = true;
        this.highlightToday = true;
        this.showEventIndicators = true;
        this.locale = 'en';
        this.dateSelected = new EventEmitter();
        this.eventClicked = new EventEmitter();
        this.monthChanged = new EventEmitter();
        this.viewChanged = new EventEmitter();
        this.calendarEvents = [];
        this.calendar = [];
        this.weekDays = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
        this.currentMonth = new Date().getMonth();
        this.currentYear = new Date().getFullYear();
    }
    ngOnInit() {
        this.convertEvents();
        this.generateCalendar();
    }
    ngOnChanges() {
        this.convertEvents();
        this.generateCalendar();
    }
    generateCalendar() {
        this.calendar = [];
        const firstDay = new Date(this.currentYear, this.currentMonth, 1);
        const lastDay = new Date(this.currentYear, this.currentMonth + 1, 0);
        const startDate = new Date(firstDay);
        // Adjust to start from Sunday
        const dayOfWeek = firstDay.getDay();
        startDate.setDate(startDate.getDate() - dayOfWeek);
        const weeks = Math.ceil((lastDay.getDate() + dayOfWeek) / 7);
        for (let week = 0; week < weeks; week++) {
            const weekDates = [];
            for (let day = 0; day < 7; day++) {
                const date = new Date(startDate);
                date.setDate(startDate.getDate() + (week * 7) + day);
                weekDates.push(date);
            }
            this.calendar.push(weekDates);
        }
    }
    convertEvents() {
        this.calendarEvents = this.events.map(event => ({
            id: event.id,
            title: event.title,
            start: new Date(event.start),
            end: event.end ? new Date(event.end) : new Date(event.start),
            description: event.description,
            color: event.color || this.getDefaultColor(event.type),
            allDay: event.allDay || false,
            meta: {
                type: event.type,
                originalEvent: event
            }
        }));
    }
    getDefaultColor(type) {
        switch (type) {
            case 'appointment':
                return { primary: '#f44336', secondary: '#ffebee' }; // Red for filled slots
            case 'available':
                return { primary: '#4caf50', secondary: '#e8f5e8' }; // Green for available slots
            case 'break':
                return { primary: '#ff9800', secondary: '#fff3e0' };
            case 'leave':
                return { primary: '#f44336', secondary: '#ffebee' };
            default:
                return { primary: '#757575', secondary: '#f5f5f5' };
        }
    }
    onDateSelected(event) {
        this.selectedDate = event.date;
        this.dateSelected.emit(event.date);
    }
    onEventClicked(event) {
        this.eventClicked.emit(event.event.meta.originalEvent);
    }
    onViewChange(view) {
        this.view = view;
        this.viewChanged.emit(view);
    }
    onViewDateChange(date) {
        this.viewDate = date;
        this.currentMonth = date.getMonth();
        this.currentYear = date.getFullYear();
        this.generateCalendar();
        this.monthChanged.emit({
            year: date.getFullYear(),
            month: date.getMonth()
        });
    }
    onTodayClick() {
        this.viewDate = new Date();
        this.selectedDate = new Date();
        this.currentMonth = new Date().getMonth();
        this.currentYear = new Date().getFullYear();
        this.generateCalendar();
    }
    previousMonth() {
        const newDate = new Date(this.currentYear, this.currentMonth - 1, 1);
        this.onViewDateChange(newDate);
    }
    nextMonth() {
        const newDate = new Date(this.currentYear, this.currentMonth + 1, 1);
        this.onViewDateChange(newDate);
    }
    isToday(date) {
        const today = new Date();
        return date.getDate() === today.getDate() &&
            date.getMonth() === today.getMonth() &&
            date.getFullYear() === today.getFullYear();
    }
    isSelected(date) {
        return date.getDate() === this.selectedDate.getDate() &&
            date.getMonth() === this.selectedDate.getMonth() &&
            date.getFullYear() === this.selectedDate.getFullYear();
    }
    isCurrentMonth(date) {
        return date.getMonth() === this.currentMonth;
    }
    getEventsForDate(date) {
        return this.events.filter(event => {
            const eventDate = new Date(event.start);
            return eventDate.getDate() === date.getDate() &&
                eventDate.getMonth() === date.getMonth() &&
                eventDate.getFullYear() === date.getFullYear();
        });
    }
    getEventColor(event) {
        if (event.color)
            return event.color;
        switch (event.type) {
            case 'appointment':
                return { primary: '#f44336', secondary: '#ffebee' }; // Red for filled slots
            case 'available':
                return { primary: '#4caf50', secondary: '#e8f5e8' }; // Green for available slots
            case 'break':
                return { primary: '#ff9800', secondary: '#fff3e0' };
            case 'leave':
                return { primary: '#f44336', secondary: '#ffebee' };
            default:
                return { primary: '#757575', secondary: '#f5f5f5' };
        }
    }
    formatSelectedDate() {
        const options = {
            weekday: 'short',
            month: 'short',
            day: 'numeric',
            year: 'numeric'
        };
        return this.selectedDate.toLocaleDateString('en-US', options);
    }
    formatEventTime(event) {
        if (event.allDay)
            return 'All-day';
        const startTime = new Date(event.start);
        const endTime = event.end ? new Date(event.end) : startTime;
        const startStr = startTime.toLocaleTimeString('en-US', {
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
        });
        if (event.end) {
            const endStr = endTime.toLocaleTimeString('en-US', {
                hour: 'numeric',
                minute: '2-digit',
                hour12: true
            });
            return `${startStr} - ${endStr}`;
        }
        return startStr;
    }
    getMonthYearString() {
        return format(this.viewDate, 'MMMM yyyy');
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CalendarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: CalendarComponent, isStandalone: true, selector: "app-calendar", inputs: { events: "events", selectedDate: "selectedDate", view: "view", viewDate: "viewDate", showNavigation: "showNavigation", showToday: "showToday", allowDateSelection: "allowDateSelection", highlightToday: "highlightToday", showEventIndicators: "showEventIndicators", locale: "locale" }, outputs: { dateSelected: "dateSelected", eventClicked: "eventClicked", monthChanged: "monthChanged", viewChanged: "viewChanged" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"calendar-container\">\n  <!-- Calendar Header -->\n  <div class=\"calendar-header\">\n    <div class=\"header-content\">\n      <div class=\"month-year\">\n        <h2 class=\"month-year-text\">{{ getMonthYearString() }}</h2>\n      </div>\n      \n      <div class=\"navigation-controls\">\n        <app-button\n          type=\"button\"\n          appearance=\"icon\"\n          (btnClick)=\"previousMonth()\"\n          class=\"nav-btn\"\n          [text]=\"''\"\n          [fontIcon]=\"'chevron_left'\">\n        </app-button>\n        \n        <app-button\n          type=\"button\"\n          appearance=\"basic\"\n          (btnClick)=\"onTodayClick()\"\n          class=\"today-btn\"\n          [text]=\"'Today'\">\n        </app-button>\n        \n        <app-button\n          type=\"button\"\n          appearance=\"icon\"\n          (btnClick)=\"nextMonth()\"\n          class=\"nav-btn\"\n          [text]=\"''\"\n          [fontIcon]=\"'chevron_right'\">\n        </app-button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Calendar Legend -->\n  <div class=\"calendar-legend\" *ngIf=\"showEventIndicators\">\n    <div class=\"legend-item\">\n      <div class=\"legend-dot available\"></div>\n      <span class=\"legend-text\">Available</span>\n    </div>\n    <div class=\"legend-item\">\n      <div class=\"legend-dot appointment\"></div>\n      <span class=\"legend-text\">Booked</span>\n    </div>\n  </div>\n\n  <!-- Calendar and Events Container -->\n  <div class=\"calendar-events-container\">\n    <!-- Calendar Grid -->\n    <div class=\"calendar-grid\">\n      <!-- Week Days Header -->\n      <div class=\"week-header\">\n        <div class=\"week-day\" *ngFor=\"let day of weekDays\">{{ day }}</div>\n      </div>\n\n      <!-- Calendar Days -->\n      <div class=\"calendar-body\">\n        <div class=\"calendar-week\" *ngFor=\"let week of calendar\">\n          <div \n            class=\"calendar-day\"\n            *ngFor=\"let date of week\"\n            [class.today]=\"isToday(date)\"\n            [class.selected]=\"isSelected(date)\"\n            [class.other-month]=\"!isCurrentMonth(date)\"\n            [class.clickable]=\"allowDateSelection\"\n            (click)=\"allowDateSelection ? onDateSelected({date: date}) : null\">\n            \n            <div class=\"day-number\">{{ date.getDate() }}</div>\n            \n            <!-- Event Indicators -->\n            <div \n              class=\"event-indicators\" \n              *ngIf=\"showEventIndicators && getEventsForDate(date).length > 0\">\n              <div \n                class=\"event-dot\"\n                *ngFor=\"let event of getEventsForDate(date).slice(0, 3)\"\n                [class]=\"'event-dot ' + (event.type || 'other')\"\n                [style.background-color]=\"getEventColor(event).primary\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Events Panel (Right Side) -->\n    <div class=\"events-panel\" *ngIf=\"getEventsForDate(selectedDate).length > 0\">\n      <div class=\"date-header\">\n        <h3 class=\"date-title\">{{ formatSelectedDate() }}</h3>\n      </div>\n      \n\n      <div class=\"events-panel-wrapper\">\n        <div class=\"event-item\" \n        *ngFor=\"let event of getEventsForDate(selectedDate)\"\n        (click)=\"onEventClicked({event: {meta: {originalEvent: event}}})\"\n        [style.border-left-color]=\"getEventColor(event).primary\">\n     <div class=\"event-content\">\n       <div class=\"event-title\">{{ event.title }}</div>\n       <div class=\"event-description\" *ngIf=\"event.description\">{{ event.description }}</div>\n       <div class=\"event-time\">\n         <span *ngIf=\"event.allDay\">All-day</span>\n         <span *ngIf=\"!event.allDay\">{{ formatEventTime(event) }}</span>\n       </div>\n     </div>\n   </div>\n      </div>\n    </div>\n\n    <!-- No Events Message (Right Side) -->\n    <div class=\"no-events-panel\" *ngIf=\"getEventsForDate(selectedDate).length === 0\">\n      <p>No events for {{ formatSelectedDate() }}</p>\n    </div>\n  </div>\n\n  <!-- Events List (Bottom - Mobile/Compact) -->\n  <div class=\"events-list-bottom\" *ngIf=\"getEventsForDate(selectedDate).length > 0\">\n    <div class=\"date-header\">\n      <h3 class=\"date-title\">{{ formatSelectedDate() }}</h3>\n    </div>\n    \n    <div class=\"event-item\" \n         *ngFor=\"let event of getEventsForDate(selectedDate)\"\n         (click)=\"onEventClicked({event: {meta: {originalEvent: event}}})\"\n         [style.border-left-color]=\"getEventColor(event).primary\">\n      <div class=\"event-content\">\n        <div class=\"event-title\">{{ event.title }}</div>\n        <div class=\"event-description\" *ngIf=\"event.description\">{{ event.description }}</div>\n        <div class=\"event-time\">\n          <span *ngIf=\"event.allDay\">All-day</span>\n          <span *ngIf=\"!event.allDay\">{{ formatEventTime(event) }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- No Events Message (Bottom) -->\n  <div class=\"no-events-bottom\" *ngIf=\"getEventsForDate(selectedDate).length === 0\">\n    <p>No events for {{ formatSelectedDate() }}</p>\n  </div>\n</div> ", styles: [".calendar-container{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;max-width:100%;height:100%}.calendar-header{background:#fff;border-bottom:1px solid #e0e0e0;padding:16px 20px;height:4.5em}.calendar-header .header-content{display:flex;justify-content:space-between;align-items:center}.calendar-header .header-content .month-year .month-year-text{margin:0;font-size:18px;font-weight:600;color:#007aff}.calendar-header .header-content .navigation-controls{min-width:10em;display:flex;align-items:center;gap:8px}.calendar-header .header-content .navigation-controls .nav-btn{min-width:3em;width:32px;height:32px;padding:0;color:#007aff}.calendar-header .header-content .navigation-controls .nav-btn ::ng-deep .mat-mdc-button-touch-target{width:32px;height:32px}.calendar-header .header-content .navigation-controls .today-btn{color:#007aff;font-weight:500;min-width:60px;font-size:14px}.calendar-legend{display:flex;justify-content:center;gap:20px;padding:8px 20px;background:#f8f9fa;border-bottom:1px solid #e0e0e0;height:2em}.calendar-legend .legend-item{display:flex;align-items:center;gap:6px}.calendar-legend .legend-item .legend-dot{width:8px;height:8px;border-radius:50%}.calendar-legend .legend-item .legend-dot.available{background:#4caf50}.calendar-legend .legend-item .legend-dot.appointment{background:#f44336}.calendar-legend .legend-item .legend-text{font-size:12px;color:#666;font-weight:500}.calendar-events-container{display:flex;height:calc(100% - 6.6em)}.calendar-grid{flex:1;padding:0 20px 16px;min-width:60%}.calendar-grid .week-header{display:grid;grid-template-columns:repeat(7,1fr);margin-bottom:8px}.calendar-grid .week-header .week-day{text-align:center;font-size:12px;font-weight:500;color:#8e8e93;padding:8px 0}.calendar-grid .calendar-body .calendar-week{display:grid;grid-template-columns:repeat(7,1fr);border-bottom:1px solid #F2F2F7}.calendar-grid .calendar-body .calendar-week:last-child{border-bottom:none}.calendar-grid .calendar-body .calendar-week .calendar-day{min-height:40px;padding:4px;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:background-color .2s ease}.calendar-grid .calendar-body .calendar-week .calendar-day:hover{background:#f2f2f7}.calendar-grid .calendar-body .calendar-week .calendar-day.today .day-number,.calendar-grid .calendar-body .calendar-week .calendar-day.selected .day-number{background:#007aff;color:#fff;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px}.calendar-grid .calendar-body .calendar-week .calendar-day.other-month .day-number{color:#c7c7cc}.calendar-grid .calendar-body .calendar-week .calendar-day .day-number{font-size:16px;font-weight:400;color:#000;margin-bottom:4px;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators{display:flex;gap:2px;margin-top:2px;flex-wrap:wrap;justify-content:center}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot{width:6px;height:6px;border-radius:50%;background:#8e8e93;transition:transform .2s ease}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot:hover{transform:scale(1.2)}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot.appointment{background:#f44336}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot.available{background:#4caf50}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot.break{background:#ff9800}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot.leave{background:#f44336}.events-panel{width:35%;border-left:1px solid #F2F2F7;background:#fff;display:flex;flex-direction:column;height:100%}.events-panel-wrapper{height:calc(100% - 3.5em);overflow-y:scroll}.events-panel .date-header{padding:.6em 1em .4em;border-bottom:1px solid #F2F2F7;height:2.5em}.events-panel .date-header .date-title{margin:0;font-size:16px;font-weight:600;color:#000}.events-panel .event-item{padding:12px 20px;border-bottom:1px solid #F2F2F7;border-left:4px solid;cursor:pointer;transition:background-color .2s ease}.events-panel .event-item:hover{background:#f2f2f7}.events-panel .event-item:last-child{border-bottom:none}.events-panel .event-item .event-content .event-title{font-size:16px;font-weight:500;color:#000;margin-bottom:4px}.events-panel .event-item .event-content .event-description{font-size:14px;color:#8e8e93;margin-bottom:4px}.events-panel .event-item .event-content .event-time{font-size:14px;color:#8e8e93}.no-events-panel{width:40%;border-left:1px solid #F2F2F7;padding:20px;text-align:center;background:#fff;display:flex;align-items:center;justify-content:center}.no-events-panel p{margin:0;font-size:16px;color:#8e8e93}.events-list-bottom{display:none;border-top:1px solid #F2F2F7;background:#fff}.events-list-bottom .date-header{padding:16px 20px 8px;border-bottom:1px solid #F2F2F7}.events-list-bottom .date-header .date-title{margin:0;font-size:16px;font-weight:600;color:#000}.events-list-bottom .event-item{padding:12px 20px;border-bottom:1px solid #F2F2F7;border-left:4px solid;cursor:pointer;transition:background-color .2s ease}.events-list-bottom .event-item:hover{background:#f2f2f7}.events-list-bottom .event-item:last-child{border-bottom:none}.events-list-bottom .event-item .event-content .event-title{font-size:16px;font-weight:500;color:#000;margin-bottom:4px}.events-list-bottom .event-item .event-content .event-description{font-size:14px;color:#8e8e93;margin-bottom:4px}.events-list-bottom .event-item .event-content .event-time{font-size:14px;color:#8e8e93}.no-events-bottom{display:none;border-top:1px solid #F2F2F7;padding:20px;text-align:center;background:#fff}.no-events-bottom p{margin:0;font-size:16px;color:#8e8e93}@media (max-width: 768px){.calendar-container{border-radius:0;box-shadow:none;max-width:100%;height:100%}.calendar-events-container{flex-direction:column;height:100%}.calendar-grid{padding:0 16px 12px;min-width:auto}.calendar-grid .calendar-body .calendar-week .calendar-day{min-height:35px}.calendar-grid .calendar-body .calendar-week .calendar-day .day-number{font-size:14px;width:24px;height:24px}.calendar-grid .calendar-body .calendar-week .calendar-day.today .day-number,.calendar-grid .calendar-body .calendar-week .calendar-day.selected .day-number{width:24px;height:24px;font-size:12px}.events-panel,.no-events-panel{display:none}.events-list-bottom{display:block}.events-list-bottom .date-header{padding:12px 16px 6px}.events-list-bottom .event-item{padding:10px 16px}.no-events-bottom{display:block;padding:16px}}@media (min-width: 769px) and (max-width: 1024px){.calendar-events-container{flex-direction:column;height:100%}.calendar-grid{min-width:auto}.events-panel,.no-events-panel{display:none}.events-list-bottom,.no-events-bottom{display:block}}@media (min-width: 1025px){.events-list-bottom,.no-events-bottom{display:none}}@media (prefers-color-scheme: dark){.calendar-container{background:#1c1c1e;color:#fff}.calendar-header{background:#1c1c1e;border-bottom-color:#38383a}.calendar-header .header-content .month-year-text{color:#0a84ff}.calendar-legend{background:#2c2c2e;border-bottom-color:#38383a}.calendar-legend .legend-item .legend-text,.calendar-grid .week-header .week-day{color:#8e8e93}.calendar-grid .calendar-body .calendar-week{border-bottom-color:#38383a}.calendar-grid .calendar-body .calendar-week .calendar-day:hover{background:#2c2c2e}.calendar-grid .calendar-body .calendar-week .calendar-day.today .day-number,.calendar-grid .calendar-body .calendar-week .calendar-day.selected .day-number{background:#0a84ff}.calendar-grid .calendar-body .calendar-week .calendar-day.other-month .day-number{color:#48484a}.calendar-grid .calendar-body .calendar-week .calendar-day .day-number{color:#fff}.events-panel{background:#1c1c1e;border-left-color:#38383a}.events-panel .date-header{border-bottom-color:#38383a}.events-panel .date-header .date-title{color:#fff}.events-panel .event-item{border-bottom-color:#38383a}.events-panel .event-item:hover{background:#2c2c2e}.events-panel .event-item .event-content .event-title{color:#fff}.events-panel .event-item .event-content .event-description,.events-panel .event-item .event-content .event-time{color:#8e8e93}.no-events-panel{background:#1c1c1e;border-left-color:#38383a}.no-events-panel p{color:#8e8e93}.events-list-bottom{background:#1c1c1e;border-top-color:#38383a}.events-list-bottom .date-header{border-bottom-color:#38383a}.events-list-bottom .date-header .date-title{color:#fff}.events-list-bottom .event-item{border-bottom-color:#38383a}.events-list-bottom .event-item:hover{background:#2c2c2e}.events-list-bottom .event-item .event-content .event-title{color:#fff}.events-list-bottom .event-item .event-content .event-description,.events-list-bottom .event-item .event-content .event-time{color:#8e8e93}.no-events-bottom{background:#1c1c1e;border-top-color:#38383a}.no-events-bottom p{color:#8e8e93}}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1$2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: CalendarModule }, { kind: "ngmodule", type: MatButtonModule }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CalendarComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-calendar', standalone: true, imports: [
                        CommonModule,
                        CalendarModule,
                        MatButtonModule,
                        MatIconModule,
                        AppButtonComponent
                    ], changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"calendar-container\">\n  <!-- Calendar Header -->\n  <div class=\"calendar-header\">\n    <div class=\"header-content\">\n      <div class=\"month-year\">\n        <h2 class=\"month-year-text\">{{ getMonthYearString() }}</h2>\n      </div>\n      \n      <div class=\"navigation-controls\">\n        <app-button\n          type=\"button\"\n          appearance=\"icon\"\n          (btnClick)=\"previousMonth()\"\n          class=\"nav-btn\"\n          [text]=\"''\"\n          [fontIcon]=\"'chevron_left'\">\n        </app-button>\n        \n        <app-button\n          type=\"button\"\n          appearance=\"basic\"\n          (btnClick)=\"onTodayClick()\"\n          class=\"today-btn\"\n          [text]=\"'Today'\">\n        </app-button>\n        \n        <app-button\n          type=\"button\"\n          appearance=\"icon\"\n          (btnClick)=\"nextMonth()\"\n          class=\"nav-btn\"\n          [text]=\"''\"\n          [fontIcon]=\"'chevron_right'\">\n        </app-button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Calendar Legend -->\n  <div class=\"calendar-legend\" *ngIf=\"showEventIndicators\">\n    <div class=\"legend-item\">\n      <div class=\"legend-dot available\"></div>\n      <span class=\"legend-text\">Available</span>\n    </div>\n    <div class=\"legend-item\">\n      <div class=\"legend-dot appointment\"></div>\n      <span class=\"legend-text\">Booked</span>\n    </div>\n  </div>\n\n  <!-- Calendar and Events Container -->\n  <div class=\"calendar-events-container\">\n    <!-- Calendar Grid -->\n    <div class=\"calendar-grid\">\n      <!-- Week Days Header -->\n      <div class=\"week-header\">\n        <div class=\"week-day\" *ngFor=\"let day of weekDays\">{{ day }}</div>\n      </div>\n\n      <!-- Calendar Days -->\n      <div class=\"calendar-body\">\n        <div class=\"calendar-week\" *ngFor=\"let week of calendar\">\n          <div \n            class=\"calendar-day\"\n            *ngFor=\"let date of week\"\n            [class.today]=\"isToday(date)\"\n            [class.selected]=\"isSelected(date)\"\n            [class.other-month]=\"!isCurrentMonth(date)\"\n            [class.clickable]=\"allowDateSelection\"\n            (click)=\"allowDateSelection ? onDateSelected({date: date}) : null\">\n            \n            <div class=\"day-number\">{{ date.getDate() }}</div>\n            \n            <!-- Event Indicators -->\n            <div \n              class=\"event-indicators\" \n              *ngIf=\"showEventIndicators && getEventsForDate(date).length > 0\">\n              <div \n                class=\"event-dot\"\n                *ngFor=\"let event of getEventsForDate(date).slice(0, 3)\"\n                [class]=\"'event-dot ' + (event.type || 'other')\"\n                [style.background-color]=\"getEventColor(event).primary\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Events Panel (Right Side) -->\n    <div class=\"events-panel\" *ngIf=\"getEventsForDate(selectedDate).length > 0\">\n      <div class=\"date-header\">\n        <h3 class=\"date-title\">{{ formatSelectedDate() }}</h3>\n      </div>\n      \n\n      <div class=\"events-panel-wrapper\">\n        <div class=\"event-item\" \n        *ngFor=\"let event of getEventsForDate(selectedDate)\"\n        (click)=\"onEventClicked({event: {meta: {originalEvent: event}}})\"\n        [style.border-left-color]=\"getEventColor(event).primary\">\n     <div class=\"event-content\">\n       <div class=\"event-title\">{{ event.title }}</div>\n       <div class=\"event-description\" *ngIf=\"event.description\">{{ event.description }}</div>\n       <div class=\"event-time\">\n         <span *ngIf=\"event.allDay\">All-day</span>\n         <span *ngIf=\"!event.allDay\">{{ formatEventTime(event) }}</span>\n       </div>\n     </div>\n   </div>\n      </div>\n    </div>\n\n    <!-- No Events Message (Right Side) -->\n    <div class=\"no-events-panel\" *ngIf=\"getEventsForDate(selectedDate).length === 0\">\n      <p>No events for {{ formatSelectedDate() }}</p>\n    </div>\n  </div>\n\n  <!-- Events List (Bottom - Mobile/Compact) -->\n  <div class=\"events-list-bottom\" *ngIf=\"getEventsForDate(selectedDate).length > 0\">\n    <div class=\"date-header\">\n      <h3 class=\"date-title\">{{ formatSelectedDate() }}</h3>\n    </div>\n    \n    <div class=\"event-item\" \n         *ngFor=\"let event of getEventsForDate(selectedDate)\"\n         (click)=\"onEventClicked({event: {meta: {originalEvent: event}}})\"\n         [style.border-left-color]=\"getEventColor(event).primary\">\n      <div class=\"event-content\">\n        <div class=\"event-title\">{{ event.title }}</div>\n        <div class=\"event-description\" *ngIf=\"event.description\">{{ event.description }}</div>\n        <div class=\"event-time\">\n          <span *ngIf=\"event.allDay\">All-day</span>\n          <span *ngIf=\"!event.allDay\">{{ formatEventTime(event) }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- No Events Message (Bottom) -->\n  <div class=\"no-events-bottom\" *ngIf=\"getEventsForDate(selectedDate).length === 0\">\n    <p>No events for {{ formatSelectedDate() }}</p>\n  </div>\n</div> ", styles: [".calendar-container{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;max-width:100%;height:100%}.calendar-header{background:#fff;border-bottom:1px solid #e0e0e0;padding:16px 20px;height:4.5em}.calendar-header .header-content{display:flex;justify-content:space-between;align-items:center}.calendar-header .header-content .month-year .month-year-text{margin:0;font-size:18px;font-weight:600;color:#007aff}.calendar-header .header-content .navigation-controls{min-width:10em;display:flex;align-items:center;gap:8px}.calendar-header .header-content .navigation-controls .nav-btn{min-width:3em;width:32px;height:32px;padding:0;color:#007aff}.calendar-header .header-content .navigation-controls .nav-btn ::ng-deep .mat-mdc-button-touch-target{width:32px;height:32px}.calendar-header .header-content .navigation-controls .today-btn{color:#007aff;font-weight:500;min-width:60px;font-size:14px}.calendar-legend{display:flex;justify-content:center;gap:20px;padding:8px 20px;background:#f8f9fa;border-bottom:1px solid #e0e0e0;height:2em}.calendar-legend .legend-item{display:flex;align-items:center;gap:6px}.calendar-legend .legend-item .legend-dot{width:8px;height:8px;border-radius:50%}.calendar-legend .legend-item .legend-dot.available{background:#4caf50}.calendar-legend .legend-item .legend-dot.appointment{background:#f44336}.calendar-legend .legend-item .legend-text{font-size:12px;color:#666;font-weight:500}.calendar-events-container{display:flex;height:calc(100% - 6.6em)}.calendar-grid{flex:1;padding:0 20px 16px;min-width:60%}.calendar-grid .week-header{display:grid;grid-template-columns:repeat(7,1fr);margin-bottom:8px}.calendar-grid .week-header .week-day{text-align:center;font-size:12px;font-weight:500;color:#8e8e93;padding:8px 0}.calendar-grid .calendar-body .calendar-week{display:grid;grid-template-columns:repeat(7,1fr);border-bottom:1px solid #F2F2F7}.calendar-grid .calendar-body .calendar-week:last-child{border-bottom:none}.calendar-grid .calendar-body .calendar-week .calendar-day{min-height:40px;padding:4px;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:background-color .2s ease}.calendar-grid .calendar-body .calendar-week .calendar-day:hover{background:#f2f2f7}.calendar-grid .calendar-body .calendar-week .calendar-day.today .day-number,.calendar-grid .calendar-body .calendar-week .calendar-day.selected .day-number{background:#007aff;color:#fff;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px}.calendar-grid .calendar-body .calendar-week .calendar-day.other-month .day-number{color:#c7c7cc}.calendar-grid .calendar-body .calendar-week .calendar-day .day-number{font-size:16px;font-weight:400;color:#000;margin-bottom:4px;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators{display:flex;gap:2px;margin-top:2px;flex-wrap:wrap;justify-content:center}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot{width:6px;height:6px;border-radius:50%;background:#8e8e93;transition:transform .2s ease}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot:hover{transform:scale(1.2)}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot.appointment{background:#f44336}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot.available{background:#4caf50}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot.break{background:#ff9800}.calendar-grid .calendar-body .calendar-week .calendar-day .event-indicators .event-dot.leave{background:#f44336}.events-panel{width:35%;border-left:1px solid #F2F2F7;background:#fff;display:flex;flex-direction:column;height:100%}.events-panel-wrapper{height:calc(100% - 3.5em);overflow-y:scroll}.events-panel .date-header{padding:.6em 1em .4em;border-bottom:1px solid #F2F2F7;height:2.5em}.events-panel .date-header .date-title{margin:0;font-size:16px;font-weight:600;color:#000}.events-panel .event-item{padding:12px 20px;border-bottom:1px solid #F2F2F7;border-left:4px solid;cursor:pointer;transition:background-color .2s ease}.events-panel .event-item:hover{background:#f2f2f7}.events-panel .event-item:last-child{border-bottom:none}.events-panel .event-item .event-content .event-title{font-size:16px;font-weight:500;color:#000;margin-bottom:4px}.events-panel .event-item .event-content .event-description{font-size:14px;color:#8e8e93;margin-bottom:4px}.events-panel .event-item .event-content .event-time{font-size:14px;color:#8e8e93}.no-events-panel{width:40%;border-left:1px solid #F2F2F7;padding:20px;text-align:center;background:#fff;display:flex;align-items:center;justify-content:center}.no-events-panel p{margin:0;font-size:16px;color:#8e8e93}.events-list-bottom{display:none;border-top:1px solid #F2F2F7;background:#fff}.events-list-bottom .date-header{padding:16px 20px 8px;border-bottom:1px solid #F2F2F7}.events-list-bottom .date-header .date-title{margin:0;font-size:16px;font-weight:600;color:#000}.events-list-bottom .event-item{padding:12px 20px;border-bottom:1px solid #F2F2F7;border-left:4px solid;cursor:pointer;transition:background-color .2s ease}.events-list-bottom .event-item:hover{background:#f2f2f7}.events-list-bottom .event-item:last-child{border-bottom:none}.events-list-bottom .event-item .event-content .event-title{font-size:16px;font-weight:500;color:#000;margin-bottom:4px}.events-list-bottom .event-item .event-content .event-description{font-size:14px;color:#8e8e93;margin-bottom:4px}.events-list-bottom .event-item .event-content .event-time{font-size:14px;color:#8e8e93}.no-events-bottom{display:none;border-top:1px solid #F2F2F7;padding:20px;text-align:center;background:#fff}.no-events-bottom p{margin:0;font-size:16px;color:#8e8e93}@media (max-width: 768px){.calendar-container{border-radius:0;box-shadow:none;max-width:100%;height:100%}.calendar-events-container{flex-direction:column;height:100%}.calendar-grid{padding:0 16px 12px;min-width:auto}.calendar-grid .calendar-body .calendar-week .calendar-day{min-height:35px}.calendar-grid .calendar-body .calendar-week .calendar-day .day-number{font-size:14px;width:24px;height:24px}.calendar-grid .calendar-body .calendar-week .calendar-day.today .day-number,.calendar-grid .calendar-body .calendar-week .calendar-day.selected .day-number{width:24px;height:24px;font-size:12px}.events-panel,.no-events-panel{display:none}.events-list-bottom{display:block}.events-list-bottom .date-header{padding:12px 16px 6px}.events-list-bottom .event-item{padding:10px 16px}.no-events-bottom{display:block;padding:16px}}@media (min-width: 769px) and (max-width: 1024px){.calendar-events-container{flex-direction:column;height:100%}.calendar-grid{min-width:auto}.events-panel,.no-events-panel{display:none}.events-list-bottom,.no-events-bottom{display:block}}@media (min-width: 1025px){.events-list-bottom,.no-events-bottom{display:none}}@media (prefers-color-scheme: dark){.calendar-container{background:#1c1c1e;color:#fff}.calendar-header{background:#1c1c1e;border-bottom-color:#38383a}.calendar-header .header-content .month-year-text{color:#0a84ff}.calendar-legend{background:#2c2c2e;border-bottom-color:#38383a}.calendar-legend .legend-item .legend-text,.calendar-grid .week-header .week-day{color:#8e8e93}.calendar-grid .calendar-body .calendar-week{border-bottom-color:#38383a}.calendar-grid .calendar-body .calendar-week .calendar-day:hover{background:#2c2c2e}.calendar-grid .calendar-body .calendar-week .calendar-day.today .day-number,.calendar-grid .calendar-body .calendar-week .calendar-day.selected .day-number{background:#0a84ff}.calendar-grid .calendar-body .calendar-week .calendar-day.other-month .day-number{color:#48484a}.calendar-grid .calendar-body .calendar-week .calendar-day .day-number{color:#fff}.events-panel{background:#1c1c1e;border-left-color:#38383a}.events-panel .date-header{border-bottom-color:#38383a}.events-panel .date-header .date-title{color:#fff}.events-panel .event-item{border-bottom-color:#38383a}.events-panel .event-item:hover{background:#2c2c2e}.events-panel .event-item .event-content .event-title{color:#fff}.events-panel .event-item .event-content .event-description,.events-panel .event-item .event-content .event-time{color:#8e8e93}.no-events-panel{background:#1c1c1e;border-left-color:#38383a}.no-events-panel p{color:#8e8e93}.events-list-bottom{background:#1c1c1e;border-top-color:#38383a}.events-list-bottom .date-header{border-bottom-color:#38383a}.events-list-bottom .date-header .date-title{color:#fff}.events-list-bottom .event-item{border-bottom-color:#38383a}.events-list-bottom .event-item:hover{background:#2c2c2e}.events-list-bottom .event-item .event-content .event-title{color:#fff}.events-list-bottom .event-item .event-content .event-description,.events-list-bottom .event-item .event-content .event-time{color:#8e8e93}.no-events-bottom{background:#1c1c1e;border-top-color:#38383a}.no-events-bottom p{color:#8e8e93}}\n"] }]
        }], propDecorators: { events: [{
                type: Input
            }], selectedDate: [{
                type: Input
            }], view: [{
                type: Input
            }], viewDate: [{
                type: Input
            }], showNavigation: [{
                type: Input
            }], showToday: [{
                type: Input
            }], allowDateSelection: [{
                type: Input
            }], highlightToday: [{
                type: Input
            }], showEventIndicators: [{
                type: Input
            }], locale: [{
                type: Input
            }], dateSelected: [{
                type: Output
            }], eventClicked: [{
                type: Output
            }], monthChanged: [{
                type: Output
            }], viewChanged: [{
                type: Output
            }] } });

class ImageComponent {
    constructor() {
        this.src = undefined;
        this.alt = '';
        this.width = '';
        this.height = '';
        this.class = '';
        this.style = '';
        this.loading = 'lazy';
        this.decoding = 'async';
        this.crossorigin = undefined;
        this.config = undefined;
        this.clickable = false;
        this.imageLoad = new EventEmitter();
        this.imageError = new EventEmitter();
        this.imageClick = new EventEmitter();
        // Cached style to prevent repeated method calls
        this.cachedStyle = ''; // Public so template can access it directly
        this.lastWidth = '';
        this.lastHeight = '';
        this.lastStyle = '';
    }
    ngOnInit() {
        // If config is provided, override individual inputs
        if (this.config) {
            this.src = this.config.src || this.src;
            this.alt = this.config.alt || this.alt;
            this.width = this.config.width || this.width;
            this.height = this.config.height || this.height;
            this.class = this.config.class || this.class;
            this.style = this.config.style || this.style;
            this.loading = this.config.loading || this.loading;
            this.decoding = this.config.decoding || this.decoding;
            this.crossorigin = this.config.crossorigin || this.crossorigin;
        }
        this.updateCachedStyle();
    }
    ngOnChanges() {
        // Update cached style when inputs change
        if (this.width !== this.lastWidth || this.height !== this.lastHeight || this.style !== this.lastStyle) {
            this.updateCachedStyle();
            this.lastWidth = this.width;
            this.lastHeight = this.height;
            this.lastStyle = this.style;
        }
    }
    updateCachedStyle() {
        let style = this.style || '';
        if (this.width) {
            style += `width: ${typeof this.width === 'number' ? this.width + 'px' : this.width}; `;
        }
        if (this.height) {
            style += `height: ${typeof this.height === 'number' ? this.height + 'px' : this.height}; `;
        }
        this.cachedStyle = style.trim();
    }
    getImageStyle() {
        return this.cachedStyle;
    }
    onImageLoad(event) {
        this.imageLoad.emit(event);
    }
    onImageError(event) {
        this.imageError.emit(event);
    }
    onImageClick(event) {
        if (this.clickable) {
            this.imageClick.emit(event);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ImageComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: ImageComponent, isStandalone: true, selector: "app-image", inputs: { src: "src", alt: "alt", width: "width", height: "height", class: "class", style: "style", loading: "loading", decoding: "decoding", crossorigin: "crossorigin", config: "config", clickable: "clickable" }, outputs: { imageLoad: "imageLoad", imageError: "imageError", imageClick: "imageClick" }, usesOnChanges: true, ngImport: i0, template: "<img \n  [src]=\"src\" \n  [alt]=\"alt\"\n  [class]=\"class + (clickable ? ' clickable' : '')\"\n  [style]=\"cachedStyle\"\n  [loading]=\"loading\"\n  [decoding]=\"decoding\"\n  [attr.crossorigin]=\"crossorigin\"\n  (error)=\"onImageError($event)\"\n  (load)=\"onImageLoad($event)\"\n  (click)=\"onImageClick($event)\"\n  role=\"img\"\n  [attr.aria-label]=\"alt\"> ", styles: [":host{display:inline-block}img{max-width:100%;height:auto;display:block;border-radius:4px;transition:opacity .3s ease,transform .2s ease}img:hover{transform:scale(1.02)}img.rounded{border-radius:8px}img.circle{border-radius:50%}img.shadow{box-shadow:0 2px 8px #0000001a}img.border{border:1px solid #e0e0e0}img.clickable{cursor:pointer}img.clickable:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}img.loading{opacity:.7}img.error{opacity:.5;filter:grayscale(100%)}.responsive{width:100%;height:auto}.contain{object-fit:contain}.cover{object-fit:cover}.fill{object-fit:fill}.small{max-width:100px}.medium{max-width:200px}.large{max-width:400px}.xlarge{max-width:600px}.aspect-ratio-16-9{position:relative;width:100%;height:0;padding-bottom:56.25%}.aspect-ratio-16-9 img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.aspect-ratio-4-3{position:relative;width:100%;height:0;padding-bottom:75%}.aspect-ratio-4-3 img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.aspect-ratio-1-1{position:relative;width:100%;height:0;padding-bottom:100%}.aspect-ratio-1-1 img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ImageComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-image', standalone: true, imports: [CommonModule], template: "<img \n  [src]=\"src\" \n  [alt]=\"alt\"\n  [class]=\"class + (clickable ? ' clickable' : '')\"\n  [style]=\"cachedStyle\"\n  [loading]=\"loading\"\n  [decoding]=\"decoding\"\n  [attr.crossorigin]=\"crossorigin\"\n  (error)=\"onImageError($event)\"\n  (load)=\"onImageLoad($event)\"\n  (click)=\"onImageClick($event)\"\n  role=\"img\"\n  [attr.aria-label]=\"alt\"> ", styles: [":host{display:inline-block}img{max-width:100%;height:auto;display:block;border-radius:4px;transition:opacity .3s ease,transform .2s ease}img:hover{transform:scale(1.02)}img.rounded{border-radius:8px}img.circle{border-radius:50%}img.shadow{box-shadow:0 2px 8px #0000001a}img.border{border:1px solid #e0e0e0}img.clickable{cursor:pointer}img.clickable:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}img.loading{opacity:.7}img.error{opacity:.5;filter:grayscale(100%)}.responsive{width:100%;height:auto}.contain{object-fit:contain}.cover{object-fit:cover}.fill{object-fit:fill}.small{max-width:100px}.medium{max-width:200px}.large{max-width:400px}.xlarge{max-width:600px}.aspect-ratio-16-9{position:relative;width:100%;height:0;padding-bottom:56.25%}.aspect-ratio-16-9 img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.aspect-ratio-4-3{position:relative;width:100%;height:0;padding-bottom:75%}.aspect-ratio-4-3 img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.aspect-ratio-1-1{position:relative;width:100%;height:0;padding-bottom:100%}.aspect-ratio-1-1 img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}\n"] }]
        }], propDecorators: { src: [{
                type: Input
            }], alt: [{
                type: Input
            }], width: [{
                type: Input
            }], height: [{
                type: Input
            }], class: [{
                type: Input
            }], style: [{
                type: Input
            }], loading: [{
                type: Input
            }], decoding: [{
                type: Input
            }], crossorigin: [{
                type: Input
            }], config: [{
                type: Input
            }], clickable: [{
                type: Input
            }], imageLoad: [{
                type: Output
            }], imageError: [{
                type: Output
            }], imageClick: [{
                type: Output
            }] } });

class UploadboxComponent {
    constructor() {
        this.multiple = false;
        this.accept = '*/*';
        this.maxFileSize = 10 * 1024 * 1024; // 10MB default
        this.maxFiles = 5;
        this.autoUpload = true;
        this.showPreview = true;
        this.dragDropEnabled = true;
        this.placeholder = 'Drop files here or click to browse';
        this.buttonText = 'Choose Files';
        this.filesSelected = new EventEmitter();
        this.fileUploaded = new EventEmitter();
        this.uploadComplete = new EventEmitter();
        this.uploadError = new EventEmitter();
        this.fileRemoved = new EventEmitter();
        this.uploadedFiles = [];
        this.isDragOver = false;
        this.isUploading = false;
        this.fileMap = new Map();
        this.snackBar = inject(MatSnackBar);
    }
    ngOnInit() { }
    onFileSelected(event) {
        const files = Array.from(event.target.files);
        this.handleFiles(files);
    }
    onDragOver(event) {
        event.preventDefault();
        event.stopPropagation();
        this.isDragOver = true;
    }
    onDragLeave(event) {
        event.preventDefault();
        event.stopPropagation();
        this.isDragOver = false;
    }
    onDrop(event) {
        event.preventDefault();
        event.stopPropagation();
        this.isDragOver = false;
        if (event.dataTransfer?.files) {
            const files = Array.from(event.dataTransfer.files);
            this.handleFiles(files);
        }
    }
    handleFiles(files) {
        // Validate number of files
        if (this.uploadedFiles.length + files.length > this.maxFiles) {
            this.showError(`Maximum ${this.maxFiles} files allowed`);
            return;
        }
        // Validate each file
        const validFiles = [];
        files.forEach(file => {
            if (this.validateFile(file)) {
                validFiles.push(file);
            }
        });
        if (validFiles.length === 0) {
            return;
        }
        // Emit selected files
        this.filesSelected.emit(validFiles);
        // Create uploaded file objects
        validFiles.forEach(file => {
            const uploadedFile = {
                id: this.generateId(),
                name: file.name,
                size: file.size,
                type: file.type,
                url: '',
                uploadedAt: new Date(),
                uploadedBy: 'user',
                isActive: true,
                status: 'pending'
            };
            this.uploadedFiles.push(uploadedFile);
            this.fileMap.set(uploadedFile.id, file);
            // Auto upload if enabled
            if (this.autoUpload) {
                this.uploadFile(file, uploadedFile);
            }
        });
    }
    validateFile(file) {
        // Check file size
        if (file.size > this.maxFileSize) {
            this.showError(`File ${file.name} is too large. Maximum size is ${this.formatFileSize(this.maxFileSize)}`);
            return false;
        }
        // Check file type if accept is specified
        if (this.accept !== '*/*') {
            const acceptedTypes = this.accept.split(',').map(type => type.trim());
            const isValidType = acceptedTypes.some(type => {
                if (type.endsWith('/*')) {
                    return file.type.startsWith(type.replace('/*', ''));
                }
                return file.type === type || file.name.toLowerCase().endsWith(type.replace('*', ''));
            });
            if (!isValidType) {
                this.showError(`File type not allowed for ${file.name}`);
                return false;
            }
        }
        return true;
    }
    async uploadFile(file, uploadedFile) {
        uploadedFile.status = 'uploading';
        uploadedFile.progress = 0;
        try {
            if (this.uploadUrl) {
                // Simulate upload to server
                await this.simulateUpload(file, uploadedFile);
            }
            else {
                // Create local URL for preview
                uploadedFile.url = URL.createObjectURL(file);
                uploadedFile.status = 'completed';
                uploadedFile.progress = 100;
            }
            this.fileUploaded.emit(uploadedFile);
            this.showSuccess(`File ${file.name} uploaded successfully`);
        }
        catch (error) {
            uploadedFile.status = 'error';
            uploadedFile.error = error instanceof Error ? error.message : 'Upload failed';
            this.uploadError.emit({ file, error: uploadedFile.error });
            this.showError(`Failed to upload ${file.name}`);
        }
    }
    async simulateUpload(file, uploadedFile) {
        return new Promise((resolve, reject) => {
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 30;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    uploadedFile.progress = progress;
                    uploadedFile.status = 'completed';
                    uploadedFile.url = URL.createObjectURL(file);
                    resolve();
                }
                else {
                    uploadedFile.progress = progress;
                }
            }, 200);
        });
    }
    removeFile(file) {
        const index = this.uploadedFiles.findIndex(f => f.id === file.id);
        if (index !== -1) {
            this.uploadedFiles.splice(index, 1);
            this.fileRemoved.emit(file);
            // Revoke object URL if it exists
            if (file.url) {
                URL.revokeObjectURL(file.url);
            }
            // Remove from file map
            this.fileMap.delete(file.id);
        }
    }
    uploadAll() {
        this.uploadedFiles
            .filter(file => file.status === 'pending')
            .forEach(file => {
            const originalFile = this.getOriginalFile(file);
            if (originalFile) {
                this.uploadFile(originalFile, file);
            }
        });
    }
    getOriginalFile(uploadedFile) {
        return this.fileMap.get(uploadedFile.id) || null;
    }
    hasPendingFiles() {
        return this.uploadedFiles.some(file => file.status === 'pending');
    }
    previewFile(file) {
        if (file.url) {
            window.open(file.url, '_blank');
        }
    }
    generateId() {
        return Math.random().toString(36).substr(2, 9);
    }
    formatFileSize(bytes) {
        if (bytes === 0)
            return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }
    showSuccess(message) {
        this.snackBar.open(message, 'Close', {
            duration: 3000,
            panelClass: ['success-snackbar']
        });
    }
    showError(message) {
        this.snackBar.open(message, 'Close', {
            duration: 5000,
            panelClass: ['error-snackbar']
        });
    }
    getFileIcon(fileType) {
        if (fileType.startsWith('image/'))
            return 'image';
        if (fileType.startsWith('video/'))
            return 'video_file';
        if (fileType.startsWith('audio/'))
            return 'audio_file';
        if (fileType.includes('pdf'))
            return 'picture_as_pdf';
        if (fileType.includes('word') || fileType.includes('document'))
            return 'description';
        if (fileType.includes('excel') || fileType.includes('spreadsheet'))
            return 'table_chart';
        if (fileType.includes('powerpoint') || fileType.includes('presentation'))
            return 'slideshow';
        return 'insert_drive_file';
    }
    getFileStatusColor(status) {
        switch (status) {
            case 'completed': return '#4caf50';
            case 'uploading': return '#2196f3';
            case 'error': return '#f44336';
            default: return '#9e9e9e';
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: UploadboxComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: UploadboxComponent, isStandalone: true, selector: "app-uploadbox", inputs: { multiple: "multiple", accept: "accept", maxFileSize: "maxFileSize", maxFiles: "maxFiles", uploadUrl: "uploadUrl", autoUpload: "autoUpload", showPreview: "showPreview", dragDropEnabled: "dragDropEnabled", placeholder: "placeholder", buttonText: "buttonText" }, outputs: { filesSelected: "filesSelected", fileUploaded: "fileUploaded", uploadComplete: "uploadComplete", uploadError: "uploadError", fileRemoved: "fileRemoved" }, ngImport: i0, template: "<div class=\"uploadbox-container\">\n  <!-- Drag and Drop Area -->\n  <div \n    class=\"upload-area\"\n    [class.drag-over]=\"isDragOver\"\n    [class.disabled]=\"!dragDropEnabled\"\n    (dragover)=\"onDragOver($event)\"\n    (dragleave)=\"onDragLeave($event)\"\n    (drop)=\"onDrop($event)\"\n    (click)=\"fileInput.click()\">\n    \n    <div class=\"upload-content\">\n      <app-icon \n        [fontIcon]=\"'cloud_upload'\" \n        class=\"upload-icon\">\n      </app-icon>\n      \n      <h3 class=\"upload-title\">{{ placeholder }}</h3>\n      \n      <p class=\"upload-subtitle\">\n        Maximum file size: {{ formatFileSize(maxFileSize) }} | \n        Max files: {{ maxFiles }}\n      </p>\n      \n      <app-button\n        type=\"button\"\n        appearance=\"raised\"\n        [text]=\"buttonText\"\n        (btnClick)=\"fileInput.click(); $event.stopPropagation()\"\n        class=\"upload-button\">\n        <app-icon [fontIcon]=\"'add'\" class=\"button-icon\"></app-icon>\n      </app-button>\n      \n      <input \n        #fileInput\n        type=\"file\"\n        [multiple]=\"multiple\"\n        [accept]=\"accept\"\n        (change)=\"onFileSelected($event)\"\n        style=\"display: none;\">\n    </div>\n  </div>\n\n  <!-- File List -->\n  <div class=\"file-list\" *ngIf=\"uploadedFiles.length > 0\">\n    <h4 class=\"file-list-title\">Uploaded Files ({{ uploadedFiles.length }}/{{ maxFiles }})</h4>\n    \n    <div class=\"file-items\">\n      <mat-card \n        *ngFor=\"let file of uploadedFiles\" \n        class=\"file-item\"\n        [class.uploading]=\"file.status === 'uploading'\"\n        [class.completed]=\"file.status === 'completed'\"\n        [class.error]=\"file.status === 'error'\">\n        \n        <div class=\"file-content\">\n          <!-- File Icon -->\n          <div class=\"file-icon\">\n            <app-icon \n              [fontIcon]=\"getFileIcon(file.type)\" \n              class=\"file-type-icon\">\n            </app-icon>\n          </div>\n          \n          <!-- File Info -->\n          <div class=\"file-info\">\n            <div class=\"file-name\">{{ file.name }}</div>\n            <div class=\"file-details\">\n              <span class=\"file-size\">{{ formatFileSize(file.size) }}</span>\n              <span class=\"file-type\">{{ file.type }}</span>\n            </div>\n            \n            <!-- Progress Bar -->\n            <mat-progress-bar \n              *ngIf=\"file.status === 'uploading'\"\n              [value]=\"file.progress || 0\"\n              class=\"upload-progress\">\n            </mat-progress-bar>\n            \n            <!-- Status -->\n            <div class=\"file-status\">\n              <span \n                class=\"status-indicator\"\n                [style.background-color]=\"getFileStatusColor(file.status)\">\n              </span>\n              <span class=\"status-text\">{{ file.status | titlecase }}</span>\n              <span *ngIf=\"file.progress && file.status === 'uploading'\" class=\"progress-text\">\n                {{ file.progress | number:'1.0-0' }}%\n              </span>\n            </div>\n            \n            <!-- Error Message -->\n            <div *ngIf=\"file.error\" class=\"error-message\">\n              {{ file.error }}\n            </div>\n          </div>\n          \n          <!-- Actions -->\n          <div class=\"file-actions\">\n            <!-- Preview Button -->\n            <app-button\n              *ngIf=\"showPreview && file.url && file.status === 'completed'\"\n              type=\"button\"\n              appearance=\"icon\"\n              fontIcon=\"visibility\"\n              (btnClick)=\"previewFile(file)\"\n              class=\"preview-button\">\n            </app-button>\n            \n            <!-- Remove Button -->\n            <app-button\n              type=\"button\"\n              appearance=\"icon\"\n              fontIcon=\"delete\"\n              (btnClick)=\"removeFile(file)\"\n              class=\"remove-button\">\n            </app-button>\n          </div>\n        </div>\n      </mat-card>\n    </div>\n    \n    <!-- Upload All Button -->\n    <div class=\"upload-actions\" *ngIf=\"hasPendingFiles()\">\n      <app-button\n        type=\"button\"\n        appearance=\"raised\"\n        text=\"Upload All Files\"\n        [disabled]=\"isUploading\"\n        (btnClick)=\"uploadAll()\"\n        class=\"upload-all-button\">\n        <app-icon [fontIcon]=\"'cloud_upload'\" class=\"button-icon\"></app-icon>\n      </app-button>\n    </div>\n  </div>\n</div> ", styles: [".uploadbox-container{width:100%;max-width:800px;margin:0 auto}.upload-area{border:2px dashed #e0e0e0;border-radius:12px;padding:40px 20px;text-align:center;background:#fafafa;transition:all .3s ease;cursor:pointer;margin-bottom:20px}.upload-area:hover{border-color:#2196f3;background:#f3f8ff}.upload-area.drag-over{border-color:#2196f3;background:#e3f2fd;transform:scale(1.02)}.upload-area.disabled{opacity:.6;cursor:not-allowed}.upload-area.disabled:hover{border-color:#e0e0e0;background:#fafafa;transform:none}.upload-content .upload-icon{font-size:48px;color:#2196f3;margin-bottom:16px}.upload-content .upload-title{margin:0 0 8px;font-size:18px;font-weight:500;color:#333}.upload-content .upload-subtitle{margin:0 0 24px;font-size:14px;color:#666;line-height:1.4}.upload-content .upload-button .button-icon{margin-right:8px}.file-list .file-list-title{margin:0 0 16px;font-size:16px;font-weight:500;color:#333}.file-items{display:flex;flex-direction:column;gap:12px;max-height:18em;overflow-y:scroll;overflow-x:hidden;padding-right:.5em}.file-item{border:1px solid #e0e0e0;border-radius:8px;transition:all .3s ease}.file-item:hover{box-shadow:0 2px 8px #0000001a}.file-item.uploading{border-color:#2196f3;background:#f3f8ff}.file-item.completed{border-color:#4caf50;background:#f1f8e9}.file-item.error{border-color:#f44336;background:#ffebee}.file-content{display:flex;align-items:center;gap:16px;padding:16px}.file-icon{flex-shrink:0;width:48px;height:48px;border-radius:8px;background:#f5f5f5;display:flex;align-items:center;justify-content:center}.file-icon .file-type-icon{font-size:24px;color:#666}.file-info{flex:1;min-width:0}.file-info .file-name{font-size:14px;font-weight:500;color:#333;margin-bottom:4px;word-break:break-word}.file-info .file-details{display:flex;gap:16px;margin-bottom:8px}.file-info .file-details .file-size,.file-info .file-details .file-type{font-size:12px;color:#666}.file-info .upload-progress{margin-bottom:8px}.file-info .file-status{display:flex;align-items:center;gap:8px}.file-info .file-status .status-indicator{width:8px;height:8px;border-radius:50%}.file-info .file-status .status-text{font-size:12px;font-weight:500;color:#666}.file-info .file-status .progress-text{font-size:12px;color:#2196f3;font-weight:500}.file-info .error-message{font-size:12px;color:#f44336;margin-top:4px}.file-actions{display:flex;gap:8px;flex-shrink:0}.file-actions .preview-button,.file-actions .remove-button{width:32px;height:32px;line-height:32px}.file-actions .preview-button ::ng-deep .mat-icon,.file-actions .remove-button ::ng-deep .mat-icon{font-size:18px}.file-actions .preview-button{color:#2196f3}.file-actions .remove-button{color:#f44336}.upload-actions{margin-top:20px;text-align:center}.upload-actions .button-icon{margin-right:8px}@media (max-width: 768px){.uploadbox-container{padding:0 16px}.upload-area{padding:24px 16px}.upload-area .upload-content .upload-icon{font-size:36px}.upload-area .upload-content .upload-title{font-size:16px}.upload-area .upload-content .upload-subtitle{font-size:13px}.file-content{padding:12px;gap:12px}.file-icon{width:40px;height:40px}.file-icon .file-type-icon{font-size:20px}.file-info .file-name{font-size:13px}.file-info .file-details{font-size:11px}.file-actions .preview-button,.file-actions .remove-button{width:28px;height:28px;line-height:28px}.file-actions .preview-button ::ng-deep .mat-icon,.file-actions .remove-button ::ng-deep .mat-icon{font-size:16px}}@media (prefers-color-scheme: dark){.upload-area{border-color:#424242;background:#1e1e1e}.upload-area:hover{border-color:#64b5f6;background:#1a237e}.upload-area.drag-over{border-color:#64b5f6;background:#0d47a1}.upload-content .upload-icon{color:#64b5f6}.upload-content .upload-title{color:#fff}.upload-content .upload-subtitle{color:#b0b0b0}.file-list-title{color:#fff}.file-item{border-color:#424242;background:#1e1e1e}.file-item.uploading{border-color:#64b5f6;background:#1a237e}.file-item.completed{border-color:#66bb6a;background:#1b5e20}.file-item.error{border-color:#ef5350;background:#b71c1c}.file-icon{background:#2d2d2d}.file-icon .file-type-icon{color:#b0b0b0}.file-info .file-name{color:#fff}.file-info .file-details .file-size,.file-info .file-details .file-type,.file-info .file-status .status-text{color:#b0b0b0}.file-info .file-status .progress-text{color:#64b5f6}.file-info .error-message{color:#ef5350}}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1$2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "pipe", type: i1$2.DecimalPipe, name: "number" }, { kind: "pipe", type: i1$2.TitleCasePipe, name: "titlecase" }, { kind: "ngmodule", type: MatIconModule }, { kind: "ngmodule", type: MatButtonModule }, { kind: "ngmodule", type: MatProgressBarModule }, { kind: "component", type: i2$5.MatProgressBar, selector: "mat-progress-bar", inputs: ["color", "value", "bufferValue", "mode"], outputs: ["animationEnd"], exportAs: ["matProgressBar"] }, { kind: "ngmodule", type: MatCardModule }, { kind: "component", type: i3$2.MatCard, selector: "mat-card", inputs: ["appearance"], exportAs: ["matCard"] }, { kind: "ngmodule", type: MatTooltipModule }, { kind: "component", type: IconComponent, selector: "app-icon", inputs: ["fontSet", "fontIcon", "iconType", "icomoonClass", "size", "isBlink", "fontBold", "color", "class", "counter", "isCovered"], outputs: ["iconClick"] }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: UploadboxComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-uploadbox', standalone: true, imports: [
                        CommonModule,
                        MatIconModule,
                        MatButtonModule,
                        MatProgressBarModule,
                        MatCardModule,
                        MatTooltipModule,
                        IconComponent,
                        AppButtonComponent
                    ], template: "<div class=\"uploadbox-container\">\n  <!-- Drag and Drop Area -->\n  <div \n    class=\"upload-area\"\n    [class.drag-over]=\"isDragOver\"\n    [class.disabled]=\"!dragDropEnabled\"\n    (dragover)=\"onDragOver($event)\"\n    (dragleave)=\"onDragLeave($event)\"\n    (drop)=\"onDrop($event)\"\n    (click)=\"fileInput.click()\">\n    \n    <div class=\"upload-content\">\n      <app-icon \n        [fontIcon]=\"'cloud_upload'\" \n        class=\"upload-icon\">\n      </app-icon>\n      \n      <h3 class=\"upload-title\">{{ placeholder }}</h3>\n      \n      <p class=\"upload-subtitle\">\n        Maximum file size: {{ formatFileSize(maxFileSize) }} | \n        Max files: {{ maxFiles }}\n      </p>\n      \n      <app-button\n        type=\"button\"\n        appearance=\"raised\"\n        [text]=\"buttonText\"\n        (btnClick)=\"fileInput.click(); $event.stopPropagation()\"\n        class=\"upload-button\">\n        <app-icon [fontIcon]=\"'add'\" class=\"button-icon\"></app-icon>\n      </app-button>\n      \n      <input \n        #fileInput\n        type=\"file\"\n        [multiple]=\"multiple\"\n        [accept]=\"accept\"\n        (change)=\"onFileSelected($event)\"\n        style=\"display: none;\">\n    </div>\n  </div>\n\n  <!-- File List -->\n  <div class=\"file-list\" *ngIf=\"uploadedFiles.length > 0\">\n    <h4 class=\"file-list-title\">Uploaded Files ({{ uploadedFiles.length }}/{{ maxFiles }})</h4>\n    \n    <div class=\"file-items\">\n      <mat-card \n        *ngFor=\"let file of uploadedFiles\" \n        class=\"file-item\"\n        [class.uploading]=\"file.status === 'uploading'\"\n        [class.completed]=\"file.status === 'completed'\"\n        [class.error]=\"file.status === 'error'\">\n        \n        <div class=\"file-content\">\n          <!-- File Icon -->\n          <div class=\"file-icon\">\n            <app-icon \n              [fontIcon]=\"getFileIcon(file.type)\" \n              class=\"file-type-icon\">\n            </app-icon>\n          </div>\n          \n          <!-- File Info -->\n          <div class=\"file-info\">\n            <div class=\"file-name\">{{ file.name }}</div>\n            <div class=\"file-details\">\n              <span class=\"file-size\">{{ formatFileSize(file.size) }}</span>\n              <span class=\"file-type\">{{ file.type }}</span>\n            </div>\n            \n            <!-- Progress Bar -->\n            <mat-progress-bar \n              *ngIf=\"file.status === 'uploading'\"\n              [value]=\"file.progress || 0\"\n              class=\"upload-progress\">\n            </mat-progress-bar>\n            \n            <!-- Status -->\n            <div class=\"file-status\">\n              <span \n                class=\"status-indicator\"\n                [style.background-color]=\"getFileStatusColor(file.status)\">\n              </span>\n              <span class=\"status-text\">{{ file.status | titlecase }}</span>\n              <span *ngIf=\"file.progress && file.status === 'uploading'\" class=\"progress-text\">\n                {{ file.progress | number:'1.0-0' }}%\n              </span>\n            </div>\n            \n            <!-- Error Message -->\n            <div *ngIf=\"file.error\" class=\"error-message\">\n              {{ file.error }}\n            </div>\n          </div>\n          \n          <!-- Actions -->\n          <div class=\"file-actions\">\n            <!-- Preview Button -->\n            <app-button\n              *ngIf=\"showPreview && file.url && file.status === 'completed'\"\n              type=\"button\"\n              appearance=\"icon\"\n              fontIcon=\"visibility\"\n              (btnClick)=\"previewFile(file)\"\n              class=\"preview-button\">\n            </app-button>\n            \n            <!-- Remove Button -->\n            <app-button\n              type=\"button\"\n              appearance=\"icon\"\n              fontIcon=\"delete\"\n              (btnClick)=\"removeFile(file)\"\n              class=\"remove-button\">\n            </app-button>\n          </div>\n        </div>\n      </mat-card>\n    </div>\n    \n    <!-- Upload All Button -->\n    <div class=\"upload-actions\" *ngIf=\"hasPendingFiles()\">\n      <app-button\n        type=\"button\"\n        appearance=\"raised\"\n        text=\"Upload All Files\"\n        [disabled]=\"isUploading\"\n        (btnClick)=\"uploadAll()\"\n        class=\"upload-all-button\">\n        <app-icon [fontIcon]=\"'cloud_upload'\" class=\"button-icon\"></app-icon>\n      </app-button>\n    </div>\n  </div>\n</div> ", styles: [".uploadbox-container{width:100%;max-width:800px;margin:0 auto}.upload-area{border:2px dashed #e0e0e0;border-radius:12px;padding:40px 20px;text-align:center;background:#fafafa;transition:all .3s ease;cursor:pointer;margin-bottom:20px}.upload-area:hover{border-color:#2196f3;background:#f3f8ff}.upload-area.drag-over{border-color:#2196f3;background:#e3f2fd;transform:scale(1.02)}.upload-area.disabled{opacity:.6;cursor:not-allowed}.upload-area.disabled:hover{border-color:#e0e0e0;background:#fafafa;transform:none}.upload-content .upload-icon{font-size:48px;color:#2196f3;margin-bottom:16px}.upload-content .upload-title{margin:0 0 8px;font-size:18px;font-weight:500;color:#333}.upload-content .upload-subtitle{margin:0 0 24px;font-size:14px;color:#666;line-height:1.4}.upload-content .upload-button .button-icon{margin-right:8px}.file-list .file-list-title{margin:0 0 16px;font-size:16px;font-weight:500;color:#333}.file-items{display:flex;flex-direction:column;gap:12px;max-height:18em;overflow-y:scroll;overflow-x:hidden;padding-right:.5em}.file-item{border:1px solid #e0e0e0;border-radius:8px;transition:all .3s ease}.file-item:hover{box-shadow:0 2px 8px #0000001a}.file-item.uploading{border-color:#2196f3;background:#f3f8ff}.file-item.completed{border-color:#4caf50;background:#f1f8e9}.file-item.error{border-color:#f44336;background:#ffebee}.file-content{display:flex;align-items:center;gap:16px;padding:16px}.file-icon{flex-shrink:0;width:48px;height:48px;border-radius:8px;background:#f5f5f5;display:flex;align-items:center;justify-content:center}.file-icon .file-type-icon{font-size:24px;color:#666}.file-info{flex:1;min-width:0}.file-info .file-name{font-size:14px;font-weight:500;color:#333;margin-bottom:4px;word-break:break-word}.file-info .file-details{display:flex;gap:16px;margin-bottom:8px}.file-info .file-details .file-size,.file-info .file-details .file-type{font-size:12px;color:#666}.file-info .upload-progress{margin-bottom:8px}.file-info .file-status{display:flex;align-items:center;gap:8px}.file-info .file-status .status-indicator{width:8px;height:8px;border-radius:50%}.file-info .file-status .status-text{font-size:12px;font-weight:500;color:#666}.file-info .file-status .progress-text{font-size:12px;color:#2196f3;font-weight:500}.file-info .error-message{font-size:12px;color:#f44336;margin-top:4px}.file-actions{display:flex;gap:8px;flex-shrink:0}.file-actions .preview-button,.file-actions .remove-button{width:32px;height:32px;line-height:32px}.file-actions .preview-button ::ng-deep .mat-icon,.file-actions .remove-button ::ng-deep .mat-icon{font-size:18px}.file-actions .preview-button{color:#2196f3}.file-actions .remove-button{color:#f44336}.upload-actions{margin-top:20px;text-align:center}.upload-actions .button-icon{margin-right:8px}@media (max-width: 768px){.uploadbox-container{padding:0 16px}.upload-area{padding:24px 16px}.upload-area .upload-content .upload-icon{font-size:36px}.upload-area .upload-content .upload-title{font-size:16px}.upload-area .upload-content .upload-subtitle{font-size:13px}.file-content{padding:12px;gap:12px}.file-icon{width:40px;height:40px}.file-icon .file-type-icon{font-size:20px}.file-info .file-name{font-size:13px}.file-info .file-details{font-size:11px}.file-actions .preview-button,.file-actions .remove-button{width:28px;height:28px;line-height:28px}.file-actions .preview-button ::ng-deep .mat-icon,.file-actions .remove-button ::ng-deep .mat-icon{font-size:16px}}@media (prefers-color-scheme: dark){.upload-area{border-color:#424242;background:#1e1e1e}.upload-area:hover{border-color:#64b5f6;background:#1a237e}.upload-area.drag-over{border-color:#64b5f6;background:#0d47a1}.upload-content .upload-icon{color:#64b5f6}.upload-content .upload-title{color:#fff}.upload-content .upload-subtitle{color:#b0b0b0}.file-list-title{color:#fff}.file-item{border-color:#424242;background:#1e1e1e}.file-item.uploading{border-color:#64b5f6;background:#1a237e}.file-item.completed{border-color:#66bb6a;background:#1b5e20}.file-item.error{border-color:#ef5350;background:#b71c1c}.file-icon{background:#2d2d2d}.file-icon .file-type-icon{color:#b0b0b0}.file-info .file-name{color:#fff}.file-info .file-details .file-size,.file-info .file-details .file-type,.file-info .file-status .status-text{color:#b0b0b0}.file-info .file-status .progress-text{color:#64b5f6}.file-info .error-message{color:#ef5350}}\n"] }]
        }], propDecorators: { multiple: [{
                type: Input
            }], accept: [{
                type: Input
            }], maxFileSize: [{
                type: Input
            }], maxFiles: [{
                type: Input
            }], uploadUrl: [{
                type: Input
            }], autoUpload: [{
                type: Input
            }], showPreview: [{
                type: Input
            }], dragDropEnabled: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], buttonText: [{
                type: Input
            }], filesSelected: [{
                type: Output
            }], fileUploaded: [{
                type: Output
            }], uploadComplete: [{
                type: Output
            }], uploadError: [{
                type: Output
            }], fileRemoved: [{
                type: Output
            }] } });

class PageBodyDirective {
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PageBodyDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "17.3.12", type: PageBodyDirective, isStandalone: true, selector: "[page-body]", ngImport: i0 }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PageBodyDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[page-body]',
                    standalone: true
                }]
        }] });

class FooterDirective {
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: FooterDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "17.3.12", type: FooterDirective, isStandalone: true, selector: "[footer]", ngImport: i0 }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: FooterDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[footer]',
                    standalone: true
                }]
        }] });

class PageComponent {
    constructor(coreEvent) {
        this.coreEvent = coreEvent;
        this.breadcrumb = null;
        this.isFooter = false;
    }
    ngOnChanges(changes) {
        if ('breadcrumb' in changes) {
            this.syncBreadcrumb();
        }
    }
    ngOnDestroy() {
        this.coreEvent.clearBreadcrumb();
    }
    syncBreadcrumb() {
        if (this.breadcrumb && this.breadcrumb.length > 0) {
            this.coreEvent.setBreadcrumb(this.breadcrumb);
        }
        else {
            this.coreEvent.clearBreadcrumb();
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PageComponent, deps: [{ token: CoreEventService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: PageComponent, isStandalone: true, selector: "app-page", inputs: { breadcrumb: "breadcrumb", isFooter: "isFooter" }, queries: [{ propertyName: "pageBodyTemplate", first: true, predicate: ["pageBody"], descendants: true }, { propertyName: "footerTemplate", first: true, predicate: ["footer"], descendants: true }], usesOnChanges: true, ngImport: i0, template: "<div class=\"page-container\">\n  <!-- Page Body Content -->\n  <div class=\"page-body\" [attr.page-body]=\"true\">\n    @if (pageBodyTemplate) {\n      <ng-container *ngTemplateOutlet=\"pageBodyTemplate\"></ng-container>\n    } @else {\n      <ng-content select=\"[page-body]\"></ng-content>\n    }\n  </div>\n\n  <!-- Footer Content -->\n  @if (isFooter) {\n    <div class=\"page-footer\" [attr.footer]=\"true\">\n      @if (footerTemplate) {\n        <ng-container *ngTemplateOutlet=\"footerTemplate\"></ng-container>\n      } @else {\n        <ng-content select=\"[footer]\"></ng-content>\n      }\n    </div>\n  }\n</div>\n\n", styles: [".page-container{display:flex;flex-direction:column;height:100%;width:100%}.breadcrumb-nav{padding:12px 16px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0}.breadcrumb-list{display:flex;align-items:center;list-style:none;margin:0;padding:0;flex-wrap:wrap;gap:4px}.breadcrumb-item{display:flex;align-items:center;gap:4px}.breadcrumb-link{display:flex;align-items:center;gap:4px;color:#1976d2;text-decoration:none;font-size:14px;transition:color .2s}.breadcrumb-link:hover{color:#1565c0;text-decoration:underline}.breadcrumb-current{display:flex;align-items:center;gap:4px;color:#424242;font-size:14px;font-weight:500}.breadcrumb-icon{font-size:16px;width:16px;height:16px}.breadcrumb-separator{margin:0 8px;color:#9e9e9e;font-size:14px}.page-body{flex:1;overflow-y:auto}.page-footer{padding:16px;background-color:#fafafa;border-top:1px solid #e0e0e0}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "ngmodule", type: MatIconModule }, { kind: "ngmodule", type: MatButtonModule }, { kind: "ngmodule", type: RouterModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PageComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-page', standalone: true, imports: [CommonModule, MatIconModule, MatButtonModule, RouterModule, IconComponent, PageBodyDirective, FooterDirective], template: "<div class=\"page-container\">\n  <!-- Page Body Content -->\n  <div class=\"page-body\" [attr.page-body]=\"true\">\n    @if (pageBodyTemplate) {\n      <ng-container *ngTemplateOutlet=\"pageBodyTemplate\"></ng-container>\n    } @else {\n      <ng-content select=\"[page-body]\"></ng-content>\n    }\n  </div>\n\n  <!-- Footer Content -->\n  @if (isFooter) {\n    <div class=\"page-footer\" [attr.footer]=\"true\">\n      @if (footerTemplate) {\n        <ng-container *ngTemplateOutlet=\"footerTemplate\"></ng-container>\n      } @else {\n        <ng-content select=\"[footer]\"></ng-content>\n      }\n    </div>\n  }\n</div>\n\n", styles: [".page-container{display:flex;flex-direction:column;height:100%;width:100%}.breadcrumb-nav{padding:12px 16px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0}.breadcrumb-list{display:flex;align-items:center;list-style:none;margin:0;padding:0;flex-wrap:wrap;gap:4px}.breadcrumb-item{display:flex;align-items:center;gap:4px}.breadcrumb-link{display:flex;align-items:center;gap:4px;color:#1976d2;text-decoration:none;font-size:14px;transition:color .2s}.breadcrumb-link:hover{color:#1565c0;text-decoration:underline}.breadcrumb-current{display:flex;align-items:center;gap:4px;color:#424242;font-size:14px;font-weight:500}.breadcrumb-icon{font-size:16px;width:16px;height:16px}.breadcrumb-separator{margin:0 8px;color:#9e9e9e;font-size:14px}.page-body{flex:1;overflow-y:auto}.page-footer{padding:16px;background-color:#fafafa;border-top:1px solid #e0e0e0}\n"] }]
        }], ctorParameters: () => [{ type: CoreEventService }], propDecorators: { breadcrumb: [{
                type: Input
            }], isFooter: [{
                type: Input
            }], pageBodyTemplate: [{
                type: ContentChild,
                args: ['pageBody']
            }], footerTemplate: [{
                type: ContentChild,
                args: ['footer']
            }] } });

class GridListFiltersComponent {
    constructor() {
        this.fields = [];
        this.operators = [];
        this.operatorsMap = {};
        this.valuesMap = {};
        this.title = 'Filter Data';
        this.buttonText = 'Filter';
        this.buttonIcon = 'filter_list';
        this.filtersApplied = new EventEmitter();
        this.filtersCleared = new EventEmitter();
        this.dialog = inject(MatDialog);
        this.dialogboxService = inject(DialogboxService);
        this.appliedFiltersCount = 0;
    }
    openFiltersDialog() {
        const dialogRef = this.dialogboxService.openDialog(FilterComponent, {
            title: this.title,
            width: '600px',
            data: {
                fields: this.fields,
                operators: this.operators,
                operatorsMap: this.operatorsMap,
                valuesMap: this.valuesMap,
                title: this.title
            }
        });
        dialogRef.afterClosed().subscribe((result) => {
            if (result && result.filters) {
                this.appliedFiltersCount = result.filters.length;
                this.filtersApplied.emit(result.filters);
            }
        });
    }
    clearFilters() {
        this.appliedFiltersCount = 0;
        this.filtersCleared.emit();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: GridListFiltersComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: GridListFiltersComponent, isStandalone: true, selector: "app-grid-list-filters", inputs: { fields: "fields", operators: "operators", operatorsMap: "operatorsMap", valuesMap: "valuesMap", title: "title", buttonText: "buttonText", buttonIcon: "buttonIcon" }, outputs: { filtersApplied: "filtersApplied", filtersCleared: "filtersCleared" }, ngImport: i0, template: "<div class=\"grid-filters-container\">\n  <app-button\n    [text]=\"buttonText\"\n    [fontIcon]=\"buttonIcon\"\n    appearance=\"raised\"\n    color=\"primary\"\n    (btnClick)=\"openFiltersDialog()\"\n    [class]=\"'filter-button'\"\n  ></app-button>\n  \n  @if (appliedFiltersCount > 0) {\n    <span class=\"filter-badge\">{{ appliedFiltersCount }}</span>\n    <app-button\n      text=\"Clear\"\n      fontIcon=\"clear\"\n      appearance=\"flat\"\n      color=\"warn\"\n      (btnClick)=\"clearFilters()\"\n      [class]=\"'clear-button'\"\n    ></app-button>\n  }\n</div>\n\n", styles: [".grid-filters-container{display:flex;align-items:center;gap:8px}.filter-button{margin-right:8px}.filter-badge{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;background-color:#f44336;color:#fff;border-radius:10px;font-size:12px;font-weight:500}.clear-button{margin-left:4px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatButtonModule }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: GridListFiltersComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-grid-list-filters', standalone: true, imports: [CommonModule, MatButtonModule, MatIconModule, AppButtonComponent], template: "<div class=\"grid-filters-container\">\n  <app-button\n    [text]=\"buttonText\"\n    [fontIcon]=\"buttonIcon\"\n    appearance=\"raised\"\n    color=\"primary\"\n    (btnClick)=\"openFiltersDialog()\"\n    [class]=\"'filter-button'\"\n  ></app-button>\n  \n  @if (appliedFiltersCount > 0) {\n    <span class=\"filter-badge\">{{ appliedFiltersCount }}</span>\n    <app-button\n      text=\"Clear\"\n      fontIcon=\"clear\"\n      appearance=\"flat\"\n      color=\"warn\"\n      (btnClick)=\"clearFilters()\"\n      [class]=\"'clear-button'\"\n    ></app-button>\n  }\n</div>\n\n", styles: [".grid-filters-container{display:flex;align-items:center;gap:8px}.filter-button{margin-right:8px}.filter-badge{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;background-color:#f44336;color:#fff;border-radius:10px;font-size:12px;font-weight:500}.clear-button{margin-left:4px}\n"] }]
        }], propDecorators: { fields: [{
                type: Input
            }], operators: [{
                type: Input
            }], operatorsMap: [{
                type: Input
            }], valuesMap: [{
                type: Input
            }], title: [{
                type: Input
            }], buttonText: [{
                type: Input
            }], buttonIcon: [{
                type: Input
            }], filtersApplied: [{
                type: Output
            }], filtersCleared: [{
                type: Output
            }] } });

class DividerComponent {
    constructor() {
        this.vertical = false;
        this.spacing = 'medium';
        this.color = '#e0e0e0';
        this.thickness = '1px';
        this.margin = '16px 0';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DividerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: DividerComponent, isStandalone: true, selector: "app-divider", inputs: { vertical: "vertical", spacing: "spacing", color: "color", thickness: "thickness", margin: "margin" }, ngImport: i0, template: "<div \n  class=\"divider\" \n  [class.vertical]=\"vertical\"\n  [class.horizontal]=\"!vertical\"\n  [class.spacing-small]=\"spacing === 'small'\"\n  [class.spacing-medium]=\"spacing === 'medium'\"\n  [class.spacing-large]=\"spacing === 'large'\"\n  [style.border-color]=\"color\"\n  [style.border-width]=\"thickness\"\n  [style.margin]=\"margin\"\n></div>\n\n", styles: [".divider{display:block;border:none}.divider.horizontal{width:100%;border-top:1px solid #e0e0e0;margin:16px 0}.divider.vertical{width:1px;height:100%;border-left:1px solid #e0e0e0;margin:0 16px;display:inline-block}.spacing-small.horizontal{margin:8px 0}.spacing-small.vertical{margin:0 8px}.spacing-medium.horizontal{margin:16px 0}.spacing-medium.vertical{margin:0 16px}.spacing-large.horizontal{margin:24px 0}.spacing-large.vertical{margin:0 24px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: DividerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-divider', standalone: true, imports: [CommonModule], template: "<div \n  class=\"divider\" \n  [class.vertical]=\"vertical\"\n  [class.horizontal]=\"!vertical\"\n  [class.spacing-small]=\"spacing === 'small'\"\n  [class.spacing-medium]=\"spacing === 'medium'\"\n  [class.spacing-large]=\"spacing === 'large'\"\n  [style.border-color]=\"color\"\n  [style.border-width]=\"thickness\"\n  [style.margin]=\"margin\"\n></div>\n\n", styles: [".divider{display:block;border:none}.divider.horizontal{width:100%;border-top:1px solid #e0e0e0;margin:16px 0}.divider.vertical{width:1px;height:100%;border-left:1px solid #e0e0e0;margin:0 16px;display:inline-block}.spacing-small.horizontal{margin:8px 0}.spacing-small.vertical{margin:0 8px}.spacing-medium.horizontal{margin:16px 0}.spacing-medium.vertical{margin:0 16px}.spacing-large.horizontal{margin:24px 0}.spacing-large.vertical{margin:0 24px}\n"] }]
        }], propDecorators: { vertical: [{
                type: Input
            }], spacing: [{
                type: Input
            }], color: [{
                type: Input
            }], thickness: [{
                type: Input
            }], margin: [{
                type: Input
            }] } });

class LoaderComponent {
    constructor() {
        this.type = 'spinner';
        this.mode = 'indeterminate';
        this.value = 0;
        this.diameter = 50;
        this.strokeWidth = 4;
        this.color = 'primary';
        this.message = '';
        this.overlay = false;
        this.fullScreen = false;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: LoaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: LoaderComponent, isStandalone: true, selector: "app-loader", inputs: { type: "type", mode: "mode", value: "value", diameter: "diameter", strokeWidth: "strokeWidth", color: "color", message: "message", overlay: "overlay", fullScreen: "fullScreen" }, ngImport: i0, template: "@if (overlay || fullScreen) {\n  <div class=\"loader-overlay\" [class.full-screen]=\"fullScreen\">\n    <div class=\"loader-content\">\n      @if (type === 'spinner' || type === 'circular') {\n        <mat-spinner\n          [diameter]=\"diameter\"\n          [strokeWidth]=\"strokeWidth\"\n          [color]=\"color\"\n          [mode]=\"mode\"\n          [value]=\"value\"\n        ></mat-spinner>\n      } @else if (type === 'bar') {\n        <mat-progress-bar\n          [mode]=\"mode\"\n          [value]=\"value\"\n          [color]=\"color\"\n        ></mat-progress-bar>\n      }\n      @if (message) {\n        <p class=\"loader-message\">{{ message }}</p>\n      }\n    </div>\n  </div>\n} @else {\n  <div class=\"loader-inline\">\n    @if (type === 'spinner' || type === 'circular') {\n      <mat-spinner\n        [diameter]=\"diameter\"\n        [strokeWidth]=\"strokeWidth\"\n        [color]=\"color\"\n        [mode]=\"mode\"\n        [value]=\"value\"\n      ></mat-spinner>\n    } @else if (type === 'bar') {\n      <mat-progress-bar\n        [mode]=\"mode\"\n        [value]=\"value\"\n        [color]=\"color\"\n      ></mat-progress-bar>\n    }\n    @if (message) {\n      <p class=\"loader-message\">{{ message }}</p>\n    }\n  </div>\n}\n\n", styles: [".loader-overlay{position:absolute;inset:0;background-color:#fffc;display:flex;align-items:center;justify-content:center;z-index:1000}.loader-overlay.full-screen{position:fixed;inset:0;background-color:#00000080}.loader-content{display:flex;flex-direction:column;align-items:center;gap:16px}.loader-inline{display:flex;flex-direction:column;align-items:center;gap:16px;padding:16px}.loader-message{margin:0;color:#424242;font-size:14px;text-align:center}.loader-overlay.full-screen .loader-message{color:#fff}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatProgressSpinnerModule }, { kind: "component", type: i1$4.MatProgressSpinner, selector: "mat-progress-spinner, mat-spinner", inputs: ["color", "mode", "value", "diameter", "strokeWidth"], exportAs: ["matProgressSpinner"] }, { kind: "ngmodule", type: MatProgressBarModule }, { kind: "component", type: i2$5.MatProgressBar, selector: "mat-progress-bar", inputs: ["color", "value", "bufferValue", "mode"], outputs: ["animationEnd"], exportAs: ["matProgressBar"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: LoaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-loader', standalone: true, imports: [CommonModule, MatProgressSpinnerModule, MatProgressBarModule], template: "@if (overlay || fullScreen) {\n  <div class=\"loader-overlay\" [class.full-screen]=\"fullScreen\">\n    <div class=\"loader-content\">\n      @if (type === 'spinner' || type === 'circular') {\n        <mat-spinner\n          [diameter]=\"diameter\"\n          [strokeWidth]=\"strokeWidth\"\n          [color]=\"color\"\n          [mode]=\"mode\"\n          [value]=\"value\"\n        ></mat-spinner>\n      } @else if (type === 'bar') {\n        <mat-progress-bar\n          [mode]=\"mode\"\n          [value]=\"value\"\n          [color]=\"color\"\n        ></mat-progress-bar>\n      }\n      @if (message) {\n        <p class=\"loader-message\">{{ message }}</p>\n      }\n    </div>\n  </div>\n} @else {\n  <div class=\"loader-inline\">\n    @if (type === 'spinner' || type === 'circular') {\n      <mat-spinner\n        [diameter]=\"diameter\"\n        [strokeWidth]=\"strokeWidth\"\n        [color]=\"color\"\n        [mode]=\"mode\"\n        [value]=\"value\"\n      ></mat-spinner>\n    } @else if (type === 'bar') {\n      <mat-progress-bar\n        [mode]=\"mode\"\n        [value]=\"value\"\n        [color]=\"color\"\n      ></mat-progress-bar>\n    }\n    @if (message) {\n      <p class=\"loader-message\">{{ message }}</p>\n    }\n  </div>\n}\n\n", styles: [".loader-overlay{position:absolute;inset:0;background-color:#fffc;display:flex;align-items:center;justify-content:center;z-index:1000}.loader-overlay.full-screen{position:fixed;inset:0;background-color:#00000080}.loader-content{display:flex;flex-direction:column;align-items:center;gap:16px}.loader-inline{display:flex;flex-direction:column;align-items:center;gap:16px;padding:16px}.loader-message{margin:0;color:#424242;font-size:14px;text-align:center}.loader-overlay.full-screen .loader-message{color:#fff}\n"] }]
        }], propDecorators: { type: [{
                type: Input
            }], mode: [{
                type: Input
            }], value: [{
                type: Input
            }], diameter: [{
                type: Input
            }], strokeWidth: [{
                type: Input
            }], color: [{
                type: Input
            }], message: [{
                type: Input
            }], overlay: [{
                type: Input
            }], fullScreen: [{
                type: Input
            }] } });

class JsonReflectComponent {
    constructor() {
        this.json = {};
        this.editable = true;
        this.showControls = true;
        this.height = '400px';
        this.jsonChange = new EventEmitter();
        this.save = new EventEmitter();
        this.cancel = new EventEmitter();
        this.jsonString = '';
        this.isEditing = false;
        this.errorMessage = '';
    }
    ngOnInit() {
        this.updateJsonString();
    }
    ngOnChanges(changes) {
        if (changes['json'] && !this.isEditing) {
            this.updateJsonString();
        }
    }
    updateJsonString() {
        try {
            this.jsonString = JSON.stringify(this.json, null, 2);
            this.errorMessage = '';
        }
        catch (error) {
            this.jsonString = '';
            this.errorMessage = 'Invalid JSON';
        }
    }
    toggleEdit() {
        if (this.editable) {
            this.isEditing = !this.isEditing;
            if (!this.isEditing) {
                this.updateJsonString();
            }
        }
    }
    onJsonChange() {
        try {
            const parsed = JSON.parse(this.jsonString);
            this.json = parsed;
            this.errorMessage = '';
            this.jsonChange.emit(parsed);
        }
        catch (error) {
            this.errorMessage = 'Invalid JSON format';
        }
    }
    onSave() {
        try {
            const parsed = JSON.parse(this.jsonString);
            this.json = parsed;
            this.errorMessage = '';
            this.isEditing = false;
            this.save.emit(parsed);
        }
        catch (error) {
            this.errorMessage = 'Invalid JSON format. Cannot save.';
        }
    }
    onCancel() {
        this.updateJsonString();
        this.isEditing = false;
        this.errorMessage = '';
        this.cancel.emit();
    }
    formatJson() {
        try {
            const parsed = JSON.parse(this.jsonString);
            this.jsonString = JSON.stringify(parsed, null, 2);
            this.errorMessage = '';
        }
        catch (error) {
            this.errorMessage = 'Invalid JSON format';
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: JsonReflectComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: JsonReflectComponent, isStandalone: true, selector: "app-json-reflect", inputs: { json: "json", editable: "editable", showControls: "showControls", height: "height" }, outputs: { jsonChange: "jsonChange", save: "save", cancel: "cancel" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"json-reflect-container\" [style.height]=\"height\">\n  @if (showControls && editable) {\n    <div class=\"json-controls\">\n      @if (!isEditing) {\n        <app-button\n          text=\"Edit\"\n          fontIcon=\"edit\"\n          appearance=\"raised\"\n          color=\"primary\"\n          (btnClick)=\"toggleEdit()\"\n        ></app-button>\n      } @else {\n        <app-button\n          text=\"Save\"\n          fontIcon=\"save\"\n          appearance=\"raised\"\n          color=\"primary\"\n          (btnClick)=\"onSave()\"\n        ></app-button>\n        <app-button\n          text=\"Cancel\"\n          fontIcon=\"cancel\"\n          appearance=\"flat\"\n          color=\"warn\"\n          (btnClick)=\"onCancel()\"\n        ></app-button>\n        <app-button\n          text=\"Format\"\n          fontIcon=\"code\"\n          appearance=\"flat\"\n          (btnClick)=\"formatJson()\"\n        ></app-button>\n      }\n    </div>\n  }\n\n  @if (errorMessage) {\n    <div class=\"error-message\">{{ errorMessage }}</div>\n  }\n\n  @if (isEditing && editable) {\n    <textarea\n      class=\"json-editor\"\n      [(ngModel)]=\"jsonString\"\n      (input)=\"onJsonChange()\"\n      placeholder=\"Enter JSON here...\"\n    ></textarea>\n  } @else {\n    <pre class=\"json-viewer\">{{ jsonString }}</pre>\n  }\n</div>\n\n", styles: [".json-reflect-container{display:flex;flex-direction:column;border:1px solid #e0e0e0;border-radius:4px;overflow:hidden}.json-controls{display:flex;gap:8px;padding:8px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0}.error-message{padding:8px 16px;background-color:#ffebee;color:#c62828;font-size:14px;border-bottom:1px solid #e0e0e0}.json-editor{flex:1;padding:16px;font-family:Courier New,monospace;font-size:14px;line-height:1.5;border:none;outline:none;resize:none;background-color:#fafafa}.json-viewer{flex:1;padding:16px;margin:0;font-family:Courier New,monospace;font-size:14px;line-height:1.5;overflow:auto;background-color:#fafafa;white-space:pre-wrap;word-wrap:break-word}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i1$3.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1$3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1$3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: MatButtonModule }, { kind: "ngmodule", type: MatIconModule }, { kind: "ngmodule", type: MatInputModule }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: JsonReflectComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-json-reflect', standalone: true, imports: [
                        CommonModule,
                        FormsModule,
                        MatButtonModule,
                        MatIconModule,
                        MatInputModule,
                        MatFormFieldModule,
                        AppButtonComponent
                    ], template: "<div class=\"json-reflect-container\" [style.height]=\"height\">\n  @if (showControls && editable) {\n    <div class=\"json-controls\">\n      @if (!isEditing) {\n        <app-button\n          text=\"Edit\"\n          fontIcon=\"edit\"\n          appearance=\"raised\"\n          color=\"primary\"\n          (btnClick)=\"toggleEdit()\"\n        ></app-button>\n      } @else {\n        <app-button\n          text=\"Save\"\n          fontIcon=\"save\"\n          appearance=\"raised\"\n          color=\"primary\"\n          (btnClick)=\"onSave()\"\n        ></app-button>\n        <app-button\n          text=\"Cancel\"\n          fontIcon=\"cancel\"\n          appearance=\"flat\"\n          color=\"warn\"\n          (btnClick)=\"onCancel()\"\n        ></app-button>\n        <app-button\n          text=\"Format\"\n          fontIcon=\"code\"\n          appearance=\"flat\"\n          (btnClick)=\"formatJson()\"\n        ></app-button>\n      }\n    </div>\n  }\n\n  @if (errorMessage) {\n    <div class=\"error-message\">{{ errorMessage }}</div>\n  }\n\n  @if (isEditing && editable) {\n    <textarea\n      class=\"json-editor\"\n      [(ngModel)]=\"jsonString\"\n      (input)=\"onJsonChange()\"\n      placeholder=\"Enter JSON here...\"\n    ></textarea>\n  } @else {\n    <pre class=\"json-viewer\">{{ jsonString }}</pre>\n  }\n</div>\n\n", styles: [".json-reflect-container{display:flex;flex-direction:column;border:1px solid #e0e0e0;border-radius:4px;overflow:hidden}.json-controls{display:flex;gap:8px;padding:8px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0}.error-message{padding:8px 16px;background-color:#ffebee;color:#c62828;font-size:14px;border-bottom:1px solid #e0e0e0}.json-editor{flex:1;padding:16px;font-family:Courier New,monospace;font-size:14px;line-height:1.5;border:none;outline:none;resize:none;background-color:#fafafa}.json-viewer{flex:1;padding:16px;margin:0;font-family:Courier New,monospace;font-size:14px;line-height:1.5;overflow:auto;background-color:#fafafa;white-space:pre-wrap;word-wrap:break-word}\n"] }]
        }], propDecorators: { json: [{
                type: Input
            }], editable: [{
                type: Input
            }], showControls: [{
                type: Input
            }], height: [{
                type: Input
            }], jsonChange: [{
                type: Output
            }], save: [{
                type: Output
            }], cancel: [{
                type: Output
            }] } });

class PdfViewerComponent {
    constructor(sanitizer) {
        this.sanitizer = sanitizer;
        this.src = null;
        this.height = '600px';
        this.width = '100%';
        this.showToolbar = true;
        this.downloadFileName = 'document.pdf';
        this.safeSrc = null;
        this.pdfUrl = '';
    }
    ngOnInit() {
        this.updatePdfSource();
    }
    ngOnChanges(changes) {
        if (changes['src']) {
            this.updatePdfSource();
        }
    }
    updatePdfSource() {
        if (!this.src) {
            this.safeSrc = null;
            this.pdfUrl = '';
            return;
        }
        if (typeof this.src === 'string') {
            this.pdfUrl = this.src;
            this.safeSrc = this.sanitizer.bypassSecurityTrustResourceUrl(this.src);
        }
        else if (this.src instanceof ArrayBuffer) {
            const blob = new Blob([this.src], { type: 'application/pdf' });
            const url = URL.createObjectURL(blob);
            this.pdfUrl = url;
            this.safeSrc = this.sanitizer.bypassSecurityTrustResourceUrl(url);
        }
    }
    downloadPdf() {
        if (this.pdfUrl) {
            const link = document.createElement('a');
            link.href = this.pdfUrl;
            link.download = this.downloadFileName;
            link.click();
        }
    }
    printPdf() {
        if (this.pdfUrl) {
            const printWindow = window.open(this.pdfUrl, '_blank');
            if (printWindow) {
                printWindow.onload = () => {
                    printWindow.print();
                };
            }
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PdfViewerComponent, deps: [{ token: i1$5.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: PdfViewerComponent, isStandalone: true, selector: "app-pdf-viewer", inputs: { src: "src", height: "height", width: "width", showToolbar: "showToolbar", downloadFileName: "downloadFileName" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"pdf-viewer-container\" [style.width]=\"width\" [style.height]=\"height\">\n  @if (showToolbar) {\n    <div class=\"pdf-toolbar\">\n      <app-button\n        text=\"Download\"\n        fontIcon=\"download\"\n        appearance=\"flat\"\n        color=\"primary\"\n        (btnClick)=\"downloadPdf()\"\n      ></app-button>\n      <app-button\n        text=\"Print\"\n        fontIcon=\"print\"\n        appearance=\"flat\"\n        color=\"primary\"\n        (btnClick)=\"printPdf()\"\n      ></app-button>\n    </div>\n  }\n\n  @if (safeSrc) {\n    <iframe\n      [src]=\"safeSrc\"\n      class=\"pdf-iframe\"\n      [style.height]=\"showToolbar ? 'calc(' + height + ' - 48px)' : height\"\n    ></iframe>\n  } @else {\n    <div class=\"pdf-placeholder\">\n      <p>No PDF to display</p>\n    </div>\n  }\n</div>\n\n", styles: [".pdf-viewer-container{display:flex;flex-direction:column;border:1px solid #e0e0e0;border-radius:4px;overflow:hidden}.pdf-toolbar{display:flex;gap:8px;padding:8px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0}.pdf-iframe{width:100%;border:none;flex:1}.pdf-placeholder{display:flex;align-items:center;justify-content:center;height:100%;color:#9e9e9e;font-size:16px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatButtonModule }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: PdfViewerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-pdf-viewer', standalone: true, imports: [CommonModule, MatButtonModule, MatIconModule, AppButtonComponent], template: "<div class=\"pdf-viewer-container\" [style.width]=\"width\" [style.height]=\"height\">\n  @if (showToolbar) {\n    <div class=\"pdf-toolbar\">\n      <app-button\n        text=\"Download\"\n        fontIcon=\"download\"\n        appearance=\"flat\"\n        color=\"primary\"\n        (btnClick)=\"downloadPdf()\"\n      ></app-button>\n      <app-button\n        text=\"Print\"\n        fontIcon=\"print\"\n        appearance=\"flat\"\n        color=\"primary\"\n        (btnClick)=\"printPdf()\"\n      ></app-button>\n    </div>\n  }\n\n  @if (safeSrc) {\n    <iframe\n      [src]=\"safeSrc\"\n      class=\"pdf-iframe\"\n      [style.height]=\"showToolbar ? 'calc(' + height + ' - 48px)' : height\"\n    ></iframe>\n  } @else {\n    <div class=\"pdf-placeholder\">\n      <p>No PDF to display</p>\n    </div>\n  }\n</div>\n\n", styles: [".pdf-viewer-container{display:flex;flex-direction:column;border:1px solid #e0e0e0;border-radius:4px;overflow:hidden}.pdf-toolbar{display:flex;gap:8px;padding:8px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0}.pdf-iframe{width:100%;border:none;flex:1}.pdf-placeholder{display:flex;align-items:center;justify-content:center;height:100%;color:#9e9e9e;font-size:16px}\n"] }]
        }], ctorParameters: () => [{ type: i1$5.DomSanitizer }], propDecorators: { src: [{
                type: Input
            }], height: [{
                type: Input
            }], width: [{
                type: Input
            }], showToolbar: [{
                type: Input
            }], downloadFileName: [{
                type: Input
            }] } });

class QrCodeGeneratorComponent {
    constructor() {
        this.data = '';
        this.size = 200;
        this.errorCorrectionLevel = 'M';
        this.showInput = true;
        this.showDownload = true;
        this.qrGenerated = new EventEmitter();
        this.qrCodeDataUrl = '';
        this.inputData = '';
    }
    ngOnInit() {
        this.inputData = this.data;
        if (this.data) {
            this.generateQRCode();
        }
    }
    ngOnChanges(changes) {
        if (changes['data'] && this.data) {
            this.inputData = this.data;
            this.generateQRCode();
        }
    }
    generateQRCode() {
        if (!this.inputData) {
            this.qrCodeDataUrl = '';
            return;
        }
        // Using a simple QR code generation approach
        // In production, you would use a library like 'qrcode' or 'angularx-qrcode'
        // For now, we'll use a QR code API service
        const qrApiUrl = `https://api.qrserver.com/v1/create-qr-code/?size=${this.size}x${this.size}&data=${encodeURIComponent(this.inputData)}&ecc=${this.errorCorrectionLevel}`;
        this.qrCodeDataUrl = qrApiUrl;
        this.qrGenerated.emit(this.qrCodeDataUrl);
    }
    onInputChange() {
        this.generateQRCode();
    }
    downloadQRCode() {
        if (this.qrCodeDataUrl) {
            const link = document.createElement('a');
            link.href = this.qrCodeDataUrl;
            link.download = 'qrcode.png';
            link.click();
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: QrCodeGeneratorComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: QrCodeGeneratorComponent, isStandalone: true, selector: "app-qr-code-generator", inputs: { data: "data", size: "size", errorCorrectionLevel: "errorCorrectionLevel", showInput: "showInput", showDownload: "showDownload" }, outputs: { qrGenerated: "qrGenerated" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"qr-code-container\">\n  @if (showInput) {\n    <div class=\"qr-input-section\">\n      <mat-form-field appearance=\"outline\" class=\"full-width\">\n        <mat-label>Enter data for QR code</mat-label>\n        <input\n          matInput\n          [(ngModel)]=\"inputData\"\n          (ngModelChange)=\"onInputChange()\"\n          placeholder=\"Enter text or URL\"\n        />\n      </mat-form-field>\n    </div>\n  }\n\n  @if (qrCodeDataUrl) {\n    <div class=\"qr-code-display\">\n      <img [src]=\"qrCodeDataUrl\" [style.width.px]=\"size\" [style.height.px]=\"size\" alt=\"QR Code\" />\n    </div>\n  } @else {\n    <div class=\"qr-placeholder\">\n      <p>Enter data to generate QR code</p>\n    </div>\n  }\n\n  @if (showDownload && qrCodeDataUrl) {\n    <div class=\"qr-actions\">\n      <app-button\n        text=\"Download\"\n        fontIcon=\"download\"\n        appearance=\"raised\"\n        color=\"primary\"\n        (btnClick)=\"downloadQRCode()\"\n      ></app-button>\n    </div>\n  }\n</div>\n\n", styles: [".qr-code-container{display:flex;flex-direction:column;align-items:center;gap:16px;padding:16px}.qr-input-section{width:100%;max-width:400px}.full-width{width:100%}.qr-code-display{display:flex;justify-content:center;align-items:center;padding:16px;background-color:#fff;border:1px solid #e0e0e0;border-radius:4px}.qr-placeholder{padding:32px;text-align:center;color:#9e9e9e}.qr-actions{display:flex;gap:8px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatButtonModule }, { kind: "ngmodule", type: MatInputModule }, { kind: "directive", type: i4.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i2$1.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i2$1.MatLabel, selector: "mat-label" }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i1$3.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1$3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1$3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: QrCodeGeneratorComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-qr-code-generator', standalone: true, imports: [
                        CommonModule,
                        MatButtonModule,
                        MatInputModule,
                        MatFormFieldModule,
                        FormsModule,
                        AppButtonComponent
                    ], template: "<div class=\"qr-code-container\">\n  @if (showInput) {\n    <div class=\"qr-input-section\">\n      <mat-form-field appearance=\"outline\" class=\"full-width\">\n        <mat-label>Enter data for QR code</mat-label>\n        <input\n          matInput\n          [(ngModel)]=\"inputData\"\n          (ngModelChange)=\"onInputChange()\"\n          placeholder=\"Enter text or URL\"\n        />\n      </mat-form-field>\n    </div>\n  }\n\n  @if (qrCodeDataUrl) {\n    <div class=\"qr-code-display\">\n      <img [src]=\"qrCodeDataUrl\" [style.width.px]=\"size\" [style.height.px]=\"size\" alt=\"QR Code\" />\n    </div>\n  } @else {\n    <div class=\"qr-placeholder\">\n      <p>Enter data to generate QR code</p>\n    </div>\n  }\n\n  @if (showDownload && qrCodeDataUrl) {\n    <div class=\"qr-actions\">\n      <app-button\n        text=\"Download\"\n        fontIcon=\"download\"\n        appearance=\"raised\"\n        color=\"primary\"\n        (btnClick)=\"downloadQRCode()\"\n      ></app-button>\n    </div>\n  }\n</div>\n\n", styles: [".qr-code-container{display:flex;flex-direction:column;align-items:center;gap:16px;padding:16px}.qr-input-section{width:100%;max-width:400px}.full-width{width:100%}.qr-code-display{display:flex;justify-content:center;align-items:center;padding:16px;background-color:#fff;border:1px solid #e0e0e0;border-radius:4px}.qr-placeholder{padding:32px;text-align:center;color:#9e9e9e}.qr-actions{display:flex;gap:8px}\n"] }]
        }], propDecorators: { data: [{
                type: Input
            }], size: [{
                type: Input
            }], errorCorrectionLevel: [{
                type: Input
            }], showInput: [{
                type: Input
            }], showDownload: [{
                type: Input
            }], qrGenerated: [{
                type: Output
            }] } });

class RichTextEditorComponent {
    constructor() {
        this.placeholder = 'Enter text here...';
        this.height = '300px';
        this.showToolbar = true;
        this.contentChange = new EventEmitter();
        this.content = '';
        this.onChange = (value) => { };
        this.onTouched = () => { };
    }
    writeValue(value) {
        this.content = value || '';
        if (this.getEditorElement()) {
            this.getEditorElement().innerHTML = this.content;
        }
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    onContentChange() {
        const editor = this.getEditorElement();
        if (editor) {
            this.content = editor.innerHTML;
            this.onChange(this.content);
            this.contentChange.emit(this.content);
        }
    }
    executeCommand(command, value = '') {
        document.execCommand(command, false, value);
        this.onContentChange();
        this.getEditorElement()?.focus();
    }
    getEditorElement() {
        return document.getElementById('rich-text-editor-content');
    }
    formatText(command) {
        this.executeCommand(command);
    }
    insertLink() {
        const url = prompt('Enter URL:');
        if (url) {
            this.executeCommand('createLink', url);
        }
    }
    insertImage() {
        const url = prompt('Enter image URL:');
        if (url) {
            this.executeCommand('insertImage', url);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: RichTextEditorComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: RichTextEditorComponent, isStandalone: true, selector: "app-rich-text-editor", inputs: { placeholder: "placeholder", height: "height", showToolbar: "showToolbar" }, outputs: { contentChange: "contentChange" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => RichTextEditorComponent),
                multi: true
            }
        ], ngImport: i0, template: "<div class=\"rich-text-editor-container\">\n  @if (showToolbar) {\n    <div class=\"editor-toolbar\">\n      <div class=\"toolbar-group\">\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_bold'\" (btnClick)=\"formatText('bold')\" [class]=\"'toolbar-button'\" title=\"Bold\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_italic'\" (btnClick)=\"formatText('italic')\" [class]=\"'toolbar-button'\" title=\"Italic\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_underlined'\" (btnClick)=\"formatText('underline')\" [class]=\"'toolbar-button'\" title=\"Underline\"></app-button>\n      </div>\n      \n      <div class=\"toolbar-group\">\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_align_left'\" (btnClick)=\"formatText('justifyLeft')\" [class]=\"'toolbar-button'\" title=\"Align Left\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_align_center'\" (btnClick)=\"formatText('justifyCenter')\" [class]=\"'toolbar-button'\" title=\"Align Center\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_align_right'\" (btnClick)=\"formatText('justifyRight')\" [class]=\"'toolbar-button'\" title=\"Align Right\"></app-button>\n      </div>\n\n      <div class=\"toolbar-group\">\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_list_bulleted'\" (btnClick)=\"formatText('insertUnorderedList')\" [class]=\"'toolbar-button'\" title=\"Bullet List\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_list_numbered'\" (btnClick)=\"formatText('insertOrderedList')\" [class]=\"'toolbar-button'\" title=\"Numbered List\"></app-button>\n      </div>\n\n      <div class=\"toolbar-group\">\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'link'\" (btnClick)=\"insertLink()\" [class]=\"'toolbar-button'\" title=\"Insert Link\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'image'\" (btnClick)=\"insertImage()\" [class]=\"'toolbar-button'\" title=\"Insert Image\"></app-button>\n      </div>\n    </div>\n  }\n\n  <div\n    id=\"rich-text-editor-content\"\n    class=\"editor-content\"\n    [style.height]=\"height\"\n    contenteditable=\"true\"\n    [attr.placeholder]=\"placeholder\"\n    (input)=\"onContentChange()\"\n    (blur)=\"onTouched()\"\n  ></div>\n</div>\n\n", styles: [".rich-text-editor-container{border:1px solid #e0e0e0;border-radius:4px;overflow:hidden}.editor-toolbar{display:flex;gap:8px;padding:8px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0;flex-wrap:wrap}.toolbar-group{display:flex;gap:4px;padding-right:8px;border-right:1px solid #e0e0e0}.toolbar-group:last-child{border-right:none}.toolbar-group button{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:none;background-color:transparent;cursor:pointer;border-radius:4px;transition:background-color .2s}.toolbar-group button:hover{background-color:#e0e0e0}.toolbar-group button mat-icon{font-size:20px;width:20px;height:20px;color:#424242}.editor-content{padding:16px;outline:none;overflow-y:auto;min-height:100px;font-family:Arial,sans-serif;font-size:14px;line-height:1.5}.editor-content:empty:before{content:attr(placeholder);color:#9e9e9e}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: FormsModule }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: RichTextEditorComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-rich-text-editor', standalone: true, imports: [
                        CommonModule,
                        FormsModule,
                        AppButtonComponent
                    ], providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => RichTextEditorComponent),
                            multi: true
                        }
                    ], template: "<div class=\"rich-text-editor-container\">\n  @if (showToolbar) {\n    <div class=\"editor-toolbar\">\n      <div class=\"toolbar-group\">\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_bold'\" (btnClick)=\"formatText('bold')\" [class]=\"'toolbar-button'\" title=\"Bold\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_italic'\" (btnClick)=\"formatText('italic')\" [class]=\"'toolbar-button'\" title=\"Italic\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_underlined'\" (btnClick)=\"formatText('underline')\" [class]=\"'toolbar-button'\" title=\"Underline\"></app-button>\n      </div>\n      \n      <div class=\"toolbar-group\">\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_align_left'\" (btnClick)=\"formatText('justifyLeft')\" [class]=\"'toolbar-button'\" title=\"Align Left\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_align_center'\" (btnClick)=\"formatText('justifyCenter')\" [class]=\"'toolbar-button'\" title=\"Align Center\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_align_right'\" (btnClick)=\"formatText('justifyRight')\" [class]=\"'toolbar-button'\" title=\"Align Right\"></app-button>\n      </div>\n\n      <div class=\"toolbar-group\">\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_list_bulleted'\" (btnClick)=\"formatText('insertUnorderedList')\" [class]=\"'toolbar-button'\" title=\"Bullet List\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'format_list_numbered'\" (btnClick)=\"formatText('insertOrderedList')\" [class]=\"'toolbar-button'\" title=\"Numbered List\"></app-button>\n      </div>\n\n      <div class=\"toolbar-group\">\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'link'\" (btnClick)=\"insertLink()\" [class]=\"'toolbar-button'\" title=\"Insert Link\"></app-button>\n        <app-button appearance=\"icon\" type=\"button\" [fontIcon]=\"'image'\" (btnClick)=\"insertImage()\" [class]=\"'toolbar-button'\" title=\"Insert Image\"></app-button>\n      </div>\n    </div>\n  }\n\n  <div\n    id=\"rich-text-editor-content\"\n    class=\"editor-content\"\n    [style.height]=\"height\"\n    contenteditable=\"true\"\n    [attr.placeholder]=\"placeholder\"\n    (input)=\"onContentChange()\"\n    (blur)=\"onTouched()\"\n  ></div>\n</div>\n\n", styles: [".rich-text-editor-container{border:1px solid #e0e0e0;border-radius:4px;overflow:hidden}.editor-toolbar{display:flex;gap:8px;padding:8px;background-color:#f5f5f5;border-bottom:1px solid #e0e0e0;flex-wrap:wrap}.toolbar-group{display:flex;gap:4px;padding-right:8px;border-right:1px solid #e0e0e0}.toolbar-group:last-child{border-right:none}.toolbar-group button{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:none;background-color:transparent;cursor:pointer;border-radius:4px;transition:background-color .2s}.toolbar-group button:hover{background-color:#e0e0e0}.toolbar-group button mat-icon{font-size:20px;width:20px;height:20px;color:#424242}.editor-content{padding:16px;outline:none;overflow-y:auto;min-height:100px;font-family:Arial,sans-serif;font-size:14px;line-height:1.5}.editor-content:empty:before{content:attr(placeholder);color:#9e9e9e}\n"] }]
        }], propDecorators: { placeholder: [{
                type: Input
            }], height: [{
                type: Input
            }], showToolbar: [{
                type: Input
            }], contentChange: [{
                type: Output
            }] } });

class SliderComponent {
    constructor() {
        this.min = 0;
        this.max = 100;
        this.step = 1;
        this.value = 0;
        this.points = [];
        this.showValue = true;
        this.showInput = false;
        this.disabled = false;
        this.vertical = false;
        this.color = 'primary';
        this.valueChange = new EventEmitter();
        this.change = new EventEmitter();
    }
    onValueChange(event) {
        const newValue = typeof event === 'number' ? event : (event?.value ?? event?.target?.value ?? this.value);
        this.value = newValue;
        this.valueChange.emit(newValue);
        this.change.emit(newValue);
    }
    getPointPosition(point) {
        return ((point.value - this.min) / (this.max - this.min)) * 100;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: SliderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: SliderComponent, isStandalone: true, selector: "app-slider", inputs: { min: "min", max: "max", step: "step", value: "value", points: "points", showValue: "showValue", showInput: "showInput", disabled: "disabled", vertical: "vertical", color: "color" }, outputs: { valueChange: "valueChange", change: "change" }, ngImport: i0, template: "<div class=\"slider-container\" [class.vertical]=\"vertical\">\n  <div class=\"slider-wrapper\">\n    <mat-slider\n      [min]=\"min\"\n      [max]=\"max\"\n      [step]=\"step\"\n      [disabled]=\"disabled\"\n      [color]=\"color\"\n      class=\"slider-control\"\n      [class.vertical]=\"vertical\"\n    >\n      <input matSliderThumb [value]=\"value\" (valueChange)=\"onValueChange($event)\">\n    </mat-slider>\n\n    @if (points && points.length > 0) {\n      <div class=\"slider-points\">\n        @for (point of points; track $index) {\n          <div\n            class=\"slider-point\"\n            [style.left.%]=\"getPointPosition(point)\"\n            [style.bottom.%]=\"vertical ? getPointPosition(point) : 0\"\n            [style.color]=\"point.color\"\n            [title]=\"point.label || point.value.toString()\"\n          >\n            <div class=\"point-marker\"></div>\n            @if (point.label) {\n              <span class=\"point-label\">{{ point.label }}</span>\n            }\n          </div>\n        }\n      </div>\n    }\n  </div>\n\n  <div class=\"slider-info\">\n    @if (showValue) {\n      <span class=\"slider-value\">{{ value }}</span>\n    }\n    @if (showInput) {\n      <mat-form-field appearance=\"outline\" class=\"value-input\">\n        <input\n          matInput\n          type=\"number\"\n          [min]=\"min\"\n          [max]=\"max\"\n          [step]=\"step\"\n          [(ngModel)]=\"value\"\n          (ngModelChange)=\"onValueChange($event)\"\n          [disabled]=\"disabled\"\n        />\n      </mat-form-field>\n    }\n  </div>\n</div>\n\n", styles: [".slider-container{display:flex;flex-direction:column;gap:8px;padding:16px}.slider-container.vertical{flex-direction:row;align-items:center;gap:16px}.slider-wrapper{position:relative;flex:1;width:100%}.slider-control{width:100%}.slider-points{position:absolute;inset:0;pointer-events:none}.slider-point{position:absolute;display:flex;flex-direction:column;align-items:center;transform:translate(-50%)}.point-marker{width:8px;height:8px;border-radius:50%;background-color:currentColor;margin-bottom:4px}.point-label{font-size:12px;white-space:nowrap}.slider-info{display:flex;align-items:center;gap:8px;justify-content:space-between}.slider-value{font-size:14px;font-weight:500;color:#424242}.value-input{width:80px}.vertical .slider-point{transform:translateY(50%);flex-direction:row;left:0}.vertical .point-marker{margin-right:4px;margin-bottom:0}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i1$3.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1$3.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { kind: "directive", type: i1$3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1$3.MinValidator, selector: "input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]", inputs: ["min"] }, { kind: "directive", type: i1$3.MaxValidator, selector: "input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]", inputs: ["max"] }, { kind: "directive", type: i1$3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: MatSliderModule }, { kind: "component", type: i2$6.MatSlider, selector: "mat-slider", inputs: ["disabled", "discrete", "showTickMarks", "min", "color", "disableRipple", "max", "step", "displayWith"], exportAs: ["matSlider"] }, { kind: "directive", type: i2$6.MatSliderThumb, selector: "input[matSliderThumb]", inputs: ["value"], outputs: ["valueChange", "dragStart", "dragEnd"], exportAs: ["matSliderThumb"] }, { kind: "ngmodule", type: MatInputModule }, { kind: "directive", type: i4.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i2$1.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "ngmodule", type: MatFormFieldModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: SliderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-slider', standalone: true, imports: [
                        CommonModule,
                        FormsModule,
                        MatSliderModule,
                        MatInputModule,
                        MatFormFieldModule
                    ], template: "<div class=\"slider-container\" [class.vertical]=\"vertical\">\n  <div class=\"slider-wrapper\">\n    <mat-slider\n      [min]=\"min\"\n      [max]=\"max\"\n      [step]=\"step\"\n      [disabled]=\"disabled\"\n      [color]=\"color\"\n      class=\"slider-control\"\n      [class.vertical]=\"vertical\"\n    >\n      <input matSliderThumb [value]=\"value\" (valueChange)=\"onValueChange($event)\">\n    </mat-slider>\n\n    @if (points && points.length > 0) {\n      <div class=\"slider-points\">\n        @for (point of points; track $index) {\n          <div\n            class=\"slider-point\"\n            [style.left.%]=\"getPointPosition(point)\"\n            [style.bottom.%]=\"vertical ? getPointPosition(point) : 0\"\n            [style.color]=\"point.color\"\n            [title]=\"point.label || point.value.toString()\"\n          >\n            <div class=\"point-marker\"></div>\n            @if (point.label) {\n              <span class=\"point-label\">{{ point.label }}</span>\n            }\n          </div>\n        }\n      </div>\n    }\n  </div>\n\n  <div class=\"slider-info\">\n    @if (showValue) {\n      <span class=\"slider-value\">{{ value }}</span>\n    }\n    @if (showInput) {\n      <mat-form-field appearance=\"outline\" class=\"value-input\">\n        <input\n          matInput\n          type=\"number\"\n          [min]=\"min\"\n          [max]=\"max\"\n          [step]=\"step\"\n          [(ngModel)]=\"value\"\n          (ngModelChange)=\"onValueChange($event)\"\n          [disabled]=\"disabled\"\n        />\n      </mat-form-field>\n    }\n  </div>\n</div>\n\n", styles: [".slider-container{display:flex;flex-direction:column;gap:8px;padding:16px}.slider-container.vertical{flex-direction:row;align-items:center;gap:16px}.slider-wrapper{position:relative;flex:1;width:100%}.slider-control{width:100%}.slider-points{position:absolute;inset:0;pointer-events:none}.slider-point{position:absolute;display:flex;flex-direction:column;align-items:center;transform:translate(-50%)}.point-marker{width:8px;height:8px;border-radius:50%;background-color:currentColor;margin-bottom:4px}.point-label{font-size:12px;white-space:nowrap}.slider-info{display:flex;align-items:center;gap:8px;justify-content:space-between}.slider-value{font-size:14px;font-weight:500;color:#424242}.value-input{width:80px}.vertical .slider-point{transform:translateY(50%);flex-direction:row;left:0}.vertical .point-marker{margin-right:4px;margin-bottom:0}\n"] }]
        }], propDecorators: { min: [{
                type: Input
            }], max: [{
                type: Input
            }], step: [{
                type: Input
            }], value: [{
                type: Input
            }], points: [{
                type: Input
            }], showValue: [{
                type: Input
            }], showInput: [{
                type: Input
            }], disabled: [{
                type: Input
            }], vertical: [{
                type: Input
            }], color: [{
                type: Input
            }], valueChange: [{
                type: Output
            }], change: [{
                type: Output
            }] } });

class TooltipDirective {
    constructor(elementRef, renderer) {
        this.elementRef = elementRef;
        this.renderer = renderer;
        this.appTooltip = '';
        this.tooltipPosition = 'below';
        this.tooltipShowDelay = 0;
        this.tooltipHideDelay = 0;
        this.tooltipDisabled = false;
    }
    ngOnInit() {
        // The tooltip will be handled by Angular Material's matTooltip directive
        // This directive is a wrapper that applies the tooltip functionality
        if (this.appTooltip && !this.tooltipDisabled) {
            this.renderer.setAttribute(this.elementRef.nativeElement, 'matTooltip', this.appTooltip);
            this.renderer.setAttribute(this.elementRef.nativeElement, 'matTooltipPosition', this.tooltipPosition);
            this.renderer.setAttribute(this.elementRef.nativeElement, 'matTooltipShowDelay', this.tooltipShowDelay.toString());
            this.renderer.setAttribute(this.elementRef.nativeElement, 'matTooltipHideDelay', this.tooltipHideDelay.toString());
        }
    }
    ngOnDestroy() {
        // Cleanup if needed
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TooltipDirective, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "17.3.12", type: TooltipDirective, isStandalone: true, selector: "[appTooltip]", inputs: { appTooltip: "appTooltip", tooltipPosition: "tooltipPosition", tooltipShowDelay: "tooltipShowDelay", tooltipHideDelay: "tooltipHideDelay", tooltipDisabled: "tooltipDisabled" }, ngImport: i0 }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TooltipDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[appTooltip]',
                    standalone: true
                }]
        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: i0.Renderer2 }], propDecorators: { appTooltip: [{
                type: Input
            }], tooltipPosition: [{
                type: Input
            }], tooltipShowDelay: [{
                type: Input
            }], tooltipHideDelay: [{
                type: Input
            }], tooltipDisabled: [{
                type: Input
            }] } });

let uniqueId = 0;
class ButtonCheckboxComponent {
    constructor() {
        this.label = '';
        this.icon = '';
        this.id = `app-button-checkbox-${uniqueId++}`;
        this.disabled = false;
        this.value = false;
        this.onChange = () => { };
        this.onTouched = () => { };
    }
    onInputChange(event) {
        const target = event.target;
        this.value = target.checked;
        this.onChange(this.value);
        this.onTouched();
    }
    // ControlValueAccessor
    writeValue(value) {
        this.value = !!value;
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ButtonCheckboxComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: ButtonCheckboxComponent, isStandalone: true, selector: "app-button-checkbox", inputs: { label: "label", icon: "icon", id: "id", disabled: "disabled" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => ButtonCheckboxComponent),
                multi: true
            }
        ], ngImport: i0, template: "<div class=\"button-checkbox\" [appTooltip]=\"label\">\n  <input\n    type=\"checkbox\"\n    class=\"button-checkbox-wrapper\"\n    [id]=\"id\"\n    [checked]=\"value\"\n    [disabled]=\"disabled\"\n    (change)=\"onInputChange($event)\"\n  />\n  <label [for]=\"id\" class=\"button-checkbox-label\">\n    <app-icon *ngIf=\"icon\" [fontIcon]=\"icon\" [color]=\"value?'var(--primary-text-color)':''\" [size]=\"20\"></app-icon>\n    <span>{{ label }}</span>\n  </label>\n</div>\n", styles: [".button-checkbox{position:relative;display:block;max-width:100%}.button-checkbox-wrapper{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.button-checkbox-wrapper:checked+.button-checkbox-label{background:var(--primary-color);color:#fff}.button-checkbox-wrapper:checked+.button-checkbox-label app-icon{color:#fff}.button-checkbox-label{display:flex;align-items:center;gap:.5em;padding:.5em .8em;background:#f8fafc;border:2px solid #e2e8f0;border-radius:.7em;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);color:#1e293b;max-width:100%}.button-checkbox-label:hover{background:#f1f5f9;border-color:#cbd5e1;transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.button-checkbox-label app-icon{color:#3b82f6;transition:color .3s ease}.button-checkbox-label span{font-size:.9em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: IconComponent, selector: "app-icon", inputs: ["fontSet", "fontIcon", "iconType", "icomoonClass", "size", "isBlink", "fontBold", "color", "class", "counter", "isCovered"], outputs: ["iconClick"] }, { kind: "directive", type: TooltipDirective, selector: "[appTooltip]", inputs: ["appTooltip", "tooltipPosition", "tooltipShowDelay", "tooltipHideDelay", "tooltipDisabled"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ButtonCheckboxComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-button-checkbox', standalone: true, imports: [CommonModule, IconComponent, TooltipDirective], providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => ButtonCheckboxComponent),
                            multi: true
                        }
                    ], template: "<div class=\"button-checkbox\" [appTooltip]=\"label\">\n  <input\n    type=\"checkbox\"\n    class=\"button-checkbox-wrapper\"\n    [id]=\"id\"\n    [checked]=\"value\"\n    [disabled]=\"disabled\"\n    (change)=\"onInputChange($event)\"\n  />\n  <label [for]=\"id\" class=\"button-checkbox-label\">\n    <app-icon *ngIf=\"icon\" [fontIcon]=\"icon\" [color]=\"value?'var(--primary-text-color)':''\" [size]=\"20\"></app-icon>\n    <span>{{ label }}</span>\n  </label>\n</div>\n", styles: [".button-checkbox{position:relative;display:block;max-width:100%}.button-checkbox-wrapper{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.button-checkbox-wrapper:checked+.button-checkbox-label{background:var(--primary-color);color:#fff}.button-checkbox-wrapper:checked+.button-checkbox-label app-icon{color:#fff}.button-checkbox-label{display:flex;align-items:center;gap:.5em;padding:.5em .8em;background:#f8fafc;border:2px solid #e2e8f0;border-radius:.7em;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);color:#1e293b;max-width:100%}.button-checkbox-label:hover{background:#f1f5f9;border-color:#cbd5e1;transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.button-checkbox-label app-icon{color:#3b82f6;transition:color .3s ease}.button-checkbox-label span{font-size:.9em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"] }]
        }], propDecorators: { label: [{
                type: Input
            }], icon: [{
                type: Input
            }], id: [{
                type: Input
            }], disabled: [{
                type: Input
            }] } });

class StepperComponent {
    constructor() {
        this.orientation = 'horizontal';
        this.linear = false;
        this.selectedIndex = 0;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: StepperComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: StepperComponent, isStandalone: true, selector: "app-stepper", inputs: { orientation: "orientation", linear: "linear", selectedIndex: "selectedIndex" }, ngImport: i0, template: "<mat-stepper\n  [orientation]=\"orientation\"\n  [linear]=\"linear\"\n  [selectedIndex]=\"selectedIndex\"\n  class=\"app-stepper\"\n>\n  <ng-content></ng-content>\n</mat-stepper>\n\n", styles: [".app-stepper{width:100%}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatStepperModule }, { kind: "component", type: i1$6.MatStepper, selector: "mat-stepper, mat-vertical-stepper, mat-horizontal-stepper, [matStepper]", inputs: ["disableRipple", "color", "labelPosition", "headerPosition", "animationDuration"], outputs: ["animationDone"], exportAs: ["matStepper", "matVerticalStepper", "matHorizontalStepper"] }, { kind: "ngmodule", type: FormsModule }, { kind: "ngmodule", type: ReactiveFormsModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: StepperComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-stepper', standalone: true, imports: [CommonModule, MatStepperModule, FormsModule, ReactiveFormsModule], template: "<mat-stepper\n  [orientation]=\"orientation\"\n  [linear]=\"linear\"\n  [selectedIndex]=\"selectedIndex\"\n  class=\"app-stepper\"\n>\n  <ng-content></ng-content>\n</mat-stepper>\n\n", styles: [".app-stepper{width:100%}\n"] }]
        }], propDecorators: { orientation: [{
                type: Input
            }], linear: [{
                type: Input
            }], selectedIndex: [{
                type: Input
            }] } });
class StepComponent {
    constructor() {
        this.label = '';
        this.optional = false;
        this.completed = false;
        this.state = 'number';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: StepComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: StepComponent, isStandalone: true, selector: "app-step", inputs: { label: "label", optional: "optional", completed: "completed", state: "state" }, ngImport: i0, template: `
    <mat-step [label]="label" [optional]="optional" [completed]="completed" [state]="state">
      <ng-content></ng-content>
    </mat-step>
  `, isInline: true, dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatStepperModule }, { kind: "component", type: i1$6.MatStep, selector: "mat-step", inputs: ["color"], exportAs: ["matStep"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: StepComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'app-step',
                    standalone: true,
                    imports: [CommonModule, MatStepperModule],
                    template: `
    <mat-step [label]="label" [optional]="optional" [completed]="completed" [state]="state">
      <ng-content></ng-content>
    </mat-step>
  `
                }]
        }], propDecorators: { label: [{
                type: Input
            }], optional: [{
                type: Input
            }], completed: [{
                type: Input
            }], state: [{
                type: Input
            }] } });

class TabComponent {
    constructor() {
        this.label = '';
        this.disabled = false;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TabComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: TabComponent, isStandalone: true, selector: "app-tab", inputs: { label: "label", disabled: "disabled" }, viewQueries: [{ propertyName: "content", first: true, predicate: ["tabContent"], descendants: true, static: true }], ngImport: i0, template: `
    <ng-template #tabContent>
      <ng-content></ng-content>
    </ng-template>
  `, isInline: true, dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatTabsModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TabComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'app-tab',
                    standalone: true,
                    imports: [CommonModule, MatTabsModule],
                    template: `
    <ng-template #tabContent>
      <ng-content></ng-content>
    </ng-template>
  `
                }]
        }], propDecorators: { label: [{
                type: Input
            }], disabled: [{
                type: Input
            }], content: [{
                type: ViewChild,
                args: ['tabContent', { static: true }]
            }] } });
class TabsComponent {
    constructor() {
        this.selectedIndex = 0;
        this.animationDuration = '500ms';
        this.dynamicHeight = false;
        this.color = 'primary';
    }
    ngAfterContentInit() {
        // Tabs are managed by content projection
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TabsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: TabsComponent, isStandalone: true, selector: "app-tabs", inputs: { selectedIndex: "selectedIndex", animationDuration: "animationDuration", dynamicHeight: "dynamicHeight", backgroundColor: "backgroundColor", color: "color" }, queries: [{ propertyName: "tabs", predicate: TabComponent }], ngImport: i0, template: "<mat-tab-group\n  [selectedIndex]=\"selectedIndex\"\n  [animationDuration]=\"animationDuration\"\n  [dynamicHeight]=\"dynamicHeight\"\n  [color]=\"color\"\n  class=\"app-tabs\"\n  [style.backgroundColor]=\"backgroundColor\"\n>\n  <mat-tab *ngFor=\"let tab of tabs\" [label]=\"tab.label\" [disabled]=\"tab.disabled\">\n    <ng-container *ngTemplateOutlet=\"tab.content\"></ng-container>\n  </mat-tab>\n</mat-tab-group>\n\n", styles: [".app-tabs{width:100%;height:100%}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1$2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "ngmodule", type: MatTabsModule }, { kind: "component", type: i2$7.MatTab, selector: "mat-tab", inputs: ["disabled", "label", "aria-label", "aria-labelledby", "labelClass", "bodyClass"], exportAs: ["matTab"] }, { kind: "component", type: i2$7.MatTabGroup, selector: "mat-tab-group", inputs: ["color", "fitInkBarToContent", "mat-stretch-tabs", "dynamicHeight", "selectedIndex", "headerPosition", "animationDuration", "contentTabIndex", "disablePagination", "disableRipple", "preserveContent", "backgroundColor"], outputs: ["selectedIndexChange", "focusChange", "animationDone", "selectedTabChange"], exportAs: ["matTabGroup"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TabsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-tabs', standalone: true, imports: [CommonModule, MatTabsModule, TabComponent], template: "<mat-tab-group\n  [selectedIndex]=\"selectedIndex\"\n  [animationDuration]=\"animationDuration\"\n  [dynamicHeight]=\"dynamicHeight\"\n  [color]=\"color\"\n  class=\"app-tabs\"\n  [style.backgroundColor]=\"backgroundColor\"\n>\n  <mat-tab *ngFor=\"let tab of tabs\" [label]=\"tab.label\" [disabled]=\"tab.disabled\">\n    <ng-container *ngTemplateOutlet=\"tab.content\"></ng-container>\n  </mat-tab>\n</mat-tab-group>\n\n", styles: [".app-tabs{width:100%;height:100%}\n"] }]
        }], propDecorators: { selectedIndex: [{
                type: Input
            }], animationDuration: [{
                type: Input
            }], dynamicHeight: [{
                type: Input
            }], backgroundColor: [{
                type: Input
            }], color: [{
                type: Input
            }], tabs: [{
                type: ContentChildren,
                args: [TabComponent]
            }] } });

class ToggleButtonComponent {
    constructor() {
        this.options = [];
        this.value = null;
        this.multiple = false;
        this.appearance = 'standard';
        this.vertical = false;
        this.valueChange = new EventEmitter();
        this.buttonClick = new EventEmitter();
        this.selectedValues = [];
    }
    ngOnInit() {
        if (this.multiple) {
            this.selectedValues = Array.isArray(this.value) ? [...this.value] : [];
        }
    }
    onToggleChange(value) {
        if (this.multiple) {
            this.selectedValues = Array.isArray(value) ? value : [value];
            this.valueChange.emit(this.selectedValues);
        }
        else {
            this.value = value;
            this.valueChange.emit(value);
            const option = this.options.find(opt => opt.value === value);
            if (option) {
                this.buttonClick.emit({ value, option });
            }
        }
    }
    onClick(option) {
        if (!option.disabled) {
            if (this.multiple) {
                const index = this.selectedValues.indexOf(option.value);
                if (index > -1) {
                    this.selectedValues.splice(index, 1);
                }
                else {
                    this.selectedValues.push(option.value);
                }
                this.valueChange.emit([...this.selectedValues]);
                this.buttonClick.emit({ value: option.value, option });
            }
            else {
                this.value = option.value;
                this.valueChange.emit(option.value);
                this.buttonClick.emit({ value: option.value, option });
            }
        }
    }
    isSelected(option) {
        if (this.multiple) {
            return this.selectedValues.includes(option.value);
        }
        return this.value === option.value;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ToggleButtonComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: ToggleButtonComponent, isStandalone: true, selector: "app-toggle-button", inputs: { options: "options", value: "value", multiple: "multiple", appearance: "appearance", vertical: "vertical" }, outputs: { valueChange: "valueChange", buttonClick: "buttonClick" }, ngImport: i0, template: "@if (multiple) {\n  <mat-button-toggle-group\n    [value]=\"selectedValues\"\n    [multiple]=\"true\"\n    [appearance]=\"appearance\"\n    [vertical]=\"vertical\"\n    (change)=\"onToggleChange($event.value)\"\n    class=\"toggle-group\"\n  >\n    @for (option of options; track option.value) {\n      <mat-button-toggle [value]=\"option.value\" [disabled]=\"option.disabled\">\n        @if (option.icon) {\n          <app-icon [fontIcon]=\"option.icon\"></app-icon>\n        }\n        <span>{{ option.label }}</span>\n      </mat-button-toggle>\n    }\n  </mat-button-toggle-group>\n} @else {\n  <div class=\"toggle-buttons\" [class.vertical]=\"vertical\">\n    @for (option of options; track option.value) {\n      <app-button\n        [text]=\"option.label\"\n        [fontIcon]=\"option.icon || ''\"\n        [color]=\"option.color || (isSelected(option) ? 'primary' : 'secondary')\"\n        [appearance]=\"isSelected(option) ? 'raised' : 'flat'\"\n        [disabled]=\"option.disabled || false\"\n        (btnClick)=\"onClick(option)\"\n        [class.selected]=\"isSelected(option)\"\n      ></app-button>\n    }\n  </div>\n}\n\n", styles: [".toggle-group{display:flex;flex-wrap:wrap;gap:8px}.toggle-buttons{display:flex;gap:8px;flex-wrap:wrap}.toggle-buttons.vertical{flex-direction:column}.toggle-buttons app-button.selected{opacity:1}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatButtonToggleModule }, { kind: "directive", type: i1$7.MatButtonToggleGroup, selector: "mat-button-toggle-group", inputs: ["appearance", "name", "vertical", "value", "multiple", "disabled", "hideSingleSelectionIndicator", "hideMultipleSelectionIndicator"], outputs: ["valueChange", "change"], exportAs: ["matButtonToggleGroup"] }, { kind: "component", type: i1$7.MatButtonToggle, selector: "mat-button-toggle", inputs: ["aria-label", "aria-labelledby", "id", "name", "value", "tabIndex", "disableRipple", "appearance", "checked", "disabled"], outputs: ["change"], exportAs: ["matButtonToggle"] }, { kind: "ngmodule", type: MatButtonModule }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }, { kind: "component", type: IconComponent, selector: "app-icon", inputs: ["fontSet", "fontIcon", "iconType", "icomoonClass", "size", "isBlink", "fontBold", "color", "class", "counter", "isCovered"], outputs: ["iconClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ToggleButtonComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-toggle-button', standalone: true, imports: [CommonModule, MatButtonToggleModule, MatButtonModule, AppButtonComponent, IconComponent], template: "@if (multiple) {\n  <mat-button-toggle-group\n    [value]=\"selectedValues\"\n    [multiple]=\"true\"\n    [appearance]=\"appearance\"\n    [vertical]=\"vertical\"\n    (change)=\"onToggleChange($event.value)\"\n    class=\"toggle-group\"\n  >\n    @for (option of options; track option.value) {\n      <mat-button-toggle [value]=\"option.value\" [disabled]=\"option.disabled\">\n        @if (option.icon) {\n          <app-icon [fontIcon]=\"option.icon\"></app-icon>\n        }\n        <span>{{ option.label }}</span>\n      </mat-button-toggle>\n    }\n  </mat-button-toggle-group>\n} @else {\n  <div class=\"toggle-buttons\" [class.vertical]=\"vertical\">\n    @for (option of options; track option.value) {\n      <app-button\n        [text]=\"option.label\"\n        [fontIcon]=\"option.icon || ''\"\n        [color]=\"option.color || (isSelected(option) ? 'primary' : 'secondary')\"\n        [appearance]=\"isSelected(option) ? 'raised' : 'flat'\"\n        [disabled]=\"option.disabled || false\"\n        (btnClick)=\"onClick(option)\"\n        [class.selected]=\"isSelected(option)\"\n      ></app-button>\n    }\n  </div>\n}\n\n", styles: [".toggle-group{display:flex;flex-wrap:wrap;gap:8px}.toggle-buttons{display:flex;gap:8px;flex-wrap:wrap}.toggle-buttons.vertical{flex-direction:column}.toggle-buttons app-button.selected{opacity:1}\n"] }]
        }], propDecorators: { options: [{
                type: Input
            }], value: [{
                type: Input
            }], multiple: [{
                type: Input
            }], appearance: [{
                type: Input
            }], vertical: [{
                type: Input
            }], valueChange: [{
                type: Output
            }], buttonClick: [{
                type: Output
            }] } });

class TreeStructureComponent {
    constructor() {
        this.data = [];
        this.expandable = true;
        this.showIcons = true;
        this.nodeSelect = new EventEmitter();
        this.treeControl = new FlatTreeControl(node => node.level, node => node.expandable);
        this.treeFlattener = new MatTreeFlattener((node, level) => ({
            expandable: !!node.children && node.children.length > 0,
            name: node.name,
            level: level,
            icon: node.icon,
            data: node.data
        }), (node) => node.level, (node) => node.expandable, (node) => node.children);
        this.dataSource = new MatTreeFlatDataSource(this.treeControl, this.treeFlattener);
        this.hasChild = (_, node) => node.expandable;
    }
    ngOnInit() {
        this.dataSource.data = this.data;
    }
    ngOnChanges(changes) {
        if (changes['data']) {
            this.dataSource.data = this.data;
        }
    }
    onNodeClick(node) {
        const treeNode = {
            name: node.name,
            icon: node.icon,
            data: node.data
        };
        this.nodeSelect.emit(treeNode);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TreeStructureComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: TreeStructureComponent, isStandalone: true, selector: "app-tree-structure", inputs: { data: "data", expandable: "expandable", showIcons: "showIcons" }, outputs: { nodeSelect: "nodeSelect" }, usesOnChanges: true, ngImport: i0, template: "<mat-tree [dataSource]=\"dataSource\" [treeControl]=\"treeControl\" class=\"tree-structure\">\n  <mat-tree-node *matTreeNodeDef=\"let node\" matTreeNodePadding>\n    <button mat-icon-button disabled></button>\n    @if (showIcons && node.icon) {\n      <app-icon [fontIcon]=\"node.icon\" class=\"node-icon\"></app-icon>\n    }\n    <span class=\"node-label\" (click)=\"onNodeClick(node)\">{{ node.name }}</span>\n  </mat-tree-node>\n\n  <mat-tree-node *matTreeNodeDef=\"let node; when: hasChild\" matTreeNodePadding>\n    <button mat-icon-button matTreeNodeToggle [attr.aria-label]=\"'Toggle ' + node.name\">\n      <mat-icon class=\"mat-icon-rtl-mirror\">\n        {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}\n      </mat-icon>\n    </button>\n    @if (showIcons && node.icon) {\n      <app-icon [fontIcon]=\"node.icon\" class=\"node-icon\"></app-icon>\n    }\n    <span class=\"node-label\" (click)=\"onNodeClick(node)\">{{ node.name }}</span>\n  </mat-tree-node>\n</mat-tree>\n\n", styles: [".tree-structure{background-color:transparent}.node-label{cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .2s}.node-label:hover{background-color:#f5f5f5}.node-icon{margin-right:8px;font-size:20px;width:20px;height:20px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatTreeModule }, { kind: "directive", type: i1$8.MatTreeNodeDef, selector: "[matTreeNodeDef]", inputs: ["matTreeNodeDefWhen", "matTreeNode"] }, { kind: "directive", type: i1$8.MatTreeNodePadding, selector: "[matTreeNodePadding]", inputs: ["matTreeNodePadding", "matTreeNodePaddingIndent"] }, { kind: "directive", type: i1$8.MatTreeNodeToggle, selector: "[matTreeNodeToggle]", inputs: ["matTreeNodeToggleRecursive"] }, { kind: "component", type: i1$8.MatTree, selector: "mat-tree", exportAs: ["matTree"] }, { kind: "directive", type: i1$8.MatTreeNode, selector: "mat-tree-node", inputs: ["disabled", "tabIndex"], exportAs: ["matTreeNode"] }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i5.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "ngmodule", type: MatButtonModule }, { kind: "component", type: i2$2.MatIconButton, selector: "button[mat-icon-button]", exportAs: ["matButton"] }, { kind: "component", type: IconComponent, selector: "app-icon", inputs: ["fontSet", "fontIcon", "iconType", "icomoonClass", "size", "isBlink", "fontBold", "color", "class", "counter", "isCovered"], outputs: ["iconClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TreeStructureComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-tree-structure', standalone: true, imports: [
                        CommonModule,
                        MatTreeModule,
                        MatIconModule,
                        MatButtonModule,
                        IconComponent
                    ], template: "<mat-tree [dataSource]=\"dataSource\" [treeControl]=\"treeControl\" class=\"tree-structure\">\n  <mat-tree-node *matTreeNodeDef=\"let node\" matTreeNodePadding>\n    <button mat-icon-button disabled></button>\n    @if (showIcons && node.icon) {\n      <app-icon [fontIcon]=\"node.icon\" class=\"node-icon\"></app-icon>\n    }\n    <span class=\"node-label\" (click)=\"onNodeClick(node)\">{{ node.name }}</span>\n  </mat-tree-node>\n\n  <mat-tree-node *matTreeNodeDef=\"let node; when: hasChild\" matTreeNodePadding>\n    <button mat-icon-button matTreeNodeToggle [attr.aria-label]=\"'Toggle ' + node.name\">\n      <mat-icon class=\"mat-icon-rtl-mirror\">\n        {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}\n      </mat-icon>\n    </button>\n    @if (showIcons && node.icon) {\n      <app-icon [fontIcon]=\"node.icon\" class=\"node-icon\"></app-icon>\n    }\n    <span class=\"node-label\" (click)=\"onNodeClick(node)\">{{ node.name }}</span>\n  </mat-tree-node>\n</mat-tree>\n\n", styles: [".tree-structure{background-color:transparent}.node-label{cursor:pointer;padding:4px 8px;border-radius:4px;transition:background-color .2s}.node-label:hover{background-color:#f5f5f5}.node-icon{margin-right:8px;font-size:20px;width:20px;height:20px}\n"] }]
        }], propDecorators: { data: [{
                type: Input
            }], expandable: [{
                type: Input
            }], showIcons: [{
                type: Input
            }], nodeSelect: [{
                type: Output
            }] } });

class RadioButtonComponent {
    constructor() {
        this.options = [];
        this.value = null;
        this.label = '';
        this.name = '';
        this.color = 'primary';
        this.disabled = false;
        this.vertical = false;
        this.labelTemplateRef = null;
        this.valueChange = new EventEmitter();
        this.onChange = (value) => { };
        this.onTouched = () => { };
    }
    writeValue(value) {
        this.value = value;
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    onSelectionChange(value) {
        this.value = value;
        this.onChange(value);
        this.onTouched();
        this.valueChange.emit(value);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: RadioButtonComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: RadioButtonComponent, isStandalone: true, selector: "app-radio-button", inputs: { options: "options", value: "value", label: "label", name: "name", color: "color", disabled: "disabled", vertical: "vertical", labelTemplateRef: "labelTemplateRef" }, outputs: { valueChange: "valueChange" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => RadioButtonComponent),
                multi: true
            }
        ], ngImport: i0, template: "<div class=\"radio-button-container\" [class.vertical]=\"vertical\">\n  @if (labelTemplateRef) {\n    <ng-container *ngTemplateOutlet=\"labelTemplateRef; context: { $implicit: label, label: label }\"></ng-container>\n  } @else if (label) {\n    <label class=\"radio-group-label\">{{ label }}</label>\n  }\n  <mat-radio-group\n    [(ngModel)]=\"value\"\n    [name]=\"name\"\n    [color]=\"color\"\n    [disabled]=\"disabled\"\n    (change)=\"onSelectionChange($event.value)\"\n    class=\"radio-group\"\n    [class.vertical]=\"vertical\"\n  >\n    @for (option of options; track option.value) {\n      <mat-radio-button [value]=\"option.value\" [disabled]=\"option.disabled || disabled\">\n        {{ option.label }}\n      </mat-radio-button>\n    }\n  </mat-radio-group>\n</div>\n\n", styles: [".radio-button-container{display:flex;flex-direction:column;gap:8px}.radio-group-label{font-size:14px;font-weight:500;color:#424242}.radio-group{display:flex;gap:16px;flex-wrap:wrap}.radio-group.vertical{flex-direction:column;gap:8px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i1$3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1$3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: MatRadioModule }, { kind: "directive", type: i3$3.MatRadioGroup, selector: "mat-radio-group", inputs: ["color", "name", "labelPosition", "value", "selected", "disabled", "required"], outputs: ["change"], exportAs: ["matRadioGroup"] }, { kind: "component", type: i3$3.MatRadioButton, selector: "mat-radio-button", inputs: ["id", "name", "aria-label", "aria-labelledby", "aria-describedby", "disableRipple", "tabIndex", "checked", "value", "labelPosition", "disabled", "required", "color"], outputs: ["change"], exportAs: ["matRadioButton"] }, { kind: "ngmodule", type: MatFormFieldModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: RadioButtonComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-radio-button', standalone: true, imports: [CommonModule, FormsModule, MatRadioModule, MatFormFieldModule], providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => RadioButtonComponent),
                            multi: true
                        }
                    ], template: "<div class=\"radio-button-container\" [class.vertical]=\"vertical\">\n  @if (labelTemplateRef) {\n    <ng-container *ngTemplateOutlet=\"labelTemplateRef; context: { $implicit: label, label: label }\"></ng-container>\n  } @else if (label) {\n    <label class=\"radio-group-label\">{{ label }}</label>\n  }\n  <mat-radio-group\n    [(ngModel)]=\"value\"\n    [name]=\"name\"\n    [color]=\"color\"\n    [disabled]=\"disabled\"\n    (change)=\"onSelectionChange($event.value)\"\n    class=\"radio-group\"\n    [class.vertical]=\"vertical\"\n  >\n    @for (option of options; track option.value) {\n      <mat-radio-button [value]=\"option.value\" [disabled]=\"option.disabled || disabled\">\n        {{ option.label }}\n      </mat-radio-button>\n    }\n  </mat-radio-group>\n</div>\n\n", styles: [".radio-button-container{display:flex;flex-direction:column;gap:8px}.radio-group-label{font-size:14px;font-weight:500;color:#424242}.radio-group{display:flex;gap:16px;flex-wrap:wrap}.radio-group.vertical{flex-direction:column;gap:8px}\n"] }]
        }], propDecorators: { options: [{
                type: Input
            }], value: [{
                type: Input
            }], label: [{
                type: Input
            }], name: [{
                type: Input
            }], color: [{
                type: Input
            }], disabled: [{
                type: Input
            }], vertical: [{
                type: Input
            }], labelTemplateRef: [{
                type: Input
            }], valueChange: [{
                type: Output
            }] } });

class CarouselComponent {
    constructor() {
        this.items = [];
        this.height = '400px';
        this.width = '100%';
        this.autoPlay = false;
        this.autoPlayInterval = 3000;
        this.showIndicators = true;
        this.showControls = true;
        this.loop = true;
        this.itemChange = new EventEmitter();
        this.currentIndex = 0;
    }
    ngOnInit() {
        if (this.autoPlay && this.items.length > 1) {
            this.startAutoPlay();
        }
    }
    ngOnChanges(changes) {
        if (changes['items'] && this.items.length > 0) {
            if (this.currentIndex >= this.items.length) {
                this.currentIndex = 0;
            }
        }
        if (changes['autoPlay']) {
            if (this.autoPlay) {
                this.startAutoPlay();
            }
            else {
                this.stopAutoPlay();
            }
        }
    }
    ngOnDestroy() {
        this.stopAutoPlay();
    }
    startAutoPlay() {
        this.stopAutoPlay();
        if (this.autoPlay && this.items.length > 1) {
            this.autoPlayTimer = setInterval(() => {
                this.next();
            }, this.autoPlayInterval);
        }
    }
    stopAutoPlay() {
        if (this.autoPlayTimer) {
            clearInterval(this.autoPlayTimer);
            this.autoPlayTimer = null;
        }
    }
    next() {
        if (this.currentIndex < this.items.length - 1) {
            this.currentIndex++;
        }
        else if (this.loop) {
            this.currentIndex = 0;
        }
        this.emitItemChange();
    }
    previous() {
        if (this.currentIndex > 0) {
            this.currentIndex--;
        }
        else if (this.loop) {
            this.currentIndex = this.items.length - 1;
        }
        this.emitItemChange();
    }
    goTo(index) {
        if (index >= 0 && index < this.items.length) {
            this.currentIndex = index;
            this.emitItemChange();
        }
    }
    emitItemChange() {
        if (this.items[this.currentIndex]) {
            this.itemChange.emit({
                index: this.currentIndex,
                item: this.items[this.currentIndex]
            });
        }
    }
    get currentItem() {
        return this.items[this.currentIndex] || null;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CarouselComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: CarouselComponent, isStandalone: true, selector: "app-carousel", inputs: { items: "items", height: "height", width: "width", autoPlay: "autoPlay", autoPlayInterval: "autoPlayInterval", showIndicators: "showIndicators", showControls: "showControls", loop: "loop" }, outputs: { itemChange: "itemChange" }, queries: [{ propertyName: "itemTemplate", first: true, predicate: ["carouselItemTemplate"], descendants: true }], usesOnChanges: true, ngImport: i0, template: "<div class=\"carousel-container\" [style.width]=\"width\" [style.height]=\"height\">\n  <div class=\"carousel-wrapper\">\n    @if (showControls && items.length > 1) {\n      <app-button\n        appearance=\"icon\"\n        type=\"button\"\n        [class]=\"'carousel-control prev'\"\n        [fontIcon]=\"'chevron_left'\"\n        (btnClick)=\"previous()\"\n      ></app-button>\n      <app-button\n        appearance=\"icon\"\n        type=\"button\"\n        [class]=\"'carousel-control next'\"\n        [fontIcon]=\"'chevron_right'\"\n        (btnClick)=\"next()\"\n      ></app-button>\n    }\n\n    <div class=\"carousel-content\">\n      @if (itemTemplate && currentItem) {\n        <ng-container *ngTemplateOutlet=\"itemTemplate; context: { $implicit: currentItem, index: currentIndex }\"></ng-container>\n      } @else if (currentItem) {\n        <div class=\"carousel-item-default\">\n          @if (currentItem.image) {\n            <img [src]=\"currentItem.image\" [alt]=\"currentItem.title || 'Carousel item'\" class=\"carousel-image\" />\n          }\n          @if (currentItem.title) {\n            <div class=\"carousel-title\">{{ currentItem.title }}</div>\n          }\n          @if (currentItem.description) {\n            <div class=\"carousel-description\">{{ currentItem.description }}</div>\n          }\n        </div>\n      }\n    </div>\n  </div>\n\n  @if (showIndicators && items.length > 1) {\n    <div class=\"carousel-indicators\">\n      @for (item of items; track $index) {\n        <app-button\n          appearance=\"icon\"\n          type=\"button\"\n          [class]=\"'indicator' + (currentIndex === $index ? ' active' : '')\"\n          (btnClick)=\"goTo($index)\"\n          [attr.aria-label]=\"'Go to slide ' + ($index + 1)\"\n        ></app-button>\n      }\n    </div>\n  }\n</div>\n\n", styles: [".carousel-container{position:relative;overflow:hidden;border-radius:4px}.carousel-wrapper{position:relative;width:100%;height:100%}.carousel-control{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;transition:background-color .2s}.carousel-control:hover{background-color:#000000b3}.carousel-control mat-icon{font-size:24px;width:24px;height:24px}.carousel-control.prev{left:16px}.carousel-control.next{right:16px}.carousel-content{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.carousel-item-default{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:32px}.carousel-image{max-width:100%;max-height:100%;object-fit:contain;margin-bottom:16px}.carousel-title{font-size:24px;font-weight:500;margin-bottom:8px;color:#424242}.carousel-description{font-size:16px;color:#757575}.carousel-indicators{position:absolute;bottom:16px;left:50%;transform:translate(-50%);display:flex;gap:8px;z-index:10}.indicator{width:12px;height:12px;border-radius:50%;border:2px solid white;background-color:#ffffff80;cursor:pointer;transition:background-color .2s}.indicator:hover{background-color:#fffc}.indicator.active{background-color:#fff}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1$2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: CarouselComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-carousel', standalone: true, imports: [CommonModule, AppButtonComponent], template: "<div class=\"carousel-container\" [style.width]=\"width\" [style.height]=\"height\">\n  <div class=\"carousel-wrapper\">\n    @if (showControls && items.length > 1) {\n      <app-button\n        appearance=\"icon\"\n        type=\"button\"\n        [class]=\"'carousel-control prev'\"\n        [fontIcon]=\"'chevron_left'\"\n        (btnClick)=\"previous()\"\n      ></app-button>\n      <app-button\n        appearance=\"icon\"\n        type=\"button\"\n        [class]=\"'carousel-control next'\"\n        [fontIcon]=\"'chevron_right'\"\n        (btnClick)=\"next()\"\n      ></app-button>\n    }\n\n    <div class=\"carousel-content\">\n      @if (itemTemplate && currentItem) {\n        <ng-container *ngTemplateOutlet=\"itemTemplate; context: { $implicit: currentItem, index: currentIndex }\"></ng-container>\n      } @else if (currentItem) {\n        <div class=\"carousel-item-default\">\n          @if (currentItem.image) {\n            <img [src]=\"currentItem.image\" [alt]=\"currentItem.title || 'Carousel item'\" class=\"carousel-image\" />\n          }\n          @if (currentItem.title) {\n            <div class=\"carousel-title\">{{ currentItem.title }}</div>\n          }\n          @if (currentItem.description) {\n            <div class=\"carousel-description\">{{ currentItem.description }}</div>\n          }\n        </div>\n      }\n    </div>\n  </div>\n\n  @if (showIndicators && items.length > 1) {\n    <div class=\"carousel-indicators\">\n      @for (item of items; track $index) {\n        <app-button\n          appearance=\"icon\"\n          type=\"button\"\n          [class]=\"'indicator' + (currentIndex === $index ? ' active' : '')\"\n          (btnClick)=\"goTo($index)\"\n          [attr.aria-label]=\"'Go to slide ' + ($index + 1)\"\n        ></app-button>\n      }\n    </div>\n  }\n</div>\n\n", styles: [".carousel-container{position:relative;overflow:hidden;border-radius:4px}.carousel-wrapper{position:relative;width:100%;height:100%}.carousel-control{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;transition:background-color .2s}.carousel-control:hover{background-color:#000000b3}.carousel-control mat-icon{font-size:24px;width:24px;height:24px}.carousel-control.prev{left:16px}.carousel-control.next{right:16px}.carousel-content{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.carousel-item-default{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:32px}.carousel-image{max-width:100%;max-height:100%;object-fit:contain;margin-bottom:16px}.carousel-title{font-size:24px;font-weight:500;margin-bottom:8px;color:#424242}.carousel-description{font-size:16px;color:#757575}.carousel-indicators{position:absolute;bottom:16px;left:50%;transform:translate(-50%);display:flex;gap:8px;z-index:10}.indicator{width:12px;height:12px;border-radius:50%;border:2px solid white;background-color:#ffffff80;cursor:pointer;transition:background-color .2s}.indicator:hover{background-color:#fffc}.indicator.active{background-color:#fff}\n"] }]
        }], propDecorators: { items: [{
                type: Input
            }], height: [{
                type: Input
            }], width: [{
                type: Input
            }], autoPlay: [{
                type: Input
            }], autoPlayInterval: [{
                type: Input
            }], showIndicators: [{
                type: Input
            }], showControls: [{
                type: Input
            }], loop: [{
                type: Input
            }], itemTemplate: [{
                type: ContentChild,
                args: ['carouselItemTemplate']
            }], itemChange: [{
                type: Output
            }] } });

class ChartComponent {
    constructor(chartService) {
        this.chartService = chartService;
        this.height = '100%';
        this.width = '100%';
        this.chartInstance = null;
    }
    ngOnInit() {
        if (this.chartOptions$) {
            this.subscription = this.chartOptions$.subscribe(options => {
                this.renderChart(options);
            });
        }
        else if (this.chartOptions) {
            this.renderChart(this.chartOptions);
        }
    }
    ngOnChanges(changes) {
        if (changes['chartOptions'] && this.chartOptions && !this.chartOptions$) {
            this.renderChart(this.chartOptions);
        }
    }
    ngOnDestroy() {
        if (this.subscription) {
            this.subscription.unsubscribe();
        }
        if (this.chartInstance) {
            this.chartInstance.destroy();
        }
    }
    renderChart(options) {
        if (this.chartContainer) {
            if (this.chartInstance) {
                this.chartInstance.destroy();
            }
            this.chartInstance = this.chartService.createChart(this.chartContainer.nativeElement, options);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ChartComponent, deps: [{ token: ChartService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: ChartComponent, isStandalone: true, selector: "app-chart", inputs: { chartOptions$: "chartOptions$", chartOptions: "chartOptions", height: "height", width: "width" }, viewQueries: [{ propertyName: "chartContainer", first: true, predicate: ["chartContainer"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: "<div class=\"chart-container\" [style.width]=\"width\" [style.height]=\"height\">\n  <div #chartContainer class=\"chart-content\"></div>\n</div>\n\n", styles: [".chart-container{width:100%;border:1px solid #e0e0e0;border-radius:4px;padding:16px;background-color:#fff}.chart-content{width:100%;height:100%}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: ChartComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-chart', standalone: true, imports: [CommonModule], template: "<div class=\"chart-container\" [style.width]=\"width\" [style.height]=\"height\">\n  <div #chartContainer class=\"chart-content\"></div>\n</div>\n\n", styles: [".chart-container{width:100%;border:1px solid #e0e0e0;border-radius:4px;padding:16px;background-color:#fff}.chart-content{width:100%;height:100%}\n"] }]
        }], ctorParameters: () => [{ type: ChartService }], propDecorators: { chartOptions$: [{
                type: Input
            }], chartOptions: [{
                type: Input
            }], height: [{
                type: Input
            }], width: [{
                type: Input
            }], chartContainer: [{
                type: ViewChild,
                args: ['chartContainer', { static: true }]
            }] } });

// Grid Components

class TranslatePipe {
    constructor() {
        // Simple translation dictionary - in a real app, this would come from a service
        this.translations = {
            'en': {
                'exercise': 'Exercise',
                'exercise_set': 'Exercise Set',
                'exercises': 'Exercises',
                'exercise_sets': 'Exercise Sets',
                'set_id': 'Set ID',
                'exercise_id': 'Exercise ID',
                'set_number': 'Set Number',
                'reps': 'Reps',
                'hold_time': 'Hold Time',
                'rest_time': 'Rest Time',
                'name': 'Name',
                'description': 'Description',
                'created_by': 'Created By',
                'exercise_type': 'Exercise Type',
                'strength': 'Strength',
                'core': 'Core',
                'flexibility': 'Flexibility',
                'cardio': 'Cardio',
                'add': 'Add',
                'edit': 'Edit',
                'delete': 'Delete',
                'save': 'Save',
                'cancel': 'Cancel',
                'search': 'Search',
                'filter': 'Filter',
                'clear': 'Clear',
                'loading': 'Loading...',
                'no_data': 'No data available',
                'error': 'Error',
                'success': 'Success',
                'warning': 'Warning',
                'info': 'Information'
            },
            'es': {
                'exercise': 'Ejercicio',
                'exercise_set': 'Conjunto de Ejercicios',
                'exercises': 'Ejercicios',
                'exercise_sets': 'Conjuntos de Ejercicios',
                'set_id': 'ID del Conjunto',
                'exercise_id': 'ID del Ejercicio',
                'set_number': 'Número de Conjunto',
                'reps': 'Repeticiones',
                'hold_time': 'Tiempo de Mantenimiento',
                'rest_time': 'Tiempo de Descanso',
                'name': 'Nombre',
                'description': 'Descripción',
                'created_by': 'Creado Por',
                'exercise_type': 'Tipo de Ejercicio',
                'strength': 'Fuerza',
                'core': 'Núcleo',
                'flexibility': 'Flexibilidad',
                'cardio': 'Cardio',
                'add': 'Agregar',
                'edit': 'Editar',
                'delete': 'Eliminar',
                'save': 'Guardar',
                'cancel': 'Cancelar',
                'search': 'Buscar',
                'filter': 'Filtrar',
                'clear': 'Limpiar',
                'loading': 'Cargando...',
                'no_data': 'No hay datos disponibles',
                'error': 'Error',
                'success': 'Éxito',
                'warning': 'Advertencia',
                'info': 'Información'
            },
            'fr': {
                'exercise': 'Exercice',
                'exercise_set': 'Série d\'Exercices',
                'exercises': 'Exercices',
                'exercise_sets': 'Séries d\'Exercices',
                'set_id': 'ID de Série',
                'exercise_id': 'ID d\'Exercice',
                'set_number': 'Numéro de Série',
                'reps': 'Répétitions',
                'hold_time': 'Temps de Maintien',
                'rest_time': 'Temps de Repos',
                'name': 'Nom',
                'description': 'Description',
                'created_by': 'Créé Par',
                'exercise_type': 'Type d\'Exercice',
                'strength': 'Force',
                'core': 'Noyau',
                'flexibility': 'Flexibilité',
                'cardio': 'Cardio',
                'add': 'Ajouter',
                'edit': 'Modifier',
                'delete': 'Supprimer',
                'save': 'Enregistrer',
                'cancel': 'Annuler',
                'search': 'Rechercher',
                'filter': 'Filtrer',
                'clear': 'Effacer',
                'loading': 'Chargement...',
                'no_data': 'Aucune donnée disponible',
                'error': 'Erreur',
                'success': 'Succès',
                'warning': 'Avertissement',
                'info': 'Information'
            }
        };
    }
    transform(value, language = 'en', params) {
        if (!value) {
            return '';
        }
        // Get the translation for the current language
        const langTranslations = this.translations[language] || this.translations['en'];
        let translation = langTranslations[value] || value;
        // Replace parameters if provided
        if (params) {
            Object.keys(params).forEach(key => {
                const regex = new RegExp(`{{${key}}}`, 'g');
                translation = translation.replace(regex, params[key]);
            });
        }
        return translation;
    }
    // Method to get available languages
    getAvailableLanguages() {
        return Object.keys(this.translations);
    }
    // Method to check if a translation exists
    hasTranslation(key, language = 'en') {
        const langTranslations = this.translations[language] || this.translations['en'];
        return !!langTranslations[key];
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TranslatePipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe }); }
    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "14.0.0", version: "17.3.12", ngImport: i0, type: TranslatePipe, isStandalone: true, name: "translate" }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TranslatePipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'translate',
                    standalone: true
                }]
        }] });

class TooltipPipe {
    transform(value, config) {
        if (!value) {
            return '';
        }
        // If config is a string, treat it as tooltip text
        if (typeof config === 'string') {
            return this.formatTooltip(value, { text: config });
        }
        // If config is an object, use it directly
        if (config && typeof config === 'object') {
            return this.formatTooltip(value, config);
        }
        // Default tooltip formatting
        return this.formatTooltip(value, {});
    }
    formatTooltip(value, config) {
        let tooltipText = config.text || this.generateDefaultTooltip(value);
        // Apply formatting based on value type
        if (typeof value === 'object') {
            tooltipText = this.formatObjectTooltip(value, tooltipText);
        }
        else if (typeof value === 'string') {
            tooltipText = this.formatStringTooltip(value, tooltipText);
        }
        else if (typeof value === 'number') {
            tooltipText = this.formatNumberTooltip(value, tooltipText);
        }
        else if (typeof value === 'boolean') {
            tooltipText = this.formatBooleanTooltip(value, tooltipText);
        }
        // Add HTML attributes for tooltip configuration
        const attributes = this.generateTooltipAttributes(config);
        return `${tooltipText}${attributes}`;
    }
    generateDefaultTooltip(value) {
        if (typeof value === 'string') {
            return value.length > 50 ? `${value.substring(0, 50)}...` : value;
        }
        if (typeof value === 'object') {
            return JSON.stringify(value);
        }
        return String(value);
    }
    formatObjectTooltip(obj, baseText) {
        if (obj.name) {
            return `${obj.name}${obj.description ? ` - ${obj.description}` : ''}`;
        }
        if (obj.title) {
            return `${obj.title}${obj.subtitle ? ` - ${obj.subtitle}` : ''}`;
        }
        if (obj.label) {
            return `${obj.label}${obj.value ? `: ${obj.value}` : ''}`;
        }
        return baseText;
    }
    formatStringTooltip(str, baseText) {
        // If string is too long, truncate it
        if (str.length > 100) {
            return `${str.substring(0, 100)}...`;
        }
        return str;
    }
    formatNumberTooltip(num, baseText) {
        // Format numbers with appropriate units or formatting
        if (num >= 1000000) {
            return `${(num / 1000000).toFixed(1)}M`;
        }
        if (num >= 1000) {
            return `${(num / 1000).toFixed(1)}K`;
        }
        return num.toString();
    }
    formatBooleanTooltip(bool, baseText) {
        return bool ? 'Yes' : 'No';
    }
    generateTooltipAttributes(config) {
        const attributes = [];
        if (config.position) {
            attributes.push(`data-position="${config.position}"`);
        }
        if (config.delay) {
            attributes.push(`data-delay="${config.delay}"`);
        }
        if (config.showArrow !== undefined) {
            attributes.push(`data-arrow="${config.showArrow}"`);
        }
        if (config.customClass) {
            attributes.push(`data-class="${config.customClass}"`);
        }
        if (config.maxWidth) {
            attributes.push(`data-max-width="${config.maxWidth}"`);
        }
        if (config.html) {
            attributes.push('data-html="true"');
        }
        return attributes.length > 0 ? ` ${attributes.join(' ')}` : '';
    }
    // Utility methods for common tooltip patterns
    static createStatusTooltip(status, additionalInfo) {
        const statusMap = {
            'active': 'Active - Currently in use',
            'inactive': 'Inactive - Not currently in use',
            'pending': 'Pending - Awaiting approval',
            'completed': 'Completed - Finished successfully',
            'cancelled': 'Cancelled - No longer active',
            'draft': 'Draft - Not yet finalized'
        };
        const baseText = statusMap[status.toLowerCase()] || `Status: ${status}`;
        return additionalInfo ? `${baseText}\n${additionalInfo}` : baseText;
    }
    static createDateTooltip(date, format) {
        const dateObj = typeof date === 'string' ? new Date(date) : date;
        const now = new Date();
        const diffTime = Math.abs(now.getTime() - dateObj.getTime());
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        let relativeText = '';
        if (diffDays === 0) {
            relativeText = 'Today';
        }
        else if (diffDays === 1) {
            relativeText = 'Yesterday';
        }
        else if (diffDays < 7) {
            relativeText = `${diffDays} days ago`;
        }
        else if (diffDays < 30) {
            const weeks = Math.floor(diffDays / 7);
            relativeText = `${weeks} week${weeks > 1 ? 's' : ''} ago`;
        }
        else {
            const months = Math.floor(diffDays / 30);
            relativeText = `${months} month${months > 1 ? 's' : ''} ago`;
        }
        const formattedDate = dateObj.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
        return `${formattedDate}\n(${relativeText})`;
    }
    static createProgressTooltip(current, total, unit) {
        const percentage = Math.round((current / total) * 100);
        const unitText = unit || '';
        return `${current}${unitText} of ${total}${unitText}\n${percentage}% complete`;
    }
    static createUserTooltip(user) {
        if (!user)
            return 'Unknown user';
        const parts = [];
        if (user.name) {
            parts.push(user.name);
        }
        if (user.email) {
            parts.push(user.email);
        }
        if (user.role) {
            parts.push(`Role: ${user.role}`);
        }
        if (user.department) {
            parts.push(`Dept: ${user.department}`);
        }
        return parts.join('\n');
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TooltipPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe }); }
    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "14.0.0", version: "17.3.12", ngImport: i0, type: TooltipPipe, isStandalone: true, name: "tooltip" }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: TooltipPipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'tooltip',
                    standalone: true
                }]
        }] });

class SafePipe {
    constructor(sanitizer) {
        this.sanitizer = sanitizer;
    }
    transform(value, type) {
        switch (type) {
            case 'resourceUrl':
                return this.sanitizer.bypassSecurityTrustResourceUrl(value);
            case 'script':
                return this.sanitizer.bypassSecurityTrustScript(value);
            case 'url':
                return this.sanitizer.bypassSecurityTrustUrl(value);
            case 'style':
                return this.sanitizer.bypassSecurityTrustStyle(value);
            case 'html':
                return this.sanitizer.bypassSecurityTrustHtml(value);
            default:
                throw new Error(`Invalid safe type specified: ${type}`);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: SafePipe, deps: [{ token: i1$5.DomSanitizer }], target: i0.ɵɵFactoryTarget.Pipe }); }
    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "14.0.0", version: "17.3.12", ngImport: i0, type: SafePipe, isStandalone: true, name: "safe" }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: SafePipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'safe',
                    standalone: true
                }]
        }], ctorParameters: () => [{ type: i1$5.DomSanitizer }] });

/**
 * Public API for @lk/core library
 * Export all public-facing classes, services, interfaces, and utilities
 */
// Core Event Service

/**
 * Generated bundle index. Do not edit.
 */

export { API_BASE_URL, AccountStatus, ApiConfigService, AppButtonComponent, AppInputComponent, AppSelectboxComponent, AuthGuard, AuthService, ButtonCheckboxComponent, CHIP_COLORS, CalendarComponent, CarouselComponent, ChartComponent, ChartService, CheckboxComponent, ChipCellRendererComponent, CommonUtils, ConfirmationDialogComponent, ConfirmationDialogWrapperComponent, CoreEventService, DIALOG_DATA_TOKEN, DataService, DatePickerComponent, DialogboxComponent, DialogboxService, DividerComponent, FilterComponent, FooterDirective, GridComponent, GridListFiltersComponent, GridMenuRendererComponent, HttpCallsService, HttpInterceptorService, HttpService, HttpUtilService, IconComponent, ImageComponent, JsonReflectComponent, LoaderComponent, LoginGuard, MenuService, NotesDialogComponent, Observe, PageBodyDirective, PageComponent, PdfViewerComponent, QrCodeGeneratorComponent, RadioButtonComponent, ResponseType, RichTextEditorComponent, SafePipe, SliderComponent, SnackbarService, StatusCellRendererComponent, StepComponent, StepperComponent, TabComponent, TabsComponent, ToggleButtonComponent, TooltipDirective, TooltipPipe, TranslatePipe, TreeStructureComponent, UploadboxComponent, UserType };
//# sourceMappingURL=lk-core.mjs.map
