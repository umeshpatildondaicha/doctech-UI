import { Component, inject, InjectionToken } from '@angular/core';
import { CommonModule } from '@angular/common';
import { AppSelectboxComponent } from '../app-selectbox/app-selectbox.component';
import { AppButtonComponent } from '../app-button/app-button.component';
import { AppInputComponent } from '../app-input/app-input.component';
import { DatePickerComponent } from '../date-picker/date-picker.component';
import { FormsModule } from '@angular/forms';
import { MatSelectModule } from '@angular/material/select';
import { MatFormFieldModule } from '@angular/material/form-field';
import { MatOptionModule } from '@angular/material/core';
import { MatDialogRef } from '@angular/material/dialog';
import { trigger, style, transition, animate } from '@angular/animations';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
// Injection token for dialog data
export const DIALOG_DATA_TOKEN = new InjectionToken('dialogData');
export class FilterComponent {
    constructor() {
        this.fields = [];
        this.operators = [];
        this.operatorsMap = {};
        this.valuesMap = {};
        // New state management for sidebar approach
        this.selectedField = '';
        this.selectedFieldObj = null;
        this.appliedFilters = {};
        this.showAdvanced = false;
        this.dataTitle = 'All Data';
        // Legacy support
        this.filters = [];
        this.logic = 'AND';
        this.dialogRef = inject((MatDialogRef));
        this.data = inject(DIALOG_DATA_TOKEN);
        if (this.data) {
            this.fields = this.data.fields || [];
            this.operators = this.data.operators || [];
            this.operatorsMap = this.data.operatorsMap || {};
            this.valuesMap = this.data.valuesMap || {};
            this.dataTitle = this.data.title || 'All Data';
            // Initialize with first field if available
            if (this.fields.length > 0 && !this.selectedField) {
                this.selectField(this.fields[0]);
            }
            // Convert legacy filters if provided
            if (this.data.filters && this.data.filters.length > 0) {
                this.convertLegacyFilters(this.data.filters);
            }
        }
    }
    // Field Selection
    selectField(field) {
        this.selectedField = field.value;
        this.selectedFieldObj = field;
    }
    // Get field-specific values
    getValues(field) {
        return this.valuesMap[field] || [];
    }
    // Get field icon based on input type
    getFieldIcon(inputType) {
        switch (inputType) {
            case 'select': return 'ðŸ“‹';
            case 'boolean': return 'â˜‘ï¸';
            case 'date': return 'ðŸ“…';
            case 'number': return 'ðŸ”¢';
            case 'input':
            default: return 'ðŸ“';
        }
    }
    // Get field description
    getFieldDescription(field) {
        switch (field.inputType) {
            case 'select': return `Select one or more ${field.label.toLowerCase()} options`;
            case 'boolean': return `Choose true or false for ${field.label.toLowerCase()}`;
            case 'date': return `Set date range for ${field.label.toLowerCase()}`;
            case 'number': return `Set numeric range for ${field.label.toLowerCase()}`;
            case 'input':
            default: return `Enter text to search in ${field.label.toLowerCase()}`;
        }
    }
    // Option Selection for Select fields
    isOptionSelected(field, option) {
        const fieldFilters = this.appliedFilters[field];
        if (!fieldFilters || !fieldFilters.values)
            return false;
        return fieldFilters.values.includes(option);
    }
    toggleOption(field, option) {
        if (!this.appliedFilters[field]) {
            this.appliedFilters[field] = { type: 'select', values: [] };
        }
        const values = this.appliedFilters[field]?.values || [];
        const index = values.indexOf(option);
        if (index > -1) {
            values.splice(index, 1);
            if (values.length === 0) {
                delete this.appliedFilters[field];
            }
        }
        else {
            values.push(option);
        }
    }
    // Boolean Selection
    isBooleanSelected(field, value) {
        const fieldFilter = this.appliedFilters[field];
        return fieldFilter && fieldFilter.value === value;
    }
    setBooleanValue(field, value) {
        if (this.isBooleanSelected(field, value)) {
            delete this.appliedFilters[field];
        }
        else {
            this.appliedFilters[field] = { type: 'boolean', value };
        }
    }
    // Range Values (Number/Date)
    getRangeValue(field, type) {
        const fieldFilter = this.appliedFilters[field];
        if (!fieldFilter || fieldFilter.type !== 'range')
            return '';
        return fieldFilter[type] || '';
    }
    setRangeMinValue(field, event) {
        this.setRangeValueInternal(field, 'min', event.target.value);
    }
    setRangeMaxValue(field, event) {
        this.setRangeValueInternal(field, 'max', event.target.value);
    }
    setRangeValueInternal(field, type, value) {
        if (!this.appliedFilters[field]) {
            this.appliedFilters[field] = { type: 'range' };
        }
        this.appliedFilters[field][type] = value;
        // Remove if both min and max are empty
        if (!this.appliedFilters[field].min && !this.appliedFilters[field].max) {
            delete this.appliedFilters[field];
        }
    }
    // Text Values
    getTextValue(field) {
        const fieldFilter = this.appliedFilters[field];
        return fieldFilter && fieldFilter.type === 'text' ? fieldFilter.value : '';
    }
    setTextValue(field, event) {
        const value = event.target.value;
        if (!value.trim()) {
            delete this.appliedFilters[field];
        }
        else {
            this.appliedFilters[field] = { type: 'text', value };
        }
    }
    // Get filters for a specific field
    getFieldFilters(field) {
        const fieldFilter = this.appliedFilters[field];
        if (!fieldFilter)
            return [];
        switch (fieldFilter.type) {
            case 'select':
                return fieldFilter.values || [];
            case 'boolean':
                return [fieldFilter.value];
            case 'range':
                const parts = [];
                if (fieldFilter.min)
                    parts.push(`â‰¥ ${fieldFilter.min}`);
                if (fieldFilter.max)
                    parts.push(`â‰¤ ${fieldFilter.max}`);
                return parts;
            case 'text':
                return [fieldFilter.value];
            default:
                return [];
        }
    }
    // Remove field filter
    removeFieldFilter(field, filter) {
        const fieldFilter = this.appliedFilters[field];
        if (!fieldFilter)
            return;
        if (fieldFilter.type === 'select') {
            const index = fieldFilter.values.indexOf(filter);
            if (index > -1) {
                fieldFilter.values.splice(index, 1);
                if (fieldFilter.values.length === 0) {
                    delete this.appliedFilters[field];
                }
            }
        }
        else {
            delete this.appliedFilters[field];
        }
    }
    // Get display text for filter
    getFilterDisplayText(filter) {
        return String(filter);
    }
    // Get active filter fields
    getActiveFilterFields() {
        return Object.keys(this.appliedFilters);
    }
    // Get field label by field name
    getFieldLabel(fieldName) {
        const field = this.fields.find(f => f.value === fieldName);
        return field ? field.label : fieldName;
    }
    // Clear all filters
    clearAllFilters() {
        this.appliedFilters = {};
    }
    // Count active filters
    getActiveFiltersCount() {
        return Object.keys(this.appliedFilters).length;
    }
    // Get data title
    getDataTitle() {
        return this.dataTitle;
    }
    // Advanced options
    hasAdvancedOptions(field) {
        return field.inputType === 'input' || field.inputType === 'number';
    }
    toggleAdvanced() {
        this.showAdvanced = !this.showAdvanced;
    }
    // Filter summary
    getFilterSummary() {
        const count = this.getActiveFiltersCount();
        if (count === 0)
            return '';
        if (count === 1) {
            return '1 active filter';
        }
        return `${count} filters applied`;
    }
    // Estimated results (mock implementation)
    getEstimatedResults() {
        // This would be replaced with actual count logic
        const baseCount = 2240;
        const filterReduction = this.getActiveFiltersCount() * 0.3;
        const estimated = Math.floor(baseCount * (1 - filterReduction));
        return estimated.toLocaleString();
    }
    // Convert to legacy format for backward compatibility
    convertToLegacyFilters() {
        const legacyFilters = [];
        Object.entries(this.appliedFilters).forEach(([field, filter]) => {
            const fieldObj = this.fields.find(f => f.value === field);
            if (!fieldObj)
                return;
            switch (filter.type) {
                case 'select':
                    filter.values.forEach((value) => {
                        legacyFilters.push({
                            field,
                            operator: 'eq',
                            value,
                            inputType: 'select'
                        });
                    });
                    break;
                case 'boolean':
                    legacyFilters.push({
                        field,
                        operator: 'eq',
                        value: filter.value,
                        inputType: 'boolean'
                    });
                    break;
                case 'range': {
                    if (filter.min && filter.max) {
                        legacyFilters.push({
                            field,
                            operator: 'between',
                            value: filter.min,
                            valueTo: filter.max,
                            inputType: fieldObj.inputType
                        });
                    }
                    else if (filter.min) {
                        legacyFilters.push({
                            field,
                            operator: 'gte',
                            value: filter.min,
                            inputType: fieldObj.inputType
                        });
                    }
                    else if (filter.max) {
                        legacyFilters.push({
                            field,
                            operator: 'lte',
                            value: filter.max,
                            inputType: fieldObj.inputType
                        });
                    }
                    break;
                }
                case 'text':
                    legacyFilters.push({
                        field,
                        operator: 'contains',
                        value: filter.value,
                        inputType: 'input'
                    });
                    break;
            }
        });
        return legacyFilters;
    }
    // Convert legacy filters to new format
    convertLegacyFilters(legacyFilters) {
        legacyFilters.forEach(filter => {
            const field = filter.field;
            switch (filter.inputType) {
                case 'select':
                    if (!this.appliedFilters[field]) {
                        this.appliedFilters[field] = { type: 'select', values: [] };
                    }
                    if (!this.appliedFilters[field].values.includes(filter.value)) {
                        this.appliedFilters[field].values.push(filter.value);
                    }
                    break;
                case 'boolean':
                    this.appliedFilters[field] = { type: 'boolean', value: filter.value };
                    break;
                case 'number':
                case 'date':
                    if (filter.operator === 'between') {
                        this.appliedFilters[field] = {
                            type: 'range',
                            min: filter.value,
                            max: filter.valueTo
                        };
                    }
                    else if (filter.operator === 'gte' || filter.operator === 'gt') {
                        if (!this.appliedFilters[field]) {
                            this.appliedFilters[field] = { type: 'range' };
                        }
                        this.appliedFilters[field].min = filter.value;
                    }
                    else if (filter.operator === 'lte' || filter.operator === 'lt') {
                        if (!this.appliedFilters[field]) {
                            this.appliedFilters[field] = { type: 'range' };
                        }
                        this.appliedFilters[field].max = filter.value;
                    }
                    break;
                case 'input':
                    this.appliedFilters[field] = { type: 'text', value: filter.value };
                    break;
            }
        });
    }
    // Dialog actions
    cancel() {
        this.dialogRef.close();
    }
    apply() {
        const legacyFilters = this.convertToLegacyFilters();
        this.dialogRef.close({
            filters: legacyFilters,
            logic: this.logic,
            appliedFilters: this.appliedFilters
        });
    }
    // Legacy method support
    reset() {
        this.appliedFilters = {};
        this.selectedField = '';
        this.selectedFieldObj = null;
        if (this.fields.length > 0) {
            this.selectField(this.fields[0]);
        }
    }
    static { this.Éµfac = i0.ÉµÉµngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: FilterComponent, deps: [], target: i0.ÉµÉµFactoryTarget.Component }); }
    static { this.Éµcmp = i0.ÉµÉµngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: FilterComponent, isStandalone: true, selector: "app-filter", ngImport: i0, template: "<div class=\"filter-container\">\n  <!-- Filter Info Header -->\n  <div class=\"filter-info\">\n    <div class=\"info-content\">\n      <h3>Filters for: {{ getDataTitle() }}</h3>\n      <p class=\"info-subtitle\">See results in your view based on the filters you select here.</p>\n    </div>\n    <div class=\"filter-count-badge\" *ngIf=\"getActiveFiltersCount() > 0\">\n      {{ getActiveFiltersCount() }} applied\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"filter-controls\">\n    <!-- Left Sidebar -->\n    <div class=\"filter-sidebar\">\n      <div class=\"sidebar-section\">\n        <div class=\"section-header\">Filters</div>\n        <ul class=\"filter-category\">\n          <li class=\"category-item\" *ngFor=\"let field of fields; let i = index\">\n            <button \n              class=\"category-button\" \n              [class.active]=\"selectedField === field.value\"\n              (click)=\"selectField(field)\">\n              <span class=\"category-icon\">{{ getFieldIcon(field.inputType) }}</span>\n              <span class=\"category-label\">{{ field.label }}</span>\n              <span class=\"category-arrow\">\u203A</span>\n            </button>\n            <div class=\"applied-filters\" *ngIf=\"getFieldFilters(field.value).length > 0\">\n              <button \n                class=\"applied-tag\" \n                *ngFor=\"let filter of getFieldFilters(field.value)\"\n                (click)=\"removeFieldFilter(field.value, filter)\"\n                type=\"button\">\n                {{ getFilterDisplayText(filter) }}\n                <span class=\"tag-remove\">\u00D7</span>\n              </button>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- Right Content -->\n    <div class=\"filter-content\">\n      <!-- Active Filters Summary -->\n      <div class=\"active-filters-summary\" *ngIf=\"getActiveFiltersCount() > 0\">\n        <div class=\"summary-header\">\n          <h3>Active Filters ({{ getActiveFiltersCount() }})</h3>\n          <button class=\"clear-all-btn\" (click)=\"clearAllFilters()\" type=\"button\">Clear All</button>\n        </div>\n        <div class=\"active-filters-list\">\n          <div class=\"active-filter-item\" *ngFor=\"let fieldName of getActiveFilterFields()\">\n            <div class=\"filter-field-name\">{{ getFieldLabel(fieldName) }}</div>\n            <div class=\"filter-values\">\n              <button \n                class=\"filter-value-tag\"\n                *ngFor=\"let value of getFieldFilters(fieldName)\"\n                (click)=\"removeFieldFilter(fieldName, value)\"\n                type=\"button\">\n                {{ getFilterDisplayText(value) }}\n                <span class=\"value-remove\">\u00D7</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Field Configuration -->\n      <div class=\"field-configuration\" *ngIf=\"selectedFieldObj\">\n        <div class=\"content-header\">\n          <h3>{{ selectedFieldObj.label }}</h3>\n          <p class=\"content-subtitle\">{{ getFieldDescription(selectedFieldObj) }}</p>\n        </div>\n\n        <!-- Select Type Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'select'\">\n          <div class=\"section-title\">Available Options</div>\n          <div class=\"options-grid\">\n            <label \n              class=\"option-checkbox\"\n              *ngFor=\"let option of getValues(selectedFieldObj.value)\"\n              [class.selected]=\"isOptionSelected(selectedFieldObj.value, option)\">\n              <input \n                type=\"checkbox\"\n                [checked]=\"isOptionSelected(selectedFieldObj.value, option)\"\n                (change)=\"toggleOption(selectedFieldObj.value, option)\"\n                class=\"checkbox-input\">\n              <span class=\"checkbox-custom\"></span>\n              <span class=\"option-label\">{{ option }}</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Boolean Type Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'boolean'\">\n          <div class=\"section-title\">Select Value</div>\n          <div class=\"boolean-options\">\n            <label class=\"boolean-option\" [class.selected]=\"isBooleanSelected(selectedFieldObj.value, true)\">\n              <input \n                type=\"radio\" \n                [name]=\"'boolean-' + selectedFieldObj.value\"\n                [checked]=\"isBooleanSelected(selectedFieldObj.value, true)\"\n                (change)=\"setBooleanValue(selectedFieldObj.value, true)\"\n                class=\"radio-input\">\n              <span class=\"radio-custom\"></span>\n              <span class=\"option-label\">True</span>\n            </label>\n            <label class=\"boolean-option\" [class.selected]=\"isBooleanSelected(selectedFieldObj.value, false)\">\n              <input \n                type=\"radio\" \n                [name]=\"'boolean-' + selectedFieldObj.value\"\n                [checked]=\"isBooleanSelected(selectedFieldObj.value, false)\"\n                (change)=\"setBooleanValue(selectedFieldObj.value, false)\"\n                class=\"radio-input\">\n              <span class=\"radio-custom\"></span>\n              <span class=\"option-label\">False</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Number/Date Range Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'number' || selectedFieldObj.inputType === 'date'\">\n          <div class=\"section-title\">Set Range</div>\n          <div class=\"range-inputs\">\n            <div class=\"range-field-group\">\n              <label class=\"range-label\" [for]=\"'min-' + selectedFieldObj.value\">\n                {{ selectedFieldObj.inputType === 'date' ? 'From Date' : 'Minimum Value' }}\n              </label>\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'number'\"\n                type=\"number\" \n                class=\"range-input\"\n                [id]=\"'min-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'min')\"\n                (input)=\"setRangeMinValue(selectedFieldObj.value, $event)\"\n                placeholder=\"Enter minimum\">\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'date'\"\n                type=\"date\" \n                class=\"range-input\"\n                [id]=\"'min-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'min')\"\n                (input)=\"setRangeMinValue(selectedFieldObj.value, $event)\">\n            </div>\n            <div class=\"range-separator\">to</div>\n            <div class=\"range-field-group\">\n              <label class=\"range-label\" [for]=\"'max-' + selectedFieldObj.value\">\n                {{ selectedFieldObj.inputType === 'date' ? 'To Date' : 'Maximum Value' }}\n              </label>\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'number'\"\n                type=\"number\" \n                class=\"range-input\"\n                [id]=\"'max-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'max')\"\n                (input)=\"setRangeMaxValue(selectedFieldObj.value, $event)\"\n                placeholder=\"Enter maximum\">\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'date'\"\n                type=\"date\" \n                class=\"range-input\"\n                [id]=\"'max-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'max')\"\n                (input)=\"setRangeMaxValue(selectedFieldObj.value, $event)\">\n            </div>\n          </div>\n        </div>\n\n        <!-- Text Input Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'input'\">\n          <div class=\"section-title\">Search Text</div>\n          <div class=\"text-input-group\">\n            <label class=\"text-label\" [for]=\"'text-' + selectedFieldObj.value\">\n              Enter search term for {{ selectedFieldObj.label.toLowerCase() }}\n            </label>\n            <input \n              type=\"text\" \n              class=\"text-input\"\n              [id]=\"'text-' + selectedFieldObj.value\"\n              [value]=\"getTextValue(selectedFieldObj.value)\"\n              (input)=\"setTextValue(selectedFieldObj.value, $event)\"\n              placeholder=\"Type to search...\">\n            <small class=\"input-hint\">Search will match any part of the text</small>\n          </div>\n        </div>\n      </div>\n\n      <!-- No Field Selected State -->\n      <div class=\"no-field-selected\" *ngIf=\"!selectedFieldObj\">\n        <div class=\"empty-state\">\n          <div class=\"empty-icon\">\uD83C\uDFAF</div>\n          <h3>Select a Filter</h3>\n          <p>Choose a field from the sidebar to configure your filters. You can apply multiple filters to narrow down your results.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Footer -->\n  <div class=\"filter-footer\">\n    <div class=\"footer-left\">\n      <div class=\"results-preview\" *ngIf=\"getActiveFiltersCount() > 0\">\n        <span class=\"results-label\">Results:</span>\n        <span class=\"results-count\">{{ getEstimatedResults() }}</span>\n      </div>\n      <div class=\"filter-summary\" *ngIf=\"getActiveFiltersCount() === 0\">\n        No filters applied - showing all results\n      </div>\n    </div>\n    <div class=\"footer-actions\">\n      <button class=\"footer-btn cancel-btn\" (click)=\"cancel()\" type=\"button\">\n        Cancel\n      </button>\n      <button class=\"footer-btn apply-btn\" (click)=\"apply()\" type=\"button\" [disabled]=\"getActiveFiltersCount() === 0\">\n        <span class=\"btn-icon\">\uD83D\uDD0D</span>\n        Apply Filters\n        <span class=\"apply-count\" *ngIf=\"getActiveFiltersCount() > 0\">({{ getActiveFiltersCount() }})</span>\n      </button>\n    </div>\n  </div>\n</div>", styles: ["@charset \"UTF-8\";.filter-container{display:flex;flex-direction:column;width:100%;height:100%;min-height:600px;max-height:70vh;overflow:hidden}.filter-info{background:var(--page-background-color);border:var(--primary-border);border-radius:var(--input-radius);padding:12px 16px;margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.filter-info .info-content h3{margin:0 0 2px;font-size:16px;font-weight:600;color:var(--primary-font-color);line-height:1.2}.filter-info .info-content .info-subtitle{margin:0;font-size:var(--tertiary-font-size);color:var(--secondary-font-color);line-height:1.3}.filter-info .filter-count-badge{background:var(--primary-color);color:var(--surface-color);font-size:12px;font-weight:600;padding:6px 12px;border-radius:16px;border:none}.filter-controls{display:flex;flex:1;min-height:400px;overflow:hidden;border:var(--primary-border);border-radius:var(--input-radius);background:var(--surface-color)}.filter-sidebar{width:280px;background:var(--page-background-color);border-right:var(--primary-border);border-radius:var(--input-radius) 0 0 0;padding:20px 0;overflow-y:auto;max-height:100%}.filter-sidebar .sidebar-section .section-header{padding:0 24px 12px;font-size:var(--tertiary-font-size);font-weight:var(--primary-font-weight);color:var(--secondary-font-color);text-transform:uppercase;letter-spacing:.5px}.filter-sidebar .sidebar-section .filter-category{margin:0;list-style:none;padding:0}.filter-sidebar .sidebar-section .filter-category .category-item{margin:0}.filter-sidebar .sidebar-section .filter-category .category-item .category-button{width:100%;background:none;border:none;padding:12px 24px;text-align:left;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:14px;color:var(--primary-font-color);transition:all .2s ease;position:relative}.filter-sidebar .sidebar-section .filter-category .category-item .category-button:hover{background:var(--secondary-background-color)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button.active{background:var(--diet-quinary-color);color:var(--primary-color);font-weight:var(--primary-font-weight)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button.active:before{content:\"\";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--primary-color)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-icon{margin-right:12px;font-size:16px}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-label{flex:1}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-arrow{font-size:12px;color:var(--tertiary-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters{padding:0 24px 0 52px;margin-top:8px}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag{display:inline-flex;align-items:center;background:var(--status-info-bg);color:var(--status-info-color);font-size:12px;padding:4px 8px;border-radius:6px;margin:2px 4px 2px 0;border:var(--status-info-border);cursor:pointer;transition:all .2s ease}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag:hover{background:var(--status-info-color);color:var(--surface-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag .tag-remove{margin-left:6px;font-weight:700;color:var(--status-info-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag .tag-remove:hover{color:var(--surface-color)}.filter-content{flex:1;padding:20px 24px;overflow-y:auto;background:var(--surface-color);border-radius:0 8px 0 0;max-height:100%}.filter-content .active-filters-summary{background:var(--page-background-color);border:var(--primary-border);border-radius:8px;padding:20px;margin-bottom:24px}.filter-content .active-filters-summary .summary-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.filter-content .active-filters-summary .summary-header h3{margin:0;font-size:16px;font-weight:600;color:var(--primary-font-color)}.filter-content .active-filters-summary .summary-header .clear-all-btn{background:none;border:var(--primary-border);color:var(--secondary-font-color);font-size:12px;padding:6px 12px;border-radius:6px;cursor:pointer;transition:all .2s ease}.filter-content .active-filters-summary .summary-header .clear-all-btn:hover{background:var(--secondary-background-color);border-color:var(--tertiary-color)}.filter-content .active-filters-summary .active-filters-list .active-filter-item{margin-bottom:12px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-field-name{font-size:13px;font-weight:600;color:#475569;margin-bottom:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values{display:flex;flex-wrap:wrap;gap:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag{background:var(--primary-color);color:var(--surface-color);font-size:12px;padding:4px 10px;border-radius:16px;border:none;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag:hover{background:#0e9a9a}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag .value-remove{font-weight:700;opacity:.8}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag .value-remove:hover{opacity:1}.filter-content .field-configuration .content-header{margin-bottom:24px}.filter-content .field-configuration .content-header h3{margin:0 0 8px;font-size:20px;font-weight:600;color:var(--primary-font-color)}.filter-content .field-configuration .content-header .content-subtitle{margin:0;font-size:14px;color:var(--secondary-font-color);line-height:1.5}.filter-content .field-configuration .filter-section .section-title{font-size:16px;font-weight:600;color:var(--primary-font-color);margin:0 0 16px}.filter-content .field-configuration .filter-section .options-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}.filter-content .field-configuration .filter-section .options-grid .option-checkbox{display:flex;align-items:center;padding:12px 16px;border:var(--primary-border);border-radius:8px;cursor:pointer;transition:all .2s ease;background:var(--surface-color)}.filter-content .field-configuration .filter-section .options-grid .option-checkbox:hover{border-color:#d1d5db;background:#f9fafb}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected{border-color:var(--primary-color);background:#f0fdfa}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-input{display:none}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-custom{width:20px;height:20px;border:2px solid #d1d5db;border-radius:4px;margin-right:12px;position:relative;flex-shrink:0;transition:all .2s ease}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-custom:after{content:\"\\2713\";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--surface-color);font-size:12px;font-weight:700;opacity:0;transition:opacity .2s ease}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected .checkbox-custom{background:var(--primary-color);border-color:var(--primary-color)}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected .checkbox-custom:after{opacity:1}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .option-label{font-size:14px;color:var(--primary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .boolean-options{display:flex;gap:16px}.filter-content .field-configuration .filter-section .boolean-options .boolean-option{display:flex;align-items:center;padding:16px 20px;border:var(--primary-border);border-radius:8px;cursor:pointer;transition:all .2s ease;background:var(--surface-color);min-width:120px}.filter-content .field-configuration .filter-section .boolean-options .boolean-option:hover{border-color:#d1d5db;background:#f9fafb}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected{border-color:var(--primary-color);background:#f0fdfa}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-input{display:none}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-custom{width:20px;height:20px;border:2px solid #d1d5db;border-radius:50%;margin-right:12px;position:relative;flex-shrink:0;transition:all .2s ease}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-custom:after{content:\"\";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:var(--primary-color);border-radius:50%;opacity:0;transition:opacity .2s ease}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected .radio-custom{border-color:var(--primary-color)}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected .radio-custom:after{opacity:1}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .option-label{font-size:14px;color:var(--primary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .range-inputs{display:flex;align-items:flex-end;gap:16px}.filter-content .field-configuration .filter-section .range-inputs .range-field-group{flex:1}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-label{display:block;font-size:13px;font-weight:500;color:#374151;margin-bottom:8px}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-input{width:100%;padding:12px 16px;border:var(--primary-border);border-radius:8px;font-size:14px;background:var(--surface-color);transition:border-color .2s ease}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #10b3b31a}.filter-content .field-configuration .filter-section .range-inputs .range-separator{padding:12px 8px 0;font-size:14px;color:var(--secondary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .text-input-group .text-label{display:block;font-size:13px;font-weight:500;color:#374151;margin-bottom:8px}.filter-content .field-configuration .filter-section .text-input-group .text-input{width:100%;padding:12px 16px;border:var(--primary-border);border-radius:8px;font-size:14px;background:var(--surface-color);transition:border-color .2s ease}.filter-content .field-configuration .filter-section .text-input-group .text-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #10b3b31a}.filter-content .field-configuration .filter-section .text-input-group .input-hint{display:block;font-size:12px;color:var(--secondary-font-color);margin-top:6px}.filter-content .no-field-selected{display:flex;align-items:center;justify-content:center;height:100%;min-height:300px}.filter-content .no-field-selected .empty-state{text-align:center;max-width:400px}.filter-content .no-field-selected .empty-state .empty-icon{font-size:48px;margin-bottom:16px}.filter-content .no-field-selected .empty-state h3{margin:0 0 12px;font-size:20px;font-weight:600;color:var(--primary-font-color)}.filter-content .no-field-selected .empty-state p{margin:0;font-size:14px;color:var(--secondary-font-color);line-height:1.5}.filter-footer{background:var(--surface-color);border-top:var(--primary-border);border-radius:0 0 8px 8px;padding:16px 20px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0;min-height:70px}.filter-footer .footer-left{display:flex;align-items:center;gap:16px}.filter-footer .footer-left .results-preview{display:flex;align-items:center;gap:8px}.filter-footer .footer-left .results-preview .results-label{font-size:14px;color:var(--secondary-font-color)}.filter-footer .footer-left .results-preview .results-count{font-size:16px;font-weight:600;color:var(--primary-color);background:var(--status-success-bg);padding:4px 12px;border-radius:6px;border:var(--status-success-border)}.filter-footer .footer-left .filter-summary{font-size:14px;color:#6b7280;background:var(--secondary-background-color);padding:8px 12px;border-radius:6px}.filter-footer .footer-actions{display:flex;align-items:center;gap:12px}.filter-footer .footer-actions .footer-btn{padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;border:none}.filter-footer .footer-actions .footer-btn.cancel-btn{background:var(--surface-color);color:var(--secondary-font-color);border:var(--primary-border)}.filter-footer .footer-actions .footer-btn.cancel-btn:hover{background:#f9fafb;border-color:#d1d5db}.filter-footer .footer-actions .footer-btn.apply-btn{background:var(--primary-color);color:var(--surface-color);border:2px solid var(--primary-color);box-shadow:0 4px 12px #10b3b34d}.filter-footer .footer-actions .footer-btn.apply-btn:hover:not(:disabled){background:#0e9a9a;border-color:#0e9a9a;transform:translateY(-1px);box-shadow:0 6px 16px #10b3b366}.filter-footer .footer-actions .footer-btn.apply-btn:disabled{background:#9ca3af;border-color:#9ca3af;cursor:not-allowed;transform:none;box-shadow:none}.filter-footer .footer-actions .footer-btn.apply-btn .apply-count{background:#fff3;padding:2px 6px;border-radius:10px;font-size:12px;margin-left:4px}.filter-footer .footer-actions .footer-btn .btn-icon{font-size:16px}@media (max-width: 768px){.filter-container{min-width:95vw;max-width:95vw;max-height:90vh}.filter-controls{flex-direction:column}.filter-sidebar{width:100%;max-height:200px;order:2}.filter-content{order:1;padding:16px 20px}.filter-footer{padding:16px 20px;flex-direction:column;gap:12px}.filter-footer .footer-left,.filter-footer .footer-actions{width:100%;justify-content:center}}@keyframes slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: FormsModule }, { kind: "ngmodule", type: MatSelectModule }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "ngmodule", type: MatOptionModule }], animations: [
            trigger('slideIn', [
                transition(':enter', [
                    style({ opacity: 0, transform: 'translateX(20px)' }),
                    animate('300ms ease-out', style({ opacity: 1, transform: 'translateX(0)' }))
                ])
            ])
        ] }); }
}
i0.ÉµÉµngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: FilterComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-filter', standalone: true, imports: [
                        CommonModule,
                        FormsModule,
                        AppSelectboxComponent,
                        AppButtonComponent,
                        AppInputComponent,
                        DatePickerComponent,
                        MatSelectModule,
                        MatFormFieldModule,
                        MatOptionModule
                    ], animations: [
                        trigger('slideIn', [
                            transition(':enter', [
                                style({ opacity: 0, transform: 'translateX(20px)' }),
                                animate('300ms ease-out', style({ opacity: 1, transform: 'translateX(0)' }))
                            ])
                        ])
                    ], template: "<div class=\"filter-container\">\n  <!-- Filter Info Header -->\n  <div class=\"filter-info\">\n    <div class=\"info-content\">\n      <h3>Filters for: {{ getDataTitle() }}</h3>\n      <p class=\"info-subtitle\">See results in your view based on the filters you select here.</p>\n    </div>\n    <div class=\"filter-count-badge\" *ngIf=\"getActiveFiltersCount() > 0\">\n      {{ getActiveFiltersCount() }} applied\n    </div>\n  </div>\n\n  <!-- Main Content -->\n  <div class=\"filter-controls\">\n    <!-- Left Sidebar -->\n    <div class=\"filter-sidebar\">\n      <div class=\"sidebar-section\">\n        <div class=\"section-header\">Filters</div>\n        <ul class=\"filter-category\">\n          <li class=\"category-item\" *ngFor=\"let field of fields; let i = index\">\n            <button \n              class=\"category-button\" \n              [class.active]=\"selectedField === field.value\"\n              (click)=\"selectField(field)\">\n              <span class=\"category-icon\">{{ getFieldIcon(field.inputType) }}</span>\n              <span class=\"category-label\">{{ field.label }}</span>\n              <span class=\"category-arrow\">\u203A</span>\n            </button>\n            <div class=\"applied-filters\" *ngIf=\"getFieldFilters(field.value).length > 0\">\n              <button \n                class=\"applied-tag\" \n                *ngFor=\"let filter of getFieldFilters(field.value)\"\n                (click)=\"removeFieldFilter(field.value, filter)\"\n                type=\"button\">\n                {{ getFilterDisplayText(filter) }}\n                <span class=\"tag-remove\">\u00D7</span>\n              </button>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- Right Content -->\n    <div class=\"filter-content\">\n      <!-- Active Filters Summary -->\n      <div class=\"active-filters-summary\" *ngIf=\"getActiveFiltersCount() > 0\">\n        <div class=\"summary-header\">\n          <h3>Active Filters ({{ getActiveFiltersCount() }})</h3>\n          <button class=\"clear-all-btn\" (click)=\"clearAllFilters()\" type=\"button\">Clear All</button>\n        </div>\n        <div class=\"active-filters-list\">\n          <div class=\"active-filter-item\" *ngFor=\"let fieldName of getActiveFilterFields()\">\n            <div class=\"filter-field-name\">{{ getFieldLabel(fieldName) }}</div>\n            <div class=\"filter-values\">\n              <button \n                class=\"filter-value-tag\"\n                *ngFor=\"let value of getFieldFilters(fieldName)\"\n                (click)=\"removeFieldFilter(fieldName, value)\"\n                type=\"button\">\n                {{ getFilterDisplayText(value) }}\n                <span class=\"value-remove\">\u00D7</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Field Configuration -->\n      <div class=\"field-configuration\" *ngIf=\"selectedFieldObj\">\n        <div class=\"content-header\">\n          <h3>{{ selectedFieldObj.label }}</h3>\n          <p class=\"content-subtitle\">{{ getFieldDescription(selectedFieldObj) }}</p>\n        </div>\n\n        <!-- Select Type Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'select'\">\n          <div class=\"section-title\">Available Options</div>\n          <div class=\"options-grid\">\n            <label \n              class=\"option-checkbox\"\n              *ngFor=\"let option of getValues(selectedFieldObj.value)\"\n              [class.selected]=\"isOptionSelected(selectedFieldObj.value, option)\">\n              <input \n                type=\"checkbox\"\n                [checked]=\"isOptionSelected(selectedFieldObj.value, option)\"\n                (change)=\"toggleOption(selectedFieldObj.value, option)\"\n                class=\"checkbox-input\">\n              <span class=\"checkbox-custom\"></span>\n              <span class=\"option-label\">{{ option }}</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Boolean Type Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'boolean'\">\n          <div class=\"section-title\">Select Value</div>\n          <div class=\"boolean-options\">\n            <label class=\"boolean-option\" [class.selected]=\"isBooleanSelected(selectedFieldObj.value, true)\">\n              <input \n                type=\"radio\" \n                [name]=\"'boolean-' + selectedFieldObj.value\"\n                [checked]=\"isBooleanSelected(selectedFieldObj.value, true)\"\n                (change)=\"setBooleanValue(selectedFieldObj.value, true)\"\n                class=\"radio-input\">\n              <span class=\"radio-custom\"></span>\n              <span class=\"option-label\">True</span>\n            </label>\n            <label class=\"boolean-option\" [class.selected]=\"isBooleanSelected(selectedFieldObj.value, false)\">\n              <input \n                type=\"radio\" \n                [name]=\"'boolean-' + selectedFieldObj.value\"\n                [checked]=\"isBooleanSelected(selectedFieldObj.value, false)\"\n                (change)=\"setBooleanValue(selectedFieldObj.value, false)\"\n                class=\"radio-input\">\n              <span class=\"radio-custom\"></span>\n              <span class=\"option-label\">False</span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Number/Date Range Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'number' || selectedFieldObj.inputType === 'date'\">\n          <div class=\"section-title\">Set Range</div>\n          <div class=\"range-inputs\">\n            <div class=\"range-field-group\">\n              <label class=\"range-label\" [for]=\"'min-' + selectedFieldObj.value\">\n                {{ selectedFieldObj.inputType === 'date' ? 'From Date' : 'Minimum Value' }}\n              </label>\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'number'\"\n                type=\"number\" \n                class=\"range-input\"\n                [id]=\"'min-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'min')\"\n                (input)=\"setRangeMinValue(selectedFieldObj.value, $event)\"\n                placeholder=\"Enter minimum\">\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'date'\"\n                type=\"date\" \n                class=\"range-input\"\n                [id]=\"'min-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'min')\"\n                (input)=\"setRangeMinValue(selectedFieldObj.value, $event)\">\n            </div>\n            <div class=\"range-separator\">to</div>\n            <div class=\"range-field-group\">\n              <label class=\"range-label\" [for]=\"'max-' + selectedFieldObj.value\">\n                {{ selectedFieldObj.inputType === 'date' ? 'To Date' : 'Maximum Value' }}\n              </label>\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'number'\"\n                type=\"number\" \n                class=\"range-input\"\n                [id]=\"'max-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'max')\"\n                (input)=\"setRangeMaxValue(selectedFieldObj.value, $event)\"\n                placeholder=\"Enter maximum\">\n              <input \n                *ngIf=\"selectedFieldObj.inputType === 'date'\"\n                type=\"date\" \n                class=\"range-input\"\n                [id]=\"'max-' + selectedFieldObj.value\"\n                [value]=\"getRangeValue(selectedFieldObj.value, 'max')\"\n                (input)=\"setRangeMaxValue(selectedFieldObj.value, $event)\">\n            </div>\n          </div>\n        </div>\n\n        <!-- Text Input Configuration -->\n        <div class=\"filter-section\" *ngIf=\"selectedFieldObj.inputType === 'input'\">\n          <div class=\"section-title\">Search Text</div>\n          <div class=\"text-input-group\">\n            <label class=\"text-label\" [for]=\"'text-' + selectedFieldObj.value\">\n              Enter search term for {{ selectedFieldObj.label.toLowerCase() }}\n            </label>\n            <input \n              type=\"text\" \n              class=\"text-input\"\n              [id]=\"'text-' + selectedFieldObj.value\"\n              [value]=\"getTextValue(selectedFieldObj.value)\"\n              (input)=\"setTextValue(selectedFieldObj.value, $event)\"\n              placeholder=\"Type to search...\">\n            <small class=\"input-hint\">Search will match any part of the text</small>\n          </div>\n        </div>\n      </div>\n\n      <!-- No Field Selected State -->\n      <div class=\"no-field-selected\" *ngIf=\"!selectedFieldObj\">\n        <div class=\"empty-state\">\n          <div class=\"empty-icon\">\uD83C\uDFAF</div>\n          <h3>Select a Filter</h3>\n          <p>Choose a field from the sidebar to configure your filters. You can apply multiple filters to narrow down your results.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Footer -->\n  <div class=\"filter-footer\">\n    <div class=\"footer-left\">\n      <div class=\"results-preview\" *ngIf=\"getActiveFiltersCount() > 0\">\n        <span class=\"results-label\">Results:</span>\n        <span class=\"results-count\">{{ getEstimatedResults() }}</span>\n      </div>\n      <div class=\"filter-summary\" *ngIf=\"getActiveFiltersCount() === 0\">\n        No filters applied - showing all results\n      </div>\n    </div>\n    <div class=\"footer-actions\">\n      <button class=\"footer-btn cancel-btn\" (click)=\"cancel()\" type=\"button\">\n        Cancel\n      </button>\n      <button class=\"footer-btn apply-btn\" (click)=\"apply()\" type=\"button\" [disabled]=\"getActiveFiltersCount() === 0\">\n        <span class=\"btn-icon\">\uD83D\uDD0D</span>\n        Apply Filters\n        <span class=\"apply-count\" *ngIf=\"getActiveFiltersCount() > 0\">({{ getActiveFiltersCount() }})</span>\n      </button>\n    </div>\n  </div>\n</div>", styles: ["@charset \"UTF-8\";.filter-container{display:flex;flex-direction:column;width:100%;height:100%;min-height:600px;max-height:70vh;overflow:hidden}.filter-info{background:var(--page-background-color);border:var(--primary-border);border-radius:var(--input-radius);padding:12px 16px;margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.filter-info .info-content h3{margin:0 0 2px;font-size:16px;font-weight:600;color:var(--primary-font-color);line-height:1.2}.filter-info .info-content .info-subtitle{margin:0;font-size:var(--tertiary-font-size);color:var(--secondary-font-color);line-height:1.3}.filter-info .filter-count-badge{background:var(--primary-color);color:var(--surface-color);font-size:12px;font-weight:600;padding:6px 12px;border-radius:16px;border:none}.filter-controls{display:flex;flex:1;min-height:400px;overflow:hidden;border:var(--primary-border);border-radius:var(--input-radius);background:var(--surface-color)}.filter-sidebar{width:280px;background:var(--page-background-color);border-right:var(--primary-border);border-radius:var(--input-radius) 0 0 0;padding:20px 0;overflow-y:auto;max-height:100%}.filter-sidebar .sidebar-section .section-header{padding:0 24px 12px;font-size:var(--tertiary-font-size);font-weight:var(--primary-font-weight);color:var(--secondary-font-color);text-transform:uppercase;letter-spacing:.5px}.filter-sidebar .sidebar-section .filter-category{margin:0;list-style:none;padding:0}.filter-sidebar .sidebar-section .filter-category .category-item{margin:0}.filter-sidebar .sidebar-section .filter-category .category-item .category-button{width:100%;background:none;border:none;padding:12px 24px;text-align:left;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:14px;color:var(--primary-font-color);transition:all .2s ease;position:relative}.filter-sidebar .sidebar-section .filter-category .category-item .category-button:hover{background:var(--secondary-background-color)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button.active{background:var(--diet-quinary-color);color:var(--primary-color);font-weight:var(--primary-font-weight)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button.active:before{content:\"\";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--primary-color)}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-icon{margin-right:12px;font-size:16px}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-label{flex:1}.filter-sidebar .sidebar-section .filter-category .category-item .category-button .category-arrow{font-size:12px;color:var(--tertiary-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters{padding:0 24px 0 52px;margin-top:8px}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag{display:inline-flex;align-items:center;background:var(--status-info-bg);color:var(--status-info-color);font-size:12px;padding:4px 8px;border-radius:6px;margin:2px 4px 2px 0;border:var(--status-info-border);cursor:pointer;transition:all .2s ease}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag:hover{background:var(--status-info-color);color:var(--surface-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag .tag-remove{margin-left:6px;font-weight:700;color:var(--status-info-color)}.filter-sidebar .sidebar-section .filter-category .category-item .applied-filters .applied-tag .tag-remove:hover{color:var(--surface-color)}.filter-content{flex:1;padding:20px 24px;overflow-y:auto;background:var(--surface-color);border-radius:0 8px 0 0;max-height:100%}.filter-content .active-filters-summary{background:var(--page-background-color);border:var(--primary-border);border-radius:8px;padding:20px;margin-bottom:24px}.filter-content .active-filters-summary .summary-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.filter-content .active-filters-summary .summary-header h3{margin:0;font-size:16px;font-weight:600;color:var(--primary-font-color)}.filter-content .active-filters-summary .summary-header .clear-all-btn{background:none;border:var(--primary-border);color:var(--secondary-font-color);font-size:12px;padding:6px 12px;border-radius:6px;cursor:pointer;transition:all .2s ease}.filter-content .active-filters-summary .summary-header .clear-all-btn:hover{background:var(--secondary-background-color);border-color:var(--tertiary-color)}.filter-content .active-filters-summary .active-filters-list .active-filter-item{margin-bottom:12px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-field-name{font-size:13px;font-weight:600;color:#475569;margin-bottom:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values{display:flex;flex-wrap:wrap;gap:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag{background:var(--primary-color);color:var(--surface-color);font-size:12px;padding:4px 10px;border-radius:16px;border:none;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:6px}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag:hover{background:#0e9a9a}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag .value-remove{font-weight:700;opacity:.8}.filter-content .active-filters-summary .active-filters-list .active-filter-item .filter-values .filter-value-tag .value-remove:hover{opacity:1}.filter-content .field-configuration .content-header{margin-bottom:24px}.filter-content .field-configuration .content-header h3{margin:0 0 8px;font-size:20px;font-weight:600;color:var(--primary-font-color)}.filter-content .field-configuration .content-header .content-subtitle{margin:0;font-size:14px;color:var(--secondary-font-color);line-height:1.5}.filter-content .field-configuration .filter-section .section-title{font-size:16px;font-weight:600;color:var(--primary-font-color);margin:0 0 16px}.filter-content .field-configuration .filter-section .options-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}.filter-content .field-configuration .filter-section .options-grid .option-checkbox{display:flex;align-items:center;padding:12px 16px;border:var(--primary-border);border-radius:8px;cursor:pointer;transition:all .2s ease;background:var(--surface-color)}.filter-content .field-configuration .filter-section .options-grid .option-checkbox:hover{border-color:#d1d5db;background:#f9fafb}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected{border-color:var(--primary-color);background:#f0fdfa}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-input{display:none}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-custom{width:20px;height:20px;border:2px solid #d1d5db;border-radius:4px;margin-right:12px;position:relative;flex-shrink:0;transition:all .2s ease}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .checkbox-custom:after{content:\"\\2713\";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--surface-color);font-size:12px;font-weight:700;opacity:0;transition:opacity .2s ease}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected .checkbox-custom{background:var(--primary-color);border-color:var(--primary-color)}.filter-content .field-configuration .filter-section .options-grid .option-checkbox.selected .checkbox-custom:after{opacity:1}.filter-content .field-configuration .filter-section .options-grid .option-checkbox .option-label{font-size:14px;color:var(--primary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .boolean-options{display:flex;gap:16px}.filter-content .field-configuration .filter-section .boolean-options .boolean-option{display:flex;align-items:center;padding:16px 20px;border:var(--primary-border);border-radius:8px;cursor:pointer;transition:all .2s ease;background:var(--surface-color);min-width:120px}.filter-content .field-configuration .filter-section .boolean-options .boolean-option:hover{border-color:#d1d5db;background:#f9fafb}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected{border-color:var(--primary-color);background:#f0fdfa}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-input{display:none}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-custom{width:20px;height:20px;border:2px solid #d1d5db;border-radius:50%;margin-right:12px;position:relative;flex-shrink:0;transition:all .2s ease}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .radio-custom:after{content:\"\";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;background:var(--primary-color);border-radius:50%;opacity:0;transition:opacity .2s ease}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected .radio-custom{border-color:var(--primary-color)}.filter-content .field-configuration .filter-section .boolean-options .boolean-option.selected .radio-custom:after{opacity:1}.filter-content .field-configuration .filter-section .boolean-options .boolean-option .option-label{font-size:14px;color:var(--primary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .range-inputs{display:flex;align-items:flex-end;gap:16px}.filter-content .field-configuration .filter-section .range-inputs .range-field-group{flex:1}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-label{display:block;font-size:13px;font-weight:500;color:#374151;margin-bottom:8px}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-input{width:100%;padding:12px 16px;border:var(--primary-border);border-radius:8px;font-size:14px;background:var(--surface-color);transition:border-color .2s ease}.filter-content .field-configuration .filter-section .range-inputs .range-field-group .range-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #10b3b31a}.filter-content .field-configuration .filter-section .range-inputs .range-separator{padding:12px 8px 0;font-size:14px;color:var(--secondary-font-color);font-weight:500}.filter-content .field-configuration .filter-section .text-input-group .text-label{display:block;font-size:13px;font-weight:500;color:#374151;margin-bottom:8px}.filter-content .field-configuration .filter-section .text-input-group .text-input{width:100%;padding:12px 16px;border:var(--primary-border);border-radius:8px;font-size:14px;background:var(--surface-color);transition:border-color .2s ease}.filter-content .field-configuration .filter-section .text-input-group .text-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #10b3b31a}.filter-content .field-configuration .filter-section .text-input-group .input-hint{display:block;font-size:12px;color:var(--secondary-font-color);margin-top:6px}.filter-content .no-field-selected{display:flex;align-items:center;justify-content:center;height:100%;min-height:300px}.filter-content .no-field-selected .empty-state{text-align:center;max-width:400px}.filter-content .no-field-selected .empty-state .empty-icon{font-size:48px;margin-bottom:16px}.filter-content .no-field-selected .empty-state h3{margin:0 0 12px;font-size:20px;font-weight:600;color:var(--primary-font-color)}.filter-content .no-field-selected .empty-state p{margin:0;font-size:14px;color:var(--secondary-font-color);line-height:1.5}.filter-footer{background:var(--surface-color);border-top:var(--primary-border);border-radius:0 0 8px 8px;padding:16px 20px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0;min-height:70px}.filter-footer .footer-left{display:flex;align-items:center;gap:16px}.filter-footer .footer-left .results-preview{display:flex;align-items:center;gap:8px}.filter-footer .footer-left .results-preview .results-label{font-size:14px;color:var(--secondary-font-color)}.filter-footer .footer-left .results-preview .results-count{font-size:16px;font-weight:600;color:var(--primary-color);background:var(--status-success-bg);padding:4px 12px;border-radius:6px;border:var(--status-success-border)}.filter-footer .footer-left .filter-summary{font-size:14px;color:#6b7280;background:var(--secondary-background-color);padding:8px 12px;border-radius:6px}.filter-footer .footer-actions{display:flex;align-items:center;gap:12px}.filter-footer .footer-actions .footer-btn{padding:12px 24px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;border:none}.filter-footer .footer-actions .footer-btn.cancel-btn{background:var(--surface-color);color:var(--secondary-font-color);border:var(--primary-border)}.filter-footer .footer-actions .footer-btn.cancel-btn:hover{background:#f9fafb;border-color:#d1d5db}.filter-footer .footer-actions .footer-btn.apply-btn{background:var(--primary-color);color:var(--surface-color);border:2px solid var(--primary-color);box-shadow:0 4px 12px #10b3b34d}.filter-footer .footer-actions .footer-btn.apply-btn:hover:not(:disabled){background:#0e9a9a;border-color:#0e9a9a;transform:translateY(-1px);box-shadow:0 6px 16px #10b3b366}.filter-footer .footer-actions .footer-btn.apply-btn:disabled{background:#9ca3af;border-color:#9ca3af;cursor:not-allowed;transform:none;box-shadow:none}.filter-footer .footer-actions .footer-btn.apply-btn .apply-count{background:#fff3;padding:2px 6px;border-radius:10px;font-size:12px;margin-left:4px}.filter-footer .footer-actions .footer-btn .btn-icon{font-size:16px}@media (max-width: 768px){.filter-container{min-width:95vw;max-width:95vw;max-height:90vh}.filter-controls{flex-direction:column}.filter-sidebar{width:100%;max-height:200px;order:2}.filter-content{order:1;padding:16px 20px}.filter-footer{padding:16px 20px;flex-direction:column;gap:12px}.filter-footer .footer-left,.filter-footer .footer-actions{width:100%;justify-content:center}}@keyframes slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}\n"] }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvbW1vbi1saWJzL2NvcmUvc3JjL2xpYi90b29scy9maWx0ZXIvZmlsdGVyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvbW1vbi1saWJzL2NvcmUvc3JjL2xpYi90b29scy9maWx0ZXIvZmlsdGVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFDakYsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDeEUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDckUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDM0UsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUNsRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDekQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQzs7O0FBRTFFLGtDQUFrQztBQUNsQyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxJQUFJ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bUI7d0JBQ25CLGVBQWU7d0JBQ2Ysa0JBQWtCO3dCQUNsQixlQUFlO3FCQUNoQixjQUdXO3dCQUNWLE9BQU8sQ0FBQyxTQUFTLEVBQUU7NEJBQ2pCLFVBQVUsQ0FBQyxRQUFRLEVBQUU7Z0NBQ25CLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLGtCQUFrQixFQUFFLENBQUM7Z0NBQ3BELE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQUUsQ0FBQyxDQUFDOzZCQUM3RSxDQUFDO3lCQUNILENBQUM7cUJBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEluamVjdCwgaW5qZWN0LCBJbmplY3Rpb25Ub2tlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEFwcFNlbGVjdGJveENvbXBvbmVudCB9IGZyb20gJy4uL2FwcC1zZWxlY3Rib3gvYXBwLXNlbGVjdGJveC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQXBwQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi4vYXBwLWJ1dHRvbi9hcHAtYnV0dG9uLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBcHBJbnB1dENvbXBvbmVudCB9IGZyb20gJy4uL2FwcC1pbnB1dC9hcHAtaW5wdXQuY29tcG9uZW50JztcbmltcG9ydCB7IERhdGVQaWNrZXJDb21wb25lbnQgfSBmcm9tICcuLi9kYXRlLXBpY2tlci9kYXRlLXBpY2tlci5jb21wb25lbnQnO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBNYXRTZWxlY3RNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9zZWxlY3QnO1xuaW1wb3J0IHsgTWF0Rm9ybUZpZWxkTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZm9ybS1maWVsZCc7XG5pbXBvcnQgeyBNYXRPcHRpb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9jb3JlJztcbmltcG9ydCB7IE1hdERpYWxvZ1JlZiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyB0cmlnZ2VyLCBzdHlsZSwgdHJhbnNpdGlvbiwgYW5pbWF0ZSB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuXG4vLyBJbmplY3Rpb24gdG9rZW4gZm9yIGRpYWxvZyBkYXRhXG5leHBvcnQgY29uc3QgRElBTE9HX0RBVEFfVE9LRU4gPSBuZXcgSW5qZWN0aW9uVG9rZW48YW55PignZGlhbG9nRGF0YScpO1xuXG5pbnRlcmZhY2UgRmlsdGVyIHtcbiAgZmllbGQ6IHN0cmluZztcbiAgb3BlcmF0b3I6IHN0cmluZztcbiAgdmFsdWU6IGFueTtcbiAgdmFsdWVUbz86IGFueTtcbiAgaW5wdXRUeXBlOiAnc2VsZWN0JyB8ICdpbnB1dCcgfCAnbnVtYmVyJyB8ICdkYXRlJyB8ICdib29sZWFuJztcbn1cblxuaW50ZXJmYWNlIEZpZWxkT3B0aW9uIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbiAgaW5wdXRUeXBlOiAnc2VsZWN0JyB8ICdpbnB1dCcgfCAnbnVtYmVyJyB8ICdkYXRlJyB8ICdib29sZWFuJztcbn1cblxuaW50ZXJmYWNlIE9wZXJhdG9yT3B0aW9uIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbn1cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYXBwLWZpbHRlcicsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgQXBwU2VsZWN0Ym94Q29tcG9uZW50LFxuICAgIEFwcEJ1dHRvbkNvbXBvbmVudCxcbiAgICBBcHBJbnB1dENvbXBvbmVudCxcbiAgICBEYXRlUGlja2VyQ29tcG9uZW50LFxuICAgIE1hdFNlbGVjdE1vZHVsZSxcbiAgICBNYXRGb3JtRmllbGRNb2R1bGUsXG4gICAgTWF0T3B0aW9uTW9kdWxlXG4gIF0sXG4gIHRlbXBsYXRlVXJsOiAnLi9maWx0ZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybDogJy4vZmlsdGVyLmNvbXBvbmVudC5zY3NzJyxcbiAgYW5pbWF0aW9uczogW1xuICAgIHRyaWdnZXIoJ3NsaWRlSW4nLCBbXG4gICAgICB0cmFuc2l0aW9uKCc6ZW50ZXInLCBbXG4gICAgICAgIHN0eWxlKHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgyMHB4KScgfSksXG4gICAgICAgIGFuaW1hdGUoJzMwMG1zIGVhc2Utb3V0Jywgc3R5bGUoeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKDApJyB9KSlcbiAgICAgIF0pXG4gICAgXSlcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBGaWx0ZXJDb21wb25lbnQge1xuICBmaWVsZHM6IEZpZWxkT3B0aW9uW10gPSBbXTtcbiAgb3BlcmF0b3JzOiBPcGVyYXRvck9wdGlvbltdID0gW107XG4gIG9wZXJhdG9yc01hcDogeyBba2V5OiBzdHJpbmddOiBPcGVyYXRvck9wdGlvbltdIH0gPSB7fTtcbiAgdmFsdWVzTWFwOiB7IFtrZXk6IHN0cmluZ106IGFueVtdIH0gPSB7fTtcblxuICAvLyBOZXcgc3RhdGUgbWFuYWdlbWVudCBmb3Igc2lkZWJhciBhcHByb2FjaFxuICBzZWxlY3RlZEZpZWxkOiBzdHJpbmcgPSAnJztcbiAgc2VsZWN0ZWRGaWVsZE9iajogRmllbGRPcHRpb24gfCBudWxsID0gbnVsbDtcbiAgYXBwbGllZEZpbHRlcnM6IHsgW2ZpZWxkOiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuICBzaG93QWR2YW5jZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZGF0YVRpdGxlOiBzdHJpbmcgPSAnQWxsIERhdGEnO1xuXG4gIC8vIExlZ2FjeSBzdXBwb3J0XG4gIGZpbHRlcnM6IEZpbHRlcltdID0gW107XG4gIGxvZ2ljOiAnQU5EJyB8ICdPUicgPSAnQU5EJztcblxuICBwcml2YXRlIHJlYWRvbmx5IGRpYWxvZ1JlZiA9IGluamVjdChNYXREaWFsb2dSZWY8YW55Pik7XG4gIGRhdGEgPSBpbmplY3Q8YW55PihESUFMT0dfREFUQV9UT0tFTik7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgdGhpcy5maWVsZHMgPSB0aGlzLmRhdGEuZmllbGRzIHx8IFtdO1xuICAgICAgdGhpcy5vcGVyYXRvcnMgPSB0aGlzLmRhdGEub3BlcmF0b3JzIHx8IFtdO1xuICAgICAgdGhpcy5vcGVyYXRvcnNNYXAgPSB0aGlzLmRhdGEub3BlcmF0b3JzTWFwIHx8IHt9O1xuICAgICAgdGhpcy52YWx1ZXNNYXAgPSB0aGlzLmRhdGEudmFsdWVzTWFwIHx8IHt9O1xuICAgICAgdGhpcy5kYXRhVGl0bGUgPSB0aGlzLmRhdGEudGl0bGUgfHwgJ0FsbCBEYXRhJztcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIGZpcnN0IGZpZWxkIGlmIGF2YWlsYWJsZVxuICAgICAgaWYgKHRoaXMuZmllbGRzLmxlbmd0aCA+IDAgJiYgIXRoaXMuc2VsZWN0ZWRGaWVsZCkge1xuICAgICAgICB0aGlzLnNlbGVjdEZpZWxkKHRoaXMuZmllbGRzWzBdKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29udmVydCBsZWdhY3kgZmlsdGVycyBpZiBwcm92aWRlZFxuICAgICAgaWYgKHRoaXMuZGF0YS5maWx0ZXJzICYmIHRoaXMuZGF0YS5maWx0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5jb252ZXJ0TGVnYWN5RmlsdGVycyh0aGlzLmRhdGEuZmlsdGVycyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gRmllbGQgU2VsZWN0aW9uXG4gIHNlbGVjdEZpZWxkKGZpZWxkOiBGaWVsZE9wdGlvbikge1xuICAgIHRoaXMuc2VsZWN0ZWRGaWVsZCA9IGZpZWxkLnZhbHVlO1xuICAgIHRoaXMuc2VsZWN0ZWRGaWVsZE9iaiA9IGZpZWxkO1xuICB9XG5cbiAgLy8gR2V0IGZpZWxkLXNwZWNpZmljIHZhbHVlc1xuICBnZXRWYWx1ZXMoZmllbGQ6IHN0cmluZyk6IGFueVtdIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZXNNYXBbZmllbGRdIHx8IFtdO1xuICB9XG5cbiAgLy8gR2V0IGZpZWxkIGljb24gYmFzZWQgb24gaW5wdXQgdHlwZVxuICBnZXRGaWVsZEljb24oaW5wdXRUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAoaW5wdXRUeXBlKSB7XG4gICAgICBjYXNlICdzZWxlY3QnOiByZXR1cm4gJ/Cfk4snO1xuICAgICAgY2FzZSAnYm9vbGVhbic6IHJldHVybiAn4piR77iPJztcbiAgICAgIGNhc2UgJ2RhdGUnOiByZXR1cm4gJ/Cfk4UnO1xuICAgICAgY2FzZSAnbnVtYmVyJzogcmV0dXJuICfwn5SiJztcbiAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAn8J+TnSc7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGZpZWxkIGRlc2NyaXB0aW9uXG4gIGdldEZpZWxkRGVzY3JpcHRpb24oZmllbGQ6IEZpZWxkT3B0aW9uKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKGZpZWxkLmlucHV0VHlwZSkge1xuICAgICAgY2FzZSAnc2VsZWN0JzogcmV0dXJuIGBTZWxlY3Qgb25lIG9yIG1vcmUgJHtmaWVsZC5sYWJlbC50b0xvd2VyQ2FzZSgpfSBvcHRpb25zYDtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiByZXR1cm4gYENob29zZSB0cnVlIG9yIGZhbHNlIGZvciAke2ZpZWxkLmxhYmVsLnRvTG93ZXJDYXNlKCl9YDtcbiAgICAgIGNhc2UgJ2RhdGUnOiByZXR1cm4gYFNldCBkYXRlIHJhbmdlIGZvciAke2ZpZWxkLmxhYmVsLnRvTG93ZXJDYXNlKCl9YDtcbiAgICAgIGNhc2UgJ251bWJlcic6IHJldHVybiBgU2V0IG51bWVyaWMgcmFuZ2UgZm9yICR7ZmllbGQubGFiZWwudG9Mb3dlckNhc2UoKX1gO1xuICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgZGVmYXVsdDogcmV0dXJuIGBFbnRlciB0ZXh0IHRvIHNlYXJjaCBpbiAke2ZpZWxkLmxhYmVsLnRvTG93ZXJDYXNlKCl9YDtcbiAgICB9XG4gIH1cblxuICAvLyBPcHRpb24gU2VsZWN0aW9uIGZvciBTZWxlY3QgZmllbGRzXG4gIGlzT3B0aW9uU2VsZWN0ZWQoZmllbGQ6IHN0cmluZywgb3B0aW9uOiBhbnkpOiBib29sZWFuIHtcbiAgICBjb25zdCBmaWVsZEZpbHRlcnMgPSB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXTtcbiAgICBpZiAoIWZpZWxkRmlsdGVycyB8fCAhZmllbGRGaWx0ZXJzLnZhbHVlcykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBmaWVsZEZpbHRlcnMudmFsdWVzLmluY2x1ZGVzKG9wdGlvbik7XG4gIH1cblxuICB0b2dnbGVPcHRpb24oZmllbGQ6IHN0cmluZywgb3B0aW9uOiBhbnkpIHtcbiAgICBpZiAoIXRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdKSB7XG4gICAgICB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXSA9IHsgdHlwZTogJ3NlbGVjdCcsIHZhbHVlczogW10gfTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF0/LnZhbHVlcyB8fCBbXTtcbiAgICBjb25zdCBpbmRleCA9IHZhbHVlcy5pbmRleE9mKG9wdGlvbik7XG4gICAgXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMucHVzaChvcHRpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEJvb2xlYW4gU2VsZWN0aW9uXG4gIGlzQm9vbGVhblNlbGVjdGVkKGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZmllbGRGaWx0ZXIgPSB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXTtcbiAgICByZXR1cm4gZmllbGRGaWx0ZXIgJiYgZmllbGRGaWx0ZXIudmFsdWUgPT09IHZhbHVlO1xuICB9XG5cbiAgc2V0Qm9vbGVhblZhbHVlKGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMuaXNCb29sZWFuU2VsZWN0ZWQoZmllbGQsIHZhbHVlKSkge1xuICAgICAgZGVsZXRlIHRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXSA9IHsgdHlwZTogJ2Jvb2xlYW4nLCB2YWx1ZSB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIFJhbmdlIFZhbHVlcyAoTnVtYmVyL0RhdGUpXG4gIGdldFJhbmdlVmFsdWUoZmllbGQ6IHN0cmluZywgdHlwZTogJ21pbicgfCAnbWF4Jyk6IGFueSB7XG4gICAgY29uc3QgZmllbGRGaWx0ZXIgPSB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXTtcbiAgICBpZiAoIWZpZWxkRmlsdGVyIHx8IGZpZWxkRmlsdGVyLnR5cGUgIT09ICdyYW5nZScpIHJldHVybiAnJztcbiAgICByZXR1cm4gZmllbGRGaWx0ZXJbdHlwZV0gfHwgJyc7XG4gIH1cblxuICBzZXRSYW5nZU1pblZhbHVlKGZpZWxkOiBzdHJpbmcsIGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLnNldFJhbmdlVmFsdWVJbnRlcm5hbChmaWVsZCwgJ21pbicsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH1cblxuICBzZXRSYW5nZU1heFZhbHVlKGZpZWxkOiBzdHJpbmcsIGV2ZW50OiBhbnkpIHtcbiAgICB0aGlzLnNldFJhbmdlVmFsdWVJbnRlcm5hbChmaWVsZCwgJ21heCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIHNldFJhbmdlVmFsdWVJbnRlcm5hbChmaWVsZDogc3RyaW5nLCB0eXBlOiAnbWluJyB8ICdtYXgnLCB2YWx1ZTogYW55KSB7XG4gICAgaWYgKCF0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXSkge1xuICAgICAgdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF0gPSB7IHR5cGU6ICdyYW5nZScgfTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF1bdHlwZV0gPSB2YWx1ZTtcbiAgICBcbiAgICAvLyBSZW1vdmUgaWYgYm90aCBtaW4gYW5kIG1heCBhcmUgZW1wdHlcbiAgICBpZiAoIXRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdLm1pbiAmJiAhdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF0ubWF4KSB7XG4gICAgICBkZWxldGUgdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF07XG4gICAgfVxuICB9XG5cbiAgLy8gVGV4dCBWYWx1ZXNcbiAgZ2V0VGV4dFZhbHVlKGZpZWxkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZpZWxkRmlsdGVyID0gdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF07XG4gICAgcmV0dXJuIGZpZWxkRmlsdGVyICYmIGZpZWxkRmlsdGVyLnR5cGUgPT09ICd0ZXh0JyA/IGZpZWxkRmlsdGVyLnZhbHVlIDogJyc7XG4gIH1cblxuICBzZXRUZXh0VmFsdWUoZmllbGQ6IHN0cmluZywgZXZlbnQ6IGFueSkge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIFxuICAgIGlmICghdmFsdWUudHJpbSgpKSB7XG4gICAgICBkZWxldGUgdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdID0geyB0eXBlOiAndGV4dCcsIHZhbHVlIH07XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGZpbHRlcnMgZm9yIGEgc3BlY2lmaWMgZmllbGRcbiAgZ2V0RmllbGRGaWx0ZXJzKGZpZWxkOiBzdHJpbmcpOiBhbnlbXSB7XG4gICAgY29uc3QgZmllbGRGaWx0ZXIgPSB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXTtcbiAgICBpZiAoIWZpZWxkRmlsdGVyKSByZXR1cm4gW107XG4gICAgXG4gICAgc3dpdGNoIChmaWVsZEZpbHRlci50eXBlKSB7XG4gICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICByZXR1cm4gZmllbGRGaWx0ZXIudmFsdWVzIHx8IFtdO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiBbZmllbGRGaWx0ZXIudmFsdWVdO1xuICAgICAgY2FzZSAncmFuZ2UnOlxuICAgICAgICBjb25zdCBwYXJ0cyA9IFtdO1xuICAgICAgICBpZiAoZmllbGRGaWx0ZXIubWluKSBwYXJ0cy5wdXNoKGDiiaUgJHtmaWVsZEZpbHRlci5taW59YCk7XG4gICAgICAgIGlmIChmaWVsZEZpbHRlci5tYXgpIHBhcnRzLnB1c2goYOKJpCAke2ZpZWxkRmlsdGVyLm1heH1gKTtcbiAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIHJldHVybiBbZmllbGRGaWx0ZXIudmFsdWVdO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbW92ZSBmaWVsZCBmaWx0ZXJcbiAgcmVtb3ZlRmllbGRGaWx0ZXIoZmllbGQ6IHN0cmluZywgZmlsdGVyOiBhbnkpIHtcbiAgICBjb25zdCBmaWVsZEZpbHRlciA9IHRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdO1xuICAgIGlmICghZmllbGRGaWx0ZXIpIHJldHVybjtcbiAgICBcbiAgICBpZiAoZmllbGRGaWx0ZXIudHlwZSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gZmllbGRGaWx0ZXIudmFsdWVzLmluZGV4T2YoZmlsdGVyKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGZpZWxkRmlsdGVyLnZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpZiAoZmllbGRGaWx0ZXIudmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF07XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGRpc3BsYXkgdGV4dCBmb3IgZmlsdGVyXG4gIGdldEZpbHRlckRpc3BsYXlUZXh0KGZpbHRlcjogYW55KTogc3RyaW5nIHtcbiAgICByZXR1cm4gU3RyaW5nKGZpbHRlcik7XG4gIH1cblxuICAvLyBHZXQgYWN0aXZlIGZpbHRlciBmaWVsZHNcbiAgZ2V0QWN0aXZlRmlsdGVyRmllbGRzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5hcHBsaWVkRmlsdGVycyk7XG4gIH1cblxuICAvLyBHZXQgZmllbGQgbGFiZWwgYnkgZmllbGQgbmFtZVxuICBnZXRGaWVsZExhYmVsKGZpZWxkTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBmaWVsZCA9IHRoaXMuZmllbGRzLmZpbmQoZiA9PiBmLnZhbHVlID09PSBmaWVsZE5hbWUpO1xuICAgIHJldHVybiBmaWVsZCA/IGZpZWxkLmxhYmVsIDogZmllbGROYW1lO1xuICB9XG5cbiAgLy8gQ2xlYXIgYWxsIGZpbHRlcnNcbiAgY2xlYXJBbGxGaWx0ZXJzKCkge1xuICAgIHRoaXMuYXBwbGllZEZpbHRlcnMgPSB7fTtcbiAgfVxuXG4gIC8vIENvdW50IGFjdGl2ZSBmaWx0ZXJzXG4gIGdldEFjdGl2ZUZpbHRlcnNDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmFwcGxpZWRGaWx0ZXJzKS5sZW5ndGg7XG4gIH1cblxuICAvLyBHZXQgZGF0YSB0aXRsZVxuICBnZXREYXRhVGl0bGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhVGl0bGU7XG4gIH1cblxuICAvLyBBZHZhbmNlZCBvcHRpb25zXG4gIGhhc0FkdmFuY2VkT3B0aW9ucyhmaWVsZDogRmllbGRPcHRpb24pOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmllbGQuaW5wdXRUeXBlID09PSAnaW5wdXQnIHx8IGZpZWxkLmlucHV0VHlwZSA9PT0gJ251bWJlcic7XG4gIH1cblxuICB0b2dnbGVBZHZhbmNlZCgpIHtcbiAgICB0aGlzLnNob3dBZHZhbmNlZCA9ICF0aGlzLnNob3dBZHZhbmNlZDtcbiAgfVxuXG4gIC8vIEZpbHRlciBzdW1tYXJ5XG4gIGdldEZpbHRlclN1bW1hcnkoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjb3VudCA9IHRoaXMuZ2V0QWN0aXZlRmlsdGVyc0NvdW50KCk7XG4gICAgaWYgKGNvdW50ID09PSAwKSByZXR1cm4gJyc7XG4gICAgXG4gICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICByZXR1cm4gJzEgYWN0aXZlIGZpbHRlcic7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBgJHtjb3VudH0gZmlsdGVycyBhcHBsaWVkYDtcbiAgfVxuXG4gIC8vIEVzdGltYXRlZCByZXN1bHRzIChtb2NrIGltcGxlbWVudGF0aW9uKVxuICBnZXRFc3RpbWF0ZWRSZXN1bHRzKCk6IHN0cmluZyB7XG4gICAgLy8gVGhpcyB3b3VsZCBiZSByZXBsYWNlZCB3aXRoIGFjdHVhbCBjb3VudCBsb2dpY1xuICAgIGNvbnN0IGJhc2VDb3VudCA9IDIyNDA7XG4gICAgY29uc3QgZmlsdGVyUmVkdWN0aW9uID0gdGhpcy5nZXRBY3RpdmVGaWx0ZXJzQ291bnQoKSAqIDAuMztcbiAgICBjb25zdCBlc3RpbWF0ZWQgPSBNYXRoLmZsb29yKGJhc2VDb3VudCAqICgxIC0gZmlsdGVyUmVkdWN0aW9uKSk7XG4gICAgcmV0dXJuIGVzdGltYXRlZC50b0xvY2FsZVN0cmluZygpO1xuICB9XG5cbiAgLy8gQ29udmVydCB0byBsZWdhY3kgZm9ybWF0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gIHByaXZhdGUgY29udmVydFRvTGVnYWN5RmlsdGVycygpOiBGaWx0ZXJbXSB7XG4gICAgY29uc3QgbGVnYWN5RmlsdGVyczogRmlsdGVyW10gPSBbXTtcbiAgICBcbiAgICBPYmplY3QuZW50cmllcyh0aGlzLmFwcGxpZWRGaWx0ZXJzKS5mb3JFYWNoKChbZmllbGQsIGZpbHRlcl0pID0+IHtcbiAgICAgIGNvbnN0IGZpZWxkT2JqID0gdGhpcy5maWVsZHMuZmluZChmID0+IGYudmFsdWUgPT09IGZpZWxkKTtcbiAgICAgIGlmICghZmllbGRPYmopIHJldHVybjtcbiAgICAgIFxuICAgICAgc3dpdGNoIChmaWx0ZXIudHlwZSkge1xuICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgIGZpbHRlci52YWx1ZXMuZm9yRWFjaCgodmFsdWU6IGFueSkgPT4ge1xuICAgICAgICAgICAgbGVnYWN5RmlsdGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgIG9wZXJhdG9yOiAnZXEnLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgaW5wdXRUeXBlOiAnc2VsZWN0J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgIGxlZ2FjeUZpbHRlcnMucHVzaCh7XG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIG9wZXJhdG9yOiAnZXEnLFxuICAgICAgICAgICAgdmFsdWU6IGZpbHRlci52YWx1ZSxcbiAgICAgICAgICAgIGlucHV0VHlwZTogJ2Jvb2xlYW4nXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JhbmdlJzoge1xuICAgICAgICAgIGlmIChmaWx0ZXIubWluICYmIGZpbHRlci5tYXgpIHtcbiAgICAgICAgICAgIGxlZ2FjeUZpbHRlcnMucHVzaCh7XG4gICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICBvcGVyYXRvcjogJ2JldHdlZW4nLFxuICAgICAgICAgICAgICB2YWx1ZTogZmlsdGVyLm1pbixcbiAgICAgICAgICAgICAgdmFsdWVUbzogZmlsdGVyLm1heCxcbiAgICAgICAgICAgICAgaW5wdXRUeXBlOiBmaWVsZE9iai5pbnB1dFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLm1pbikge1xuICAgICAgICAgICAgbGVnYWN5RmlsdGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgIG9wZXJhdG9yOiAnZ3RlJyxcbiAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlci5taW4sXG4gICAgICAgICAgICAgIGlucHV0VHlwZTogZmllbGRPYmouaW5wdXRUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlci5tYXgpIHtcbiAgICAgICAgICAgIGxlZ2FjeUZpbHRlcnMucHVzaCh7XG4gICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICBvcGVyYXRvcjogJ2x0ZScsXG4gICAgICAgICAgICAgIHZhbHVlOiBmaWx0ZXIubWF4LFxuICAgICAgICAgICAgICBpbnB1dFR5cGU6IGZpZWxkT2JqLmlucHV0VHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgIGxlZ2FjeUZpbHRlcnMucHVzaCh7XG4gICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgIG9wZXJhdG9yOiAnY29udGFpbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZpbHRlci52YWx1ZSxcbiAgICAgICAgICAgIGlucHV0VHlwZTogJ2lucHV0J1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBsZWdhY3lGaWx0ZXJzO1xuICB9XG5cbiAgLy8gQ29udmVydCBsZWdhY3kgZmlsdGVycyB0byBuZXcgZm9ybWF0XG4gIHByaXZhdGUgY29udmVydExlZ2FjeUZpbHRlcnMobGVnYWN5RmlsdGVyczogRmlsdGVyW10pIHtcbiAgICBsZWdhY3lGaWx0ZXJzLmZvckVhY2goZmlsdGVyID0+IHtcbiAgICAgIGNvbnN0IGZpZWxkID0gZmlsdGVyLmZpZWxkO1xuICAgICAgXG4gICAgICBzd2l0Y2ggKGZpbHRlci5pbnB1dFR5cGUpIHtcbiAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICBpZiAoIXRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXSA9IHsgdHlwZTogJ3NlbGVjdCcsIHZhbHVlczogW10gfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXS52YWx1ZXMuaW5jbHVkZXMoZmlsdGVyLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF0udmFsdWVzLnB1c2goZmlsdGVyLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgIHRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdID0geyB0eXBlOiAnYm9vbGVhbicsIHZhbHVlOiBmaWx0ZXIudmFsdWUgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgaWYgKGZpbHRlci5vcGVyYXRvciA9PT0gJ2JldHdlZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXSA9IHsgXG4gICAgICAgICAgICAgIHR5cGU6ICdyYW5nZScsIFxuICAgICAgICAgICAgICBtaW46IGZpbHRlci52YWx1ZSwgXG4gICAgICAgICAgICAgIG1heDogZmlsdGVyLnZhbHVlVG8gXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLm9wZXJhdG9yID09PSAnZ3RlJyB8fCBmaWx0ZXIub3BlcmF0b3IgPT09ICdndCcpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF0pIHtcbiAgICAgICAgICAgICAgdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF0gPSB7IHR5cGU6ICdyYW5nZScgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdLm1pbiA9IGZpbHRlci52YWx1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlci5vcGVyYXRvciA9PT0gJ2x0ZScgfHwgZmlsdGVyLm9wZXJhdG9yID09PSAnbHQnKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdKSB7XG4gICAgICAgICAgICAgIHRoaXMuYXBwbGllZEZpbHRlcnNbZmllbGRdID0geyB0eXBlOiAncmFuZ2UnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFwcGxpZWRGaWx0ZXJzW2ZpZWxkXS5tYXggPSBmaWx0ZXIudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbnB1dCc6XG4gICAgICAgICAgdGhpcy5hcHBsaWVkRmlsdGVyc1tmaWVsZF0gPSB7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IGZpbHRlci52YWx1ZSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gRGlhbG9nIGFjdGlvbnNcbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKCk7XG4gIH1cblxuICBhcHBseSgpIHtcbiAgICBjb25zdCBsZWdhY3lGaWx0ZXJzID0gdGhpcy5jb252ZXJ0VG9MZWdhY3lGaWx0ZXJzKCk7XG4gICAgdGhpcy5kaWFsb2dSZWYuY2xvc2UoeyBcbiAgICAgIGZpbHRlcnM6IGxlZ2FjeUZpbHRlcnMsIFxuICAgICAgbG9naWM6IHRoaXMubG9naWMsXG4gICAgICBhcHBsaWVkRmlsdGVyczogdGhpcy5hcHBsaWVkRmlsdGVycyBcbiAgICB9KTtcbiAgfVxuXG4gIC8vIExlZ2FjeSBtZXRob2Qgc3VwcG9ydFxuICByZXNldCgpIHtcbiAgICB0aGlzLmFwcGxpZWRGaWx0ZXJzID0ge307XG4gICAgdGhpcy5zZWxlY3RlZEZpZWxkID0gJyc7XG4gICAgdGhpcy5zZWxlY3RlZEZpZWxkT2JqID0gbnVsbDtcbiAgICBpZiAodGhpcy5maWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5zZWxlY3RGaWVsZCh0aGlzLmZpZWxkc1swXSk7XG4gICAgfVxuICB9XG59ICIsIjxkaXYgY2xhc3M9XCJmaWx0ZXItY29udGFpbmVyXCI+XG4gIDwhLS0gRmlsdGVyIEluZm8gSGVhZGVyIC0tPlxuICA8ZGl2IGNsYXNzPVwiZmlsdGVyLWluZm9cIj5cbiAgICA8ZGl2IGNsYXNzPVwiaW5mby1jb250ZW50XCI+XG4gICAgICA8aDM+RmlsdGVycyBmb3I6IHt7IGdldERhdGFUaXRsZSgpIH19PC9oMz5cbiAgICAgIDxwIGNsYXNzPVwiaW5mby1zdWJ0aXRsZVwiPlNlZSByZXN1bHRzIGluIHlvdXIgdmlldyBiYXNlZCBvbiB0aGUgZmlsdGVycyB5b3Ugc2VsZWN0IGhlcmUuPC9wPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItY291bnQtYmFkZ2VcIiAqbmdJZj1cImdldEFjdGl2ZUZpbHRlcnNDb3VudCgpID4gMFwiPlxuICAgICAge3sgZ2V0QWN0aXZlRmlsdGVyc0NvdW50KCkgfX0gYXBwbGllZFxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICA8IS0tIE1haW4gQ29udGVudCAtLT5cbiAgPGRpdiBjbGFzcz1cImZpbHRlci1jb250cm9sc1wiPlxuICAgIDwhLS0gTGVmdCBTaWRlYmFyIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItc2lkZWJhclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInNpZGViYXItc2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1oZWFkZXJcIj5GaWx0ZXJzPC9kaXY+XG4gICAgICAgIDx1bCBjbGFzcz1cImZpbHRlci1jYXRlZ29yeVwiPlxuICAgICAgICAgIDxsaSBjbGFzcz1cImNhdGVnb3J5LWl0ZW1cIiAqbmdGb3I9XCJsZXQgZmllbGQgb2YgZmllbGRzOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICBjbGFzcz1cImNhdGVnb3J5LWJ1dHRvblwiIFxuICAgICAgICAgICAgICBbY2xhc3MuYWN0aXZlXT1cInNlbGVjdGVkRmllbGQgPT09IGZpZWxkLnZhbHVlXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdEZpZWxkKGZpZWxkKVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNhdGVnb3J5LWljb25cIj57eyBnZXRGaWVsZEljb24oZmllbGQuaW5wdXRUeXBlKSB9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXRlZ29yeS1sYWJlbFwiPnt7IGZpZWxkLmxhYmVsIH19PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNhdGVnb3J5LWFycm93XCI+4oC6PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYXBwbGllZC1maWx0ZXJzXCIgKm5nSWY9XCJnZXRGaWVsZEZpbHRlcnMoZmllbGQudmFsdWUpLmxlbmd0aCA+IDBcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBjbGFzcz1cImFwcGxpZWQtdGFnXCIgXG4gICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGZpbHRlciBvZiBnZXRGaWVsZEZpbHRlcnMoZmllbGQudmFsdWUpXCJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwicmVtb3ZlRmllbGRGaWx0ZXIoZmllbGQudmFsdWUsIGZpbHRlcilcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICAgICAgICB7eyBnZXRGaWx0ZXJEaXNwbGF5VGV4dChmaWx0ZXIpIH19XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0YWctcmVtb3ZlXCI+w5c8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBSaWdodCBDb250ZW50IC0tPlxuICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItY29udGVudFwiPlxuICAgICAgPCEtLSBBY3RpdmUgRmlsdGVycyBTdW1tYXJ5IC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImFjdGl2ZS1maWx0ZXJzLXN1bW1hcnlcIiAqbmdJZj1cImdldEFjdGl2ZUZpbHRlcnNDb3VudCgpID4gMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3VtbWFyeS1oZWFkZXJcIj5cbiAgICAgICAgICA8aDM+QWN0aXZlIEZpbHRlcnMgKHt7IGdldEFjdGl2ZUZpbHRlcnNDb3VudCgpIH19KTwvaDM+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsZWFyLWFsbC1idG5cIiAoY2xpY2spPVwiY2xlYXJBbGxGaWx0ZXJzKClcIiB0eXBlPVwiYnV0dG9uXCI+Q2xlYXIgQWxsPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aXZlLWZpbHRlcnMtbGlzdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3RpdmUtZmlsdGVyLWl0ZW1cIiAqbmdGb3I9XCJsZXQgZmllbGROYW1lIG9mIGdldEFjdGl2ZUZpbHRlckZpZWxkcygpXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLWZpZWxkLW5hbWVcIj57eyBnZXRGaWVsZExhYmVsKGZpZWxkTmFtZSkgfX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItdmFsdWVzXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJmaWx0ZXItdmFsdWUtdGFnXCJcbiAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgdmFsdWUgb2YgZ2V0RmllbGRGaWx0ZXJzKGZpZWxkTmFtZSlcIlxuICAgICAgICAgICAgICAgIChjbGljayk9XCJyZW1vdmVGaWVsZEZpbHRlcihmaWVsZE5hbWUsIHZhbHVlKVwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIHt7IGdldEZpbHRlckRpc3BsYXlUZXh0KHZhbHVlKSB9fVxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidmFsdWUtcmVtb3ZlXCI+w5c8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gRmllbGQgQ29uZmlndXJhdGlvbiAtLT5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWVsZC1jb25maWd1cmF0aW9uXCIgKm5nSWY9XCJzZWxlY3RlZEZpZWxkT2JqXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWhlYWRlclwiPlxuICAgICAgICAgIDxoMz57eyBzZWxlY3RlZEZpZWxkT2JqLmxhYmVsIH19PC9oMz5cbiAgICAgICAgICA8cCBjbGFzcz1cImNvbnRlbnQtc3VidGl0bGVcIj57eyBnZXRGaWVsZERlc2NyaXB0aW9uKHNlbGVjdGVkRmllbGRPYmopIH19PC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFNlbGVjdCBUeXBlIENvbmZpZ3VyYXRpb24gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItc2VjdGlvblwiICpuZ0lmPVwic2VsZWN0ZWRGaWVsZE9iai5pbnB1dFR5cGUgPT09ICdzZWxlY3QnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5BdmFpbGFibGUgT3B0aW9uczwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25zLWdyaWRcIj5cbiAgICAgICAgICAgIDxsYWJlbCBcbiAgICAgICAgICAgICAgY2xhc3M9XCJvcHRpb24tY2hlY2tib3hcIlxuICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgb3B0aW9uIG9mIGdldFZhbHVlcyhzZWxlY3RlZEZpZWxkT2JqLnZhbHVlKVwiXG4gICAgICAgICAgICAgIFtjbGFzcy5zZWxlY3RlZF09XCJpc09wdGlvblNlbGVjdGVkKHNlbGVjdGVkRmllbGRPYmoudmFsdWUsIG9wdGlvbilcIj5cbiAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwiaXNPcHRpb25TZWxlY3RlZChzZWxlY3RlZEZpZWxkT2JqLnZhbHVlLCBvcHRpb24pXCJcbiAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInRvZ2dsZU9wdGlvbihzZWxlY3RlZEZpZWxkT2JqLnZhbHVlLCBvcHRpb24pXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImNoZWNrYm94LWlucHV0XCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hlY2tib3gtY3VzdG9tXCI+PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbi1sYWJlbFwiPnt7IG9wdGlvbiB9fTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gQm9vbGVhbiBUeXBlIENvbmZpZ3VyYXRpb24gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItc2VjdGlvblwiICpuZ0lmPVwic2VsZWN0ZWRGaWVsZE9iai5pbnB1dFR5cGUgPT09ICdib29sZWFuJ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+U2VsZWN0IFZhbHVlPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJvb2xlYW4tb3B0aW9uc1wiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYm9vbGVhbi1vcHRpb25cIiBbY2xhc3Muc2VsZWN0ZWRdPVwiaXNCb29sZWFuU2VsZWN0ZWQoc2VsZWN0ZWRGaWVsZE9iai52YWx1ZSwgdHJ1ZSlcIj5cbiAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiIFxuICAgICAgICAgICAgICAgIFtuYW1lXT1cIidib29sZWFuLScgKyBzZWxlY3RlZEZpZWxkT2JqLnZhbHVlXCJcbiAgICAgICAgICAgICAgICBbY2hlY2tlZF09XCJpc0Jvb2xlYW5TZWxlY3RlZChzZWxlY3RlZEZpZWxkT2JqLnZhbHVlLCB0cnVlKVwiXG4gICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJzZXRCb29sZWFuVmFsdWUoc2VsZWN0ZWRGaWVsZE9iai52YWx1ZSwgdHJ1ZSlcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwicmFkaW8taW5wdXRcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyYWRpby1jdXN0b21cIj48L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwib3B0aW9uLWxhYmVsXCI+VHJ1ZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJib29sZWFuLW9wdGlvblwiIFtjbGFzcy5zZWxlY3RlZF09XCJpc0Jvb2xlYW5TZWxlY3RlZChzZWxlY3RlZEZpZWxkT2JqLnZhbHVlLCBmYWxzZSlcIj5cbiAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiIFxuICAgICAgICAgICAgICAgIFtuYW1lXT1cIidib29sZWFuLScgKyBzZWxlY3RlZEZpZWxkT2JqLnZhbHVlXCJcbiAgICAgICAgICAgICAgICBbY2hlY2tlZF09XCJpc0Jvb2xlYW5TZWxlY3RlZChzZWxlY3RlZEZpZWxkT2JqLnZhbHVlLCBmYWxzZSlcIlxuICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwic2V0Qm9vbGVhblZhbHVlKHNlbGVjdGVkRmllbGRPYmoudmFsdWUsIGZhbHNlKVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJyYWRpby1pbnB1dFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJhZGlvLWN1c3RvbVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tbGFiZWxcIj5GYWxzZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gTnVtYmVyL0RhdGUgUmFuZ2UgQ29uZmlndXJhdGlvbiAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1zZWN0aW9uXCIgKm5nSWY9XCJzZWxlY3RlZEZpZWxkT2JqLmlucHV0VHlwZSA9PT0gJ251bWJlcicgfHwgc2VsZWN0ZWRGaWVsZE9iai5pbnB1dFR5cGUgPT09ICdkYXRlJ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+U2V0IFJhbmdlPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJhbmdlLWlucHV0c1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJhbmdlLWZpZWxkLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJhbmdlLWxhYmVsXCIgW2Zvcl09XCInbWluLScgKyBzZWxlY3RlZEZpZWxkT2JqLnZhbHVlXCI+XG4gICAgICAgICAgICAgICAge3sgc2VsZWN0ZWRGaWVsZE9iai5pbnB1dFR5cGUgPT09ICdkYXRlJyA/ICdGcm9tIERhdGUnIDogJ01pbmltdW0gVmFsdWUnIH19XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAqbmdJZj1cInNlbGVjdGVkRmllbGRPYmouaW5wdXRUeXBlID09PSAnbnVtYmVyJ1wiXG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiIFxuICAgICAgICAgICAgICAgIGNsYXNzPVwicmFuZ2UtaW5wdXRcIlxuICAgICAgICAgICAgICAgIFtpZF09XCInbWluLScgKyBzZWxlY3RlZEZpZWxkT2JqLnZhbHVlXCJcbiAgICAgICAgICAgICAgICBbdmFsdWVdPVwiZ2V0UmFuZ2VWYWx1ZShzZWxlY3RlZEZpZWxkT2JqLnZhbHVlLCAnbWluJylcIlxuICAgICAgICAgICAgICAgIChpbnB1dCk9XCJzZXRSYW5nZU1pblZhbHVlKHNlbGVjdGVkRmllbGRPYmoudmFsdWUsICRldmVudClcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgbWluaW11bVwiPlxuICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJzZWxlY3RlZEZpZWxkT2JqLmlucHV0VHlwZSA9PT0gJ2RhdGUnXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiIFxuICAgICAgICAgICAgICAgIGNsYXNzPVwicmFuZ2UtaW5wdXRcIlxuICAgICAgICAgICAgICAgIFtpZF09XCInbWluLScgKyBzZWxlY3RlZEZpZWxkT2JqLnZhbHVlXCJcbiAgICAgICAgICAgICAgICBbdmFsdWVdPVwiZ2V0UmFuZ2VWYWx1ZShzZWxlY3RlZEZpZWxkT2JqLnZhbHVlLCAnbWluJylcIlxuICAgICAgICAgICAgICAgIChpbnB1dCk9XCJzZXRSYW5nZU1pblZhbHVlKHNlbGVjdGVkRmllbGRPYmoudmFsdWUsICRldmVudClcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJhbmdlLXNlcGFyYXRvclwiPnRvPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmFuZ2UtZmllbGQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFuZ2UtbGFiZWxcIiBbZm9yXT1cIidtYXgtJyArIHNlbGVjdGVkRmllbGRPYmoudmFsdWVcIj5cbiAgICAgICAgICAgICAgICB7eyBzZWxlY3RlZEZpZWxkT2JqLmlucHV0VHlwZSA9PT0gJ2RhdGUnID8gJ1RvIERhdGUnIDogJ01heGltdW0gVmFsdWUnIH19XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAqbmdJZj1cInNlbGVjdGVkRmllbGRPYmouaW5wdXRUeXBlID09PSAnbnVtYmVyJ1wiXG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiIFxuICAgICAgICAgICAgICAgIGNsYXNzPVwicmFuZ2UtaW5wdXRcIlxuICAgICAgICAgICAgICAgIFtpZF09XCInbWF4LScgKyBzZWxlY3RlZEZpZWxkT2JqLnZhbHVlXCJcbiAgICAgICAgICAgICAgICBbdmFsdWVdPVwiZ2V0UmFuZ2VWYWx1ZShzZWxlY3RlZEZpZWxkT2JqLnZhbHVlLCAnbWF4JylcIlxuICAgICAgICAgICAgICAgIChpbnB1dCk9XCJzZXRSYW5nZU1heFZhbHVlKHNlbGVjdGVkRmllbGRPYmoudmFsdWUsICRldmVudClcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgbWF4aW11bVwiPlxuICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJzZWxlY3RlZEZpZWxkT2JqLmlucHV0VHlwZSA9PT0gJ2RhdGUnXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiIFxuICAgICAgICAgICAgICAgIGNsYXNzPVwicmFuZ2UtaW5wdXRcIlxuICAgICAgICAgICAgICAgIFtpZF09XCInbWF4LScgKyBzZWxlY3RlZEZpZWxkT2JqLnZhbHVlXCJcbiAgICAgICAgICAgICAgICBbdmFsdWVdPVwiZ2V0UmFuZ2VWYWx1ZShzZWxlY3RlZEZpZWxkT2JqLnZhbHVlLCAnbWF4JylcIlxuICAgICAgICAgICAgICAgIChpbnB1dCk9XCJzZXRSYW5nZU1heFZhbHVlKHNlbGVjdGVkRmllbGRPYmoudmFsdWUsICRldmVudClcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFRleHQgSW5wdXQgQ29uZmlndXJhdGlvbiAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1zZWN0aW9uXCIgKm5nSWY9XCJzZWxlY3RlZEZpZWxkT2JqLmlucHV0VHlwZSA9PT0gJ2lucHV0J1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+U2VhcmNoIFRleHQ8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1pbnB1dC1ncm91cFwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwidGV4dC1sYWJlbFwiIFtmb3JdPVwiJ3RleHQtJyArIHNlbGVjdGVkRmllbGRPYmoudmFsdWVcIj5cbiAgICAgICAgICAgICAgRW50ZXIgc2VhcmNoIHRlcm0gZm9yIHt7IHNlbGVjdGVkRmllbGRPYmoubGFiZWwudG9Mb3dlckNhc2UoKSB9fVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWlucHV0XCJcbiAgICAgICAgICAgICAgW2lkXT1cIid0ZXh0LScgKyBzZWxlY3RlZEZpZWxkT2JqLnZhbHVlXCJcbiAgICAgICAgICAgICAgW3ZhbHVlXT1cImdldFRleHRWYWx1ZShzZWxlY3RlZEZpZWxkT2JqLnZhbHVlKVwiXG4gICAgICAgICAgICAgIChpbnB1dCk9XCJzZXRUZXh0VmFsdWUoc2VsZWN0ZWRGaWVsZE9iai52YWx1ZSwgJGV2ZW50KVwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSB0byBzZWFyY2guLi5cIj5cbiAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImlucHV0LWhpbnRcIj5TZWFyY2ggd2lsbCBtYXRjaCBhbnkgcGFydCBvZiB0aGUgdGV4dDwvc21hbGw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gTm8gRmllbGQgU2VsZWN0ZWQgU3RhdGUgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwibm8tZmllbGQtc2VsZWN0ZWRcIiAqbmdJZj1cIiFzZWxlY3RlZEZpZWxkT2JqXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlbXB0eS1zdGF0ZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbXB0eS1pY29uXCI+8J+OrzwvZGl2PlxuICAgICAgICAgIDxoMz5TZWxlY3QgYSBGaWx0ZXI8L2gzPlxuICAgICAgICAgIDxwPkNob29zZSBhIGZpZWxkIGZyb20gdGhlIHNpZGViYXIgdG8gY29uZmlndXJlIHlvdXIgZmlsdGVycy4gWW91IGNhbiBhcHBseSBtdWx0aXBsZSBmaWx0ZXJzIHRvIG5hcnJvdyBkb3duIHlvdXIgcmVzdWx0cy48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDwhLS0gRm9vdGVyIC0tPlxuICA8ZGl2IGNsYXNzPVwiZmlsdGVyLWZvb3RlclwiPlxuICAgIDxkaXYgY2xhc3M9XCJmb290ZXItbGVmdFwiPlxuICAgICAgPGRpdiBjbGFzcz1cInJlc3VsdHMtcHJldmlld1wiICpuZ0lmPVwiZ2V0QWN0aXZlRmlsdGVyc0NvdW50KCkgPiAwXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0cy1sYWJlbFwiPlJlc3VsdHM6PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInJlc3VsdHMtY291bnRcIj57eyBnZXRFc3RpbWF0ZWRSZXN1bHRzKCkgfX08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItc3VtbWFyeVwiICpuZ0lmPVwiZ2V0QWN0aXZlRmlsdGVyc0NvdW50KCkgPT09IDBcIj5cbiAgICAgICAgTm8gZmlsdGVycyBhcHBsaWVkIC0gc2hvd2luZyBhbGwgcmVzdWx0c1xuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImZvb3Rlci1hY3Rpb25zXCI+XG4gICAgICA8YnV0dG9uIGNsYXNzPVwiZm9vdGVyLWJ0biBjYW5jZWwtYnRuXCIgKGNsaWNrKT1cImNhbmNlbCgpXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICBDYW5jZWxcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImZvb3Rlci1idG4gYXBwbHktYnRuXCIgKGNsaWNrKT1cImFwcGx5KClcIiB0eXBlPVwiYnV0dG9uXCIgW2Rpc2FibGVkXT1cImdldEFjdGl2ZUZpbHRlcnNDb3VudCgpID09PSAwXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYnRuLWljb25cIj7wn5SNPC9zcGFuPlxuICAgICAgICBBcHBseSBGaWx0ZXJzXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiYXBwbHktY291bnRcIiAqbmdJZj1cImdldEFjdGl2ZUZpbHRlcnNDb3VudCgpID4gMFwiPih7eyBnZXRBY3RpdmVGaWx0ZXJzQ291bnQoKSB9fSk8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj4iXX0=