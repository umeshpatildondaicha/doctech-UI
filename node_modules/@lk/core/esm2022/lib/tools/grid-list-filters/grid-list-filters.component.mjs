import { Component, Input, Output, EventEmitter, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { MatButtonModule } from '@angular/material/button';
import { MatIconModule } from '@angular/material/icon';
import { MatDialog } from '@angular/material/dialog';
import { AppButtonComponent } from '../app-button/app-button.component';
import { FilterComponent } from '../filter/filter.component';
import { DialogboxService } from '../dialogbox/dialogbox.component';
import * as i0 from "@angular/core";
export class GridListFiltersComponent {
    constructor() {
        this.fields = [];
        this.operators = [];
        this.operatorsMap = {};
        this.valuesMap = {};
        this.title = 'Filter Data';
        this.buttonText = 'Filter';
        this.buttonIcon = 'filter_list';
        this.filtersApplied = new EventEmitter();
        this.filtersCleared = new EventEmitter();
        this.dialog = inject(MatDialog);
        this.dialogboxService = inject(DialogboxService);
        this.appliedFiltersCount = 0;
    }
    openFiltersDialog() {
        const dialogRef = this.dialogboxService.openDialog(FilterComponent, {
            title: this.title,
            width: '600px',
            data: {
                fields: this.fields,
                operators: this.operators,
                operatorsMap: this.operatorsMap,
                valuesMap: this.valuesMap,
                title: this.title
            }
        });
        dialogRef.afterClosed().subscribe((result) => {
            if (result && result.filters) {
                this.appliedFiltersCount = result.filters.length;
                this.filtersApplied.emit(result.filters);
            }
        });
    }
    clearFilters() {
        this.appliedFiltersCount = 0;
        this.filtersCleared.emit();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: GridListFiltersComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: GridListFiltersComponent, isStandalone: true, selector: "app-grid-list-filters", inputs: { fields: "fields", operators: "operators", operatorsMap: "operatorsMap", valuesMap: "valuesMap", title: "title", buttonText: "buttonText", buttonIcon: "buttonIcon" }, outputs: { filtersApplied: "filtersApplied", filtersCleared: "filtersCleared" }, ngImport: i0, template: "<div class=\"grid-filters-container\">\n  <app-button\n    [text]=\"buttonText\"\n    [fontIcon]=\"buttonIcon\"\n    appearance=\"raised\"\n    color=\"primary\"\n    (btnClick)=\"openFiltersDialog()\"\n    [class]=\"'filter-button'\"\n  ></app-button>\n  \n  @if (appliedFiltersCount > 0) {\n    <span class=\"filter-badge\">{{ appliedFiltersCount }}</span>\n    <app-button\n      text=\"Clear\"\n      fontIcon=\"clear\"\n      appearance=\"flat\"\n      color=\"warn\"\n      (btnClick)=\"clearFilters()\"\n      [class]=\"'clear-button'\"\n    ></app-button>\n  }\n</div>\n\n", styles: [".grid-filters-container{display:flex;align-items:center;gap:8px}.filter-button{margin-right:8px}.filter-badge{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;background-color:#f44336;color:#fff;border-radius:10px;font-size:12px;font-weight:500}.clear-button{margin-left:4px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "ngmodule", type: MatButtonModule }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: AppButtonComponent, selector: "app-button", inputs: ["color", "type", "disabled", "appearance", "class", "text", "fontIcon"], outputs: ["btnClick"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: GridListFiltersComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-grid-list-filters', standalone: true, imports: [CommonModule, MatButtonModule, MatIconModule, AppButtonComponent], template: "<div class=\"grid-filters-container\">\n  <app-button\n    [text]=\"buttonText\"\n    [fontIcon]=\"buttonIcon\"\n    appearance=\"raised\"\n    color=\"primary\"\n    (btnClick)=\"openFiltersDialog()\"\n    [class]=\"'filter-button'\"\n  ></app-button>\n  \n  @if (appliedFiltersCount > 0) {\n    <span class=\"filter-badge\">{{ appliedFiltersCount }}</span>\n    <app-button\n      text=\"Clear\"\n      fontIcon=\"clear\"\n      appearance=\"flat\"\n      color=\"warn\"\n      (btnClick)=\"clearFilters()\"\n      [class]=\"'clear-button'\"\n    ></app-button>\n  }\n</div>\n\n", styles: [".grid-filters-container{display:flex;align-items:center;gap:8px}.filter-button{margin-right:8px}.filter-badge{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;background-color:#f44336;color:#fff;border-radius:10px;font-size:12px;font-weight:500}.clear-button{margin-left:4px}\n"] }]
        }], propDecorators: { fields: [{
                type: Input
            }], operators: [{
                type: Input
            }], operatorsMap: [{
                type: Input
            }], valuesMap: [{
                type: Input
            }], title: [{
                type: Input
            }], buttonText: [{
                type: Input
            }], buttonIcon: [{
                type: Input
            }], filtersApplied: [{
                type: Output
            }], filtersCleared: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZC1saXN0LWZpbHRlcnMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY29tbW9uLWxpYnMvY29yZS9zcmMvbGliL3Rvb2xzL2dyaWQtbGlzdC1maWx0ZXJzL2dyaWQtbGlzdC1maWx0ZXJzLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvbW1vbi1saWJzL2NvcmUvc3JjL2xpYi90b29scy9ncmlkLWxpc3QtZmlsdGVycy9ncmlkLWxpc3QtZmlsdGVycy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMvRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQzNELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN2RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDeEUsT0FBTyxFQUFFLGVBQWUsRUFBcUIsTUFBTSw0QkFBNEIsQ0FBQztBQUNoRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQzs7QUF1QnBFLE1BQU0sT0FBTyx3QkFBd0I7SUFQckM7UUFRVyxXQUFNLEdBQXNCLEVBQUUsQ0FBQztRQUMvQixjQUFTLEdBQXVDLEVBQUUsQ0FBQztRQUNuRCxpQkFBWSxHQUEwRCxFQUFFLENBQUM7UUFDekUsY0FBUyxHQUE2QixFQUFFLENBQUM7UUFDekMsVUFBSyxHQUFXLGFBQWEsQ0FBQztRQUM5QixlQUFVLEdBQVcsUUFBUSxDQUFDO1FBQzlCLGVBQVUsR0FBVyxhQUFhLENBQUM7UUFFbEMsbUJBQWMsR0FBRyxJQUFJLFlBQVksRUFBZ0IsQ0FBQztRQUNsRCxtQkFBYyxHQUFHLElBQUksWUFBWSxFQUFRLENBQUM7UUFFNUMsV0FBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzQixxQkFBZ0IsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNwRCx3QkFBbUIsR0FBVyxDQUFDLENBQUM7S0EyQmpDO0lBekJDLGlCQUFpQjtRQUNmLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsZUFBZSxFQUFFO1lBQ2xFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztZQUNqQixLQUFLLEVBQUUsT0FBTztZQUNkLElBQUksRUFBRTtnQkFDSixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07Z0JBQ25CLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztnQkFDekIsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZO2dCQUMvQixTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7Z0JBQ3pCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSzthQUNsQjtTQUNGLENBQUMsQ0FBQztRQUVILFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFXLEVBQUUsRUFBRTtZQUNoRCxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztnQkFDakQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzNDLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxZQUFZO1FBQ1YsSUFBSSxDQUFDLG1CQUFtQixHQUFHLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzdCLENBQUM7K0dBeENVLHdCQUF3QjttR0FBeEIsd0JBQXdCLGtWQzlCckMsc2tCQXVCQSxvWURHWSxZQUFZLDhCQUFFLGVBQWUsOEJBQUUsYUFBYSwrQkFBRSxrQkFBa0I7OzRGQUkvRCx3QkFBd0I7a0JBUHBDLFNBQVM7K0JBQ0UsdUJBQXVCLGNBQ3JCLElBQUksV0FDUCxDQUFDLFlBQVksRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLGtCQUFrQixDQUFDOzhCQUtsRSxNQUFNO3NCQUFkLEtBQUs7Z0JBQ0csU0FBUztzQkFBakIsS0FBSztnQkFDRyxZQUFZO3NCQUFwQixLQUFLO2dCQUNHLFNBQVM7c0JBQWpCLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFFSSxjQUFjO3NCQUF2QixNQUFNO2dCQUNHLGNBQWM7c0JBQXZCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTWF0QnV0dG9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvYnV0dG9uJztcbmltcG9ydCB7IE1hdEljb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9pY29uJztcbmltcG9ydCB7IE1hdERpYWxvZyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBBcHBCdXR0b25Db21wb25lbnQgfSBmcm9tICcuLi9hcHAtYnV0dG9uL2FwcC1idXR0b24uY29tcG9uZW50JztcbmltcG9ydCB7IEZpbHRlckNvbXBvbmVudCwgRElBTE9HX0RBVEFfVE9LRU4gfSBmcm9tICcuLi9maWx0ZXIvZmlsdGVyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2dib3hTZXJ2aWNlIH0gZnJvbSAnLi4vZGlhbG9nYm94L2RpYWxvZ2JveC5jb21wb25lbnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRGaWx0ZXJGaWVsZCB7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHR5cGU/OiAndGV4dCcgfCAnbnVtYmVyJyB8ICdkYXRlJyB8ICdzZWxlY3QnO1xuICBvcGVyYXRvcnM/OiBzdHJpbmdbXTtcbiAgdmFsdWVzPzogYW55W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZEZpbHRlciB7XG4gIGZpZWxkOiBzdHJpbmc7XG4gIG9wZXJhdG9yOiBzdHJpbmc7XG4gIHZhbHVlOiBhbnk7XG59XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FwcC1ncmlkLWxpc3QtZmlsdGVycycsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIE1hdEJ1dHRvbk1vZHVsZSwgTWF0SWNvbk1vZHVsZSwgQXBwQnV0dG9uQ29tcG9uZW50XSxcbiAgdGVtcGxhdGVVcmw6ICcuL2dyaWQtbGlzdC1maWx0ZXJzLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmw6ICcuL2dyaWQtbGlzdC1maWx0ZXJzLmNvbXBvbmVudC5zY3NzJ1xufSlcbmV4cG9ydCBjbGFzcyBHcmlkTGlzdEZpbHRlcnNDb21wb25lbnQge1xuICBASW5wdXQoKSBmaWVsZHM6IEdyaWRGaWx0ZXJGaWVsZFtdID0gW107XG4gIEBJbnB1dCgpIG9wZXJhdG9yczogeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH1bXSA9IFtdO1xuICBASW5wdXQoKSBvcGVyYXRvcnNNYXA6IHsgW2tleTogc3RyaW5nXTogeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH1bXSB9ID0ge307XG4gIEBJbnB1dCgpIHZhbHVlc01hcDogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9ID0ge307XG4gIEBJbnB1dCgpIHRpdGxlOiBzdHJpbmcgPSAnRmlsdGVyIERhdGEnO1xuICBASW5wdXQoKSBidXR0b25UZXh0OiBzdHJpbmcgPSAnRmlsdGVyJztcbiAgQElucHV0KCkgYnV0dG9uSWNvbjogc3RyaW5nID0gJ2ZpbHRlcl9saXN0JztcbiAgXG4gIEBPdXRwdXQoKSBmaWx0ZXJzQXBwbGllZCA9IG5ldyBFdmVudEVtaXR0ZXI8R3JpZEZpbHRlcltdPigpO1xuICBAT3V0cHV0KCkgZmlsdGVyc0NsZWFyZWQgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgcHJpdmF0ZSBkaWFsb2cgPSBpbmplY3QoTWF0RGlhbG9nKTtcbiAgcHJpdmF0ZSBkaWFsb2dib3hTZXJ2aWNlID0gaW5qZWN0KERpYWxvZ2JveFNlcnZpY2UpO1xuICBhcHBsaWVkRmlsdGVyc0NvdW50OiBudW1iZXIgPSAwO1xuXG4gIG9wZW5GaWx0ZXJzRGlhbG9nKCkge1xuICAgIGNvbnN0IGRpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nYm94U2VydmljZS5vcGVuRGlhbG9nKEZpbHRlckNvbXBvbmVudCwge1xuICAgICAgdGl0bGU6IHRoaXMudGl0bGUsXG4gICAgICB3aWR0aDogJzYwMHB4JyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZmllbGRzOiB0aGlzLmZpZWxkcyxcbiAgICAgICAgb3BlcmF0b3JzOiB0aGlzLm9wZXJhdG9ycyxcbiAgICAgICAgb3BlcmF0b3JzTWFwOiB0aGlzLm9wZXJhdG9yc01hcCxcbiAgICAgICAgdmFsdWVzTWFwOiB0aGlzLnZhbHVlc01hcCxcbiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGVcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRpYWxvZ1JlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmZpbHRlcnMpIHtcbiAgICAgICAgdGhpcy5hcHBsaWVkRmlsdGVyc0NvdW50ID0gcmVzdWx0LmZpbHRlcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLmZpbHRlcnNBcHBsaWVkLmVtaXQocmVzdWx0LmZpbHRlcnMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2xlYXJGaWx0ZXJzKCkge1xuICAgIHRoaXMuYXBwbGllZEZpbHRlcnNDb3VudCA9IDA7XG4gICAgdGhpcy5maWx0ZXJzQ2xlYXJlZC5lbWl0KCk7XG4gIH1cbn1cblxuIiwiPGRpdiBjbGFzcz1cImdyaWQtZmlsdGVycy1jb250YWluZXJcIj5cbiAgPGFwcC1idXR0b25cbiAgICBbdGV4dF09XCJidXR0b25UZXh0XCJcbiAgICBbZm9udEljb25dPVwiYnV0dG9uSWNvblwiXG4gICAgYXBwZWFyYW5jZT1cInJhaXNlZFwiXG4gICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAoYnRuQ2xpY2spPVwib3BlbkZpbHRlcnNEaWFsb2coKVwiXG4gICAgW2NsYXNzXT1cIidmaWx0ZXItYnV0dG9uJ1wiXG4gID48L2FwcC1idXR0b24+XG4gIFxuICBAaWYgKGFwcGxpZWRGaWx0ZXJzQ291bnQgPiAwKSB7XG4gICAgPHNwYW4gY2xhc3M9XCJmaWx0ZXItYmFkZ2VcIj57eyBhcHBsaWVkRmlsdGVyc0NvdW50IH19PC9zcGFuPlxuICAgIDxhcHAtYnV0dG9uXG4gICAgICB0ZXh0PVwiQ2xlYXJcIlxuICAgICAgZm9udEljb249XCJjbGVhclwiXG4gICAgICBhcHBlYXJhbmNlPVwiZmxhdFwiXG4gICAgICBjb2xvcj1cIndhcm5cIlxuICAgICAgKGJ0bkNsaWNrKT1cImNsZWFyRmlsdGVycygpXCJcbiAgICAgIFtjbGFzc109XCInY2xlYXItYnV0dG9uJ1wiXG4gICAgPjwvYXBwLWJ1dHRvbj5cbiAgfVxuPC9kaXY+XG5cbiJdfQ==