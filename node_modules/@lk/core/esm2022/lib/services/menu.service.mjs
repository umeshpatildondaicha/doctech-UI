import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
import * as i0 from "@angular/core";
export class MenuService {
    constructor() {
        this.menuSubject = new BehaviorSubject([]);
        // Doctor menu items
        this.doctorMenu = [
            {
                label: 'Dashboard',
                icon: 'dashboard',
                route: '/dashboard',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Appointments',
                icon: 'event',
                route: '/appointment',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Schedule',
                icon: 'schedule',
                route: '/schedule',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Patients',
                icon: 'groups',
                route: '/patient',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Chat',
                icon: 'chat',
                route: '/chat',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Patient Queue',
                icon: 'queue',
                route: '/patient-queue',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Admitted Patients',
                icon: 'local_hospital',
                route: '/doctor-treatment',
                section: 'main',
                userTypes: ['doctor']
            },
            {
                label: 'Exercises',
                icon: 'fitness_center',
                route: '/exercises',
                section: 'services',
                userTypes: ['doctor']
            },
            {
                label: 'Diet Plans',
                icon: 'track_changes',
                route: '/diet',
                section: 'services',
                userTypes: ['doctor']
            },
            {
                label: 'Billing',
                icon: 'credit_card',
                route: '/billing',
                section: 'administration',
                userTypes: ['doctor']
            },
            {
                label: 'Settings',
                icon: 'settings',
                route: '/settings',
                section: 'tools',
                userTypes: ['doctor']
            },
            {
                label: 'Help & Support',
                icon: 'help_center',
                route: '/help',
                section: 'tools',
                userTypes: ['doctor']
            }
        ];
        // Admin menu items
        this.adminMenu = [
            {
                label: 'Dashboard',
                icon: 'dashboard',
                route: '/admin-dashboard',
                section: 'main',
                userTypes: ['admin']
            },
            {
                label: 'Doctors Management',
                icon: 'local_hospital',
                route: '/admin/doctors',
                section: 'management',
                userTypes: ['admin']
            },
            {
                label: 'Hospital Services',
                icon: 'healing',
                route: '/admin/services',
                section: 'services',
                userTypes: ['admin']
            },
            {
                label: 'Doctor Permissions',
                icon: 'tune',
                route: '/admin/doctor-permissions',
                section: 'management',
                userTypes: ['admin']
            },
            {
                label: 'Role Management',
                icon: 'security',
                route: '/admin/roles',
                section: 'administration',
                userTypes: ['admin']
            },
            {
                label: 'Plans & Offers',
                icon: 'card_giftcard',
                route: '/admin/plans',
                section: 'administration',
                userTypes: ['admin']
            },
            {
                label: 'Rooms & Beds',
                icon: 'hotel',
                route: '/admin/rooms',
                section: 'services',
                userTypes: ['admin']
            },
            {
                label: 'Government Schemes',
                icon: 'account_balance',
                route: '/admin/schemes',
                section: 'administration',
                userTypes: ['admin']
            },
            {
                label: 'Settings',
                icon: 'settings',
                route: '/settings',
                section: 'tools',
                userTypes: ['admin']
            },
            {
                label: 'Help & Support',
                icon: 'help_center',
                route: '/admin/help',
                section: 'tools',
                userTypes: ['admin']
            }
        ];
    }
    getMenuForUserType(userType) {
        if (userType === 'doctor') {
            return this.doctorMenu;
        }
        else if (userType === 'admin') {
            return this.adminMenu;
        }
        return [];
    }
    updateMenu(userType) {
        const menu = this.getMenuForUserType(userType);
        this.menuSubject.next(menu);
    }
    getMenu() {
        return this.menuSubject.asObservable();
    }
    getCurrentMenu() {
        return this.menuSubject.value;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: MenuService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: MenuService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: MenuService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY29tbW9uLWxpYnMvY29yZS9zcmMvbGliL3NlcnZpY2VzL21lbnUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxlQUFlLEVBQWMsTUFBTSxNQUFNLENBQUM7O0FBTW5ELE1BQU0sT0FBTyxXQUFXO0lBdUt0QjtRQXRLUSxnQkFBVyxHQUFHLElBQUksZUFBZSxDQUFvQixFQUFFLENBQUMsQ0FBQztRQUVqRSxvQkFBb0I7UUFDWixlQUFVLEdBQXNCO1lBQ3RDO2dCQUNFLEtBQUssRUFBRSxXQUFXO2dCQUNsQixJQUFJLEVBQUUsV0FBVztnQkFDakIsS0FBSyxFQUFFLFlBQVk7Z0JBQ25CLE9BQU8sRUFBRSxNQUFNO2dCQUNmLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQzthQUN0QjtZQUNEO2dCQUNFLEtBQUssRUFBRSxjQUFjO2dCQUNyQixJQUFJLEVBQUUsT0FBTztnQkFDYixLQUFLLEVBQUUsY0FBYztnQkFDckIsT0FBTyxFQUFFLE1BQU07Z0JBQ2YsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDO2FBQ3RCO1lBQ0Q7Z0JBQ0UsS0FBSyxFQUFFLFVBQVU7Z0JBQ2pCLElBQUksRUFBRSxVQUFVO2dCQUNoQixLQUFLLEVBQUUsV0FBVztnQkFDbEIsT0FBTyxFQUFFLE1BQU07Z0JBQ2YsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDO2FBQ3RCO1lBQ0Q7Z0JBQ0UsS0FBSyxFQUFFLFVBQVU7Z0JBQ2pCLElBQUksRUFBRSxRQUFRO2dCQUNkLEtBQUssRUFBRSxVQUFVO2dCQUNqQixPQUFPLEVBQUUsTUFBTTtnQkFDZixTQUFTLEVBQUUsQ0FBQyxRQUFRLENBQUM7YUFDdEI7WUFDRDtnQkFDRSxLQUFLLEVBQUUsTUFBTTtnQkFD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QUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxPQUFPO1FBQ0wsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3pDLENBQUM7SUFFRCxjQUFjO1FBQ1osT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztJQUNoQyxDQUFDOytHQTdMVSxXQUFXO21IQUFYLFdBQVcsY0FGVixNQUFNOzs0RkFFUCxXQUFXO2tCQUh2QixVQUFVO21CQUFDO29CQUNWLFVBQVUsRUFBRSxNQUFNO2lCQUNuQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgU2lkZWJhck1lbnVJdGVtIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9zaWRlYmFybWVudS5pbnRlcmZhY2UnO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBNZW51U2VydmljZSB7XG4gIHByaXZhdGUgbWVudVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFNpZGViYXJNZW51SXRlbVtdPihbXSk7XG5cbiAgLy8gRG9jdG9yIG1lbnUgaXRlbXNcbiAgcHJpdmF0ZSBkb2N0b3JNZW51OiBTaWRlYmFyTWVudUl0ZW1bXSA9IFtcbiAgICB7IFxuICAgICAgbGFiZWw6ICdEYXNoYm9hcmQnLCBcbiAgICAgIGljb246ICdkYXNoYm9hcmQnLCBcbiAgICAgIHJvdXRlOiAnL2Rhc2hib2FyZCcsIFxuICAgICAgc2VjdGlvbjogJ21haW4nLFxuICAgICAgdXNlclR5cGVzOiBbJ2RvY3RvciddXG4gICAgfSxcbiAgICB7IFxuICAgICAgbGFiZWw6ICdBcHBvaW50bWVudHMnLCBcbiAgICAgIGljb246ICdldmVudCcsIFxuICAgICAgcm91dGU6ICcvYXBwb2ludG1lbnQnLCBcbiAgICAgIHNlY3Rpb246ICdtYWluJyxcbiAgICAgIHVzZXJUeXBlczogWydkb2N0b3InXVxuICAgIH0sXG4gICAgeyBcbiAgICAgIGxhYmVsOiAnU2NoZWR1bGUnLCBcbiAgICAgIGljb246ICdzY2hlZHVsZScsIFxuICAgICAgcm91dGU6ICcvc2NoZWR1bGUnLCBcbiAgICAgIHNlY3Rpb246ICdtYWluJyxcbiAgICAgIHVzZXJUeXBlczogWydkb2N0b3InXVxuICAgIH0sXG4gICAgeyBcbiAgICAgIGxhYmVsOiAnUGF0aWVudHMnLCBcbiAgICAgIGljb246ICdncm91cHMnLCBcbiAgICAgIHJvdXRlOiAnL3BhdGllbnQnLCBcbiAgICAgIHNlY3Rpb246ICdtYWluJyxcbiAgICAgIHVzZXJUeXBlczogWydkb2N0b3InXVxuICAgIH0sXG4gICAgeyBcbiAgICAgIGxhYmVsOiAnQ2hhdCcsIFxuICAgICAgaWNvbjogJ2NoYXQnLCBcbiAgICAgIHJvdXRlOiAnL2NoYXQnLCBcbiAgICAgIHNlY3Rpb246ICdtYWluJyxcbiAgICAgIHVzZXJUeXBlczogWydkb2N0b3InXVxuICAgIH0sXG4gICAgeyBcbiAgICAgIGxhYmVsOiAnUGF0aWVudCBRdWV1ZScsIFxuICAgICAgaWNvbjogJ3F1ZXVlJywgXG4gICAgICByb3V0ZTogJy9wYXRpZW50LXF1ZXVlJywgXG4gICAgICBzZWN0aW9uOiAnbWFpbicsXG4gICAgICB1c2VyVHlwZXM6IFsnZG9jdG9yJ11cbiAgICB9LFxuICAgIHsgXG4gICAgICBsYWJlbDogJ0FkbWl0dGVkIFBhdGllbnRzJywgXG4gICAgICBpY29uOiAnbG9jYWxfaG9zcGl0YWwnLCBcbiAgICAgIHJvdXRlOiAnL2RvY3Rvci10cmVhdG1lbnQnLCBcbiAgICAgIHNlY3Rpb246ICdtYWluJyxcbiAgICAgIHVzZXJUeXBlczogWydkb2N0b3InXVxuICAgIH0sXG4gICAgeyBcbiAgICAgIGxhYmVsOiAnRXhlcmNpc2VzJywgXG4gICAgICBpY29uOiAnZml0bmVzc19jZW50ZXInLCBcbiAgICAgIHJvdXRlOiAnL2V4ZXJjaXNlcycsIFxuICAgICAgc2VjdGlvbjogJ3NlcnZpY2VzJyxcbiAgICAgIHVzZXJUeXBlczogWydkb2N0b3InXVxuICAgIH0sXG4gICAgeyBcbiAgICAgIGxhYmVsOiAnRGlldCBQbGFucycsIFxuICAgICAgaWNvbjogJ3RyYWNrX2NoYW5nZXMnLCBcbiAgICAgIHJvdXRlOiAnL2RpZXQnLCBcbiAgICAgIHNlY3Rpb246ICdzZXJ2aWNlcycsXG4gICAgICB1c2VyVHlwZXM6IFsnZG9jdG9yJ11cbiAgICB9LFxuXG5cbiAgICB7IFxuICAgICAgbGFiZWw6ICdCaWxsaW5nJywgXG4gICAgICBpY29uOiAnY3JlZGl0X2NhcmQnLCBcbiAgICAgIHJvdXRlOiAnL2JpbGxpbmcnLCBcbiAgICAgIHNlY3Rpb246ICdhZG1pbmlzdHJhdGlvbicsXG4gICAgICB1c2VyVHlwZXM6IFsnZG9jdG9yJ11cbiAgICB9LFxuICAgIHsgXG4gICAgICBsYWJlbDogJ1NldHRpbmdzJywgXG4gICAgICBpY29uOiAnc2V0dGluZ3MnLCBcbiAgICAgIHJvdXRlOiAnL3NldHRpbmdzJywgXG4gICAgICBzZWN0aW9uOiAndG9vbHMnLFxuICAgICAgdXNlclR5cGVzOiBbJ2RvY3RvciddXG4gICAgfSxcbiAgICB7IFxuICAgICAgbGFiZWw6ICdIZWxwICYgU3VwcG9ydCcsIFxuICAgICAgaWNvbjogJ2hlbHBfY2VudGVyJywgXG4gICAgICByb3V0ZTogJy9oZWxwJywgXG4gICAgICBzZWN0aW9uOiAndG9vbHMnLFxuICAgICAgdXNlclR5cGVzOiBbJ2RvY3RvciddXG4gICAgfVxuICBdO1xuXG4gIC8vIEFkbWluIG1lbnUgaXRlbXNcbiAgcHJpdmF0ZSBhZG1pbk1lbnU6IFNpZGViYXJNZW51SXRlbVtdID0gW1xuICAgIHsgXG4gICAgICBsYWJlbDogJ0Rhc2hib2FyZCcsIFxuICAgICAgaWNvbjogJ2Rhc2hib2FyZCcsIFxuICAgICAgcm91dGU6ICcvYWRtaW4tZGFzaGJvYXJkJywgXG4gICAgICBzZWN0aW9uOiAnbWFpbicsXG4gICAgICB1c2VyVHlwZXM6IFsnYWRtaW4nXVxuICAgIH0sXG4gICAgeyBcbiAgICAgIGxhYmVsOiAnRG9jdG9ycyBNYW5hZ2VtZW50JywgXG4gICAgICBpY29uOiAnbG9jYWxfaG9zcGl0YWwnLCBcbiAgICAgIHJvdXRlOiAnL2FkbWluL2RvY3RvcnMnLCBcbiAgICAgIHNlY3Rpb246ICdtYW5hZ2VtZW50JyxcbiAgICAgIHVzZXJUeXBlczogWydhZG1pbiddXG4gICAgfSxcbiAgICB7IFxuICAgICAgbGFiZWw6ICdIb3NwaXRhbCBTZXJ2aWNlcycsIFxuICAgICAgaWNvbjogJ2hlYWxpbmcnLCBcbiAgICAgIHJvdXRlOiAnL2FkbWluL3NlcnZpY2VzJywgXG4gICAgICBzZWN0aW9uOiAnc2VydmljZXMnLFxuICAgICAgdXNlclR5cGVzOiBbJ2FkbWluJ11cbiAgICB9LFxuICAgIHsgXG4gICAgICBsYWJlbDogJ0RvY3RvciBQZXJtaXNzaW9ucycsIFxuICAgICAgaWNvbjogJ3R1bmUnLCBcbiAgICAgIHJvdXRlOiAnL2FkbWluL2RvY3Rvci1wZXJtaXNzaW9ucycsIFxuICAgICAgc2VjdGlvbjogJ21hbmFnZW1lbnQnLFxuICAgICAgdXNlclR5cGVzOiBbJ2FkbWluJ11cbiAgICB9LFxuICAgIHsgXG4gICAgICBsYWJlbDogJ1JvbGUgTWFuYWdlbWVudCcsIFxuICAgICAgaWNvbjogJ3NlY3VyaXR5JywgXG4gICAgICByb3V0ZTogJy9hZG1pbi9yb2xlcycsIFxuICAgICAgc2VjdGlvbjogJ2FkbWluaXN0cmF0aW9uJyxcbiAgICAgIHVzZXJUeXBlczogWydhZG1pbiddXG4gICAgfSxcbiAgICB7IFxuICAgICAgbGFiZWw6ICdQbGFucyAmIE9mZmVycycsIFxuICAgICAgaWNvbjogJ2NhcmRfZ2lmdGNhcmQnLCBcbiAgICAgIHJvdXRlOiAnL2FkbWluL3BsYW5zJywgXG4gICAgICBzZWN0aW9uOiAnYWRtaW5pc3RyYXRpb24nLFxuICAgICAgdXNlclR5cGVzOiBbJ2FkbWluJ11cbiAgICB9LFxuICAgIHsgXG4gICAgICBsYWJlbDogJ1Jvb21zICYgQmVkcycsIFxuICAgICAgaWNvbjogJ2hvdGVsJywgXG4gICAgICByb3V0ZTogJy9hZG1pbi9yb29tcycsIFxuICAgICAgc2VjdGlvbjogJ3NlcnZpY2VzJyxcbiAgICAgIHVzZXJUeXBlczogWydhZG1pbiddXG4gICAgfSxcbiAgICB7IFxuICAgICAgbGFiZWw6ICdHb3Zlcm5tZW50IFNjaGVtZXMnLCBcbiAgICAgIGljb246ICdhY2NvdW50X2JhbGFuY2UnLCBcbiAgICAgIHJvdXRlOiAnL2FkbWluL3NjaGVtZXMnLCBcbiAgICAgIHNlY3Rpb246ICdhZG1pbmlzdHJhdGlvbicsXG4gICAgICB1c2VyVHlwZXM6IFsnYWRtaW4nXVxuICAgIH0sXG4gICAgeyBcbiAgICAgIGxhYmVsOiAnU2V0dGluZ3MnLCBcbiAgICAgIGljb246ICdzZXR0aW5ncycsIFxuICAgICAgcm91dGU6ICcvc2V0dGluZ3MnLCBcbiAgICAgIHNlY3Rpb246ICd0b29scycsXG4gICAgICB1c2VyVHlwZXM6IFsnYWRtaW4nXVxuICAgIH0sXG4gICAgeyBcbiAgICAgIGxhYmVsOiAnSGVscCAmIFN1cHBvcnQnLCBcbiAgICAgIGljb246ICdoZWxwX2NlbnRlcicsIFxuICAgICAgcm91dGU6ICcvYWRtaW4vaGVscCcsIFxuICAgICAgc2VjdGlvbjogJ3Rvb2xzJyxcbiAgICAgIHVzZXJUeXBlczogWydhZG1pbiddXG4gICAgfVxuICBdO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBnZXRNZW51Rm9yVXNlclR5cGUodXNlclR5cGU6ICdkb2N0b3InIHwgJ2FkbWluJyk6IFNpZGViYXJNZW51SXRlbVtdIHtcbiAgICBpZiAodXNlclR5cGUgPT09ICdkb2N0b3InKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2N0b3JNZW51O1xuICAgIH0gZWxzZSBpZiAodXNlclR5cGUgPT09ICdhZG1pbicpIHtcbiAgICAgIHJldHVybiB0aGlzLmFkbWluTWVudTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgdXBkYXRlTWVudSh1c2VyVHlwZTogJ2RvY3RvcicgfCAnYWRtaW4nKTogdm9pZCB7XG4gICAgY29uc3QgbWVudSA9IHRoaXMuZ2V0TWVudUZvclVzZXJUeXBlKHVzZXJUeXBlKTtcbiAgICB0aGlzLm1lbnVTdWJqZWN0Lm5leHQobWVudSk7XG4gIH1cblxuICBnZXRNZW51KCk6IE9ic2VydmFibGU8U2lkZWJhck1lbnVJdGVtW10+IHtcbiAgICByZXR1cm4gdGhpcy5tZW51U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIGdldEN1cnJlbnRNZW51KCk6IFNpZGViYXJNZW51SXRlbVtdIHtcbiAgICByZXR1cm4gdGhpcy5tZW51U3ViamVjdC52YWx1ZTtcbiAgfVxufSAiXX0=