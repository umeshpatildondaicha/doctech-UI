<!-- Use @if() to ensure only one view renders at a time -->
@if (viewMode === 'login') {
  <!-- Show login page without sidebar and header -->
  <div class="login-view">
    <router-outlet></router-outlet>
  </div>
} @else {
  <!-- Main app layout - matches template-app reference implementation -->
  <div class="app-layout theme-teal" [class.sidebar-collapsed]="sidebarCollapsed">
    <app-sidebar
      [collapsed]="sidebarCollapsed"
      appTitle="Shree Clinic"
      (toggle)="toggleSidebar()"
    ></app-sidebar>
    <div class="main-section" [class.right-sidebar-expanded]="rightSidebarOpen && userType === 'DOCTOR'">
      <app-app-topbar></app-app-topbar>
      <div class="main-section-content">
        <main class="main-content">
          <router-outlet></router-outlet>
        </main>
        @if (userType === 'DOCTOR') {
          <app-right-sidebar
            [expanded]="rightSidebarOpen"
            (expandChange)="rightSidebarOpen = $event"
          >
            <app-app-patient-queue-content
              (startClick)="onStartPatient($event)"
              (patientClick)="onQueuePatientClick($event)"
            ></app-app-patient-queue-content>
          </app-right-sidebar>
        }
      </div>
    </div>
  </div>
}
