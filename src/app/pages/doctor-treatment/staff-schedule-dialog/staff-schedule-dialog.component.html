<div class="staff-schedule-dialog">
  <div class="schedule-header">
    <h2 class="schedule-title">Staff Schedule</h2>
    <div class="schedule-actions">
      <app-button
        appearance="stroked"
        [text]="'Today'"
        fontIcon="today"
        [class.active]="selectedView === 'today'"
        (btnClick)="onViewChange('today')">
      </app-button>
      <app-button
        appearance="stroked"
        [text]="'Week'"
        fontIcon="date_range"
        [class.active]="selectedView === 'week'"
        (btnClick)="onViewChange('week')">
      </app-button>
    </div>
  </div>

  <div class="shifts-container">
    <!-- Create New Shift Card -->
    <div class="shift-card create-shift-card" (click)="openCreateShiftDialog()">
      <div class="create-shift-content">
        <app-icon fontIcon="add" [size]="32" [color]="'#3b82f6'"></app-icon>
        <span class="create-shift-text">Create New Shift</span>
      </div>
    </div>

    <!-- Existing Shift Cards -->
    @for (shift of shifts; track shift) {
      <div class="shift-card">
        <div class="shift-header">
          <h4 class="shift-name">{{ shift.name }}</h4>
          <span class="shift-time">{{ shift.startTime }} - {{ shift.endTime }}</span>
        </div>
        <div class="shift-content">
          <div class="staff-count">{{ shift.staffCount }} staff members</div>
          <div class="staff-list">
            @for (staff of getStaffForShift(shift.id); track staff) {
              <span
                class="staff-tag">
                {{ staff.name }}
              </span>
            }
            @if (getStaffForShift(shift.id).length === 0) {
              <span class="no-staff">
                No staff assigned
              </span>
            }
          </div>
          <div class="shift-actions">
            <app-button
              appearance="icon"
              fontIcon="add"
              [title]="'Add Staff'"
              (btnClick)="openAddStaffDialog(shift.id); $event.stopPropagation()">
            </app-button>
          </div>
        </div>
      </div>
    }
  </div>
</div>
